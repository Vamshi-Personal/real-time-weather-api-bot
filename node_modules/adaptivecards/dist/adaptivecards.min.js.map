{"version":3,"file":"adaptivecards.min.js","mappings":"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","sources":["webpack://AdaptiveCards/webpack/universalModuleDefinition","webpack://AdaptiveCards/./src/activity-request.ts","webpack://AdaptiveCards/./src/adaptive-applet.ts","webpack://AdaptiveCards/./src/adaptivecards.ts","webpack://AdaptiveCards/./src/card-elements.ts","webpack://AdaptiveCards/./src/card-object.ts","webpack://AdaptiveCards/./src/carousel.ts","webpack://AdaptiveCards/./src/channel-adapter.ts","webpack://AdaptiveCards/./src/controls/collection.ts","webpack://AdaptiveCards/./src/controls/constants.ts","webpack://AdaptiveCards/./src/controls/index.ts","webpack://AdaptiveCards/./src/controls/menu-item.ts","webpack://AdaptiveCards/./src/controls/popup-control.ts","webpack://AdaptiveCards/./src/controls/popup-menu.ts","webpack://AdaptiveCards/./src/enums.ts","webpack://AdaptiveCards/./src/host-capabilities.ts","webpack://AdaptiveCards/./src/host-config.ts","webpack://AdaptiveCards/./src/registry.ts","webpack://AdaptiveCards/./src/serialization.ts","webpack://AdaptiveCards/./src/shared.ts","webpack://AdaptiveCards/./src/strings.ts","webpack://AdaptiveCards/./src/table.ts","webpack://AdaptiveCards/./src/text-formatters.ts","webpack://AdaptiveCards/./src/utils.ts","webpack://AdaptiveCards/./node_modules/ssr-window/ssr-window.esm.js","webpack://AdaptiveCards/./node_modules/dom7/dom7.esm.js","webpack://AdaptiveCards/./node_modules/swiper/shared/dom.js","webpack://AdaptiveCards/./node_modules/swiper/shared/utils.js","webpack://AdaptiveCards/./node_modules/swiper/shared/get-support.js","webpack://AdaptiveCards/./node_modules/swiper/shared/get-device.js","webpack://AdaptiveCards/./node_modules/swiper/shared/get-browser.js","webpack://AdaptiveCards/./node_modules/swiper/core/events-emitter.js","webpack://AdaptiveCards/./node_modules/swiper/core/update/index.js","webpack://AdaptiveCards/./node_modules/swiper/core/update/updateSize.js","webpack://AdaptiveCards/./node_modules/swiper/core/update/updateSlides.js","webpack://AdaptiveCards/./node_modules/swiper/core/update/updateAutoHeight.js","webpack://AdaptiveCards/./node_modules/swiper/core/update/updateSlidesOffset.js","webpack://AdaptiveCards/./node_modules/swiper/core/update/updateSlidesProgress.js","webpack://AdaptiveCards/./node_modules/swiper/core/update/updateProgress.js","webpack://AdaptiveCards/./node_modules/swiper/core/update/updateSlidesClasses.js","webpack://AdaptiveCards/./node_modules/swiper/core/update/updateActiveIndex.js","webpack://AdaptiveCards/./node_modules/swiper/core/update/updateClickedSlide.js","webpack://AdaptiveCards/./node_modules/swiper/core/transition/transitionEmit.js","webpack://AdaptiveCards/./node_modules/swiper/core/slide/index.js","webpack://AdaptiveCards/./node_modules/swiper/core/slide/slideTo.js","webpack://AdaptiveCards/./node_modules/swiper/core/slide/slideToLoop.js","webpack://AdaptiveCards/./node_modules/swiper/core/slide/slideNext.js","webpack://AdaptiveCards/./node_modules/swiper/core/slide/slidePrev.js","webpack://AdaptiveCards/./node_modules/swiper/core/slide/slideReset.js","webpack://AdaptiveCards/./node_modules/swiper/core/slide/slideToClosest.js","webpack://AdaptiveCards/./node_modules/swiper/core/slide/slideToClickedSlide.js","webpack://AdaptiveCards/./node_modules/swiper/core/loop/index.js","webpack://AdaptiveCards/./node_modules/swiper/core/loop/loopCreate.js","webpack://AdaptiveCards/./node_modules/swiper/core/loop/loopFix.js","webpack://AdaptiveCards/./node_modules/swiper/core/loop/loopDestroy.js","webpack://AdaptiveCards/./node_modules/swiper/core/events/onTouchStart.js","webpack://AdaptiveCards/./node_modules/swiper/core/events/onTouchMove.js","webpack://AdaptiveCards/./node_modules/swiper/core/events/onTouchEnd.js","webpack://AdaptiveCards/./node_modules/swiper/core/events/onResize.js","webpack://AdaptiveCards/./node_modules/swiper/core/events/onClick.js","webpack://AdaptiveCards/./node_modules/swiper/core/events/onScroll.js","webpack://AdaptiveCards/./node_modules/swiper/core/events/index.js","webpack://AdaptiveCards/./node_modules/swiper/core/breakpoints/setBreakpoint.js","webpack://AdaptiveCards/./node_modules/swiper/core/classes/index.js","webpack://AdaptiveCards/./node_modules/swiper/core/classes/addClasses.js","webpack://AdaptiveCards/./node_modules/swiper/core/classes/removeClasses.js","webpack://AdaptiveCards/./node_modules/swiper/core/defaults.js","webpack://AdaptiveCards/./node_modules/swiper/core/moduleExtendParams.js","webpack://AdaptiveCards/./node_modules/swiper/core/core.js","webpack://AdaptiveCards/./node_modules/swiper/core/translate/index.js","webpack://AdaptiveCards/./node_modules/swiper/core/translate/getTranslate.js","webpack://AdaptiveCards/./node_modules/swiper/core/translate/setTranslate.js","webpack://AdaptiveCards/./node_modules/swiper/core/translate/minTranslate.js","webpack://AdaptiveCards/./node_modules/swiper/core/translate/maxTranslate.js","webpack://AdaptiveCards/./node_modules/swiper/core/translate/translateTo.js","webpack://AdaptiveCards/./node_modules/swiper/core/transition/index.js","webpack://AdaptiveCards/./node_modules/swiper/core/transition/setTransition.js","webpack://AdaptiveCards/./node_modules/swiper/core/transition/transitionStart.js","webpack://AdaptiveCards/./node_modules/swiper/core/transition/transitionEnd.js","webpack://AdaptiveCards/./node_modules/swiper/core/grab-cursor/index.js","webpack://AdaptiveCards/./node_modules/swiper/core/grab-cursor/setGrabCursor.js","webpack://AdaptiveCards/./node_modules/swiper/core/grab-cursor/unsetGrabCursor.js","webpack://AdaptiveCards/./node_modules/swiper/core/breakpoints/index.js","webpack://AdaptiveCards/./node_modules/swiper/core/breakpoints/getBreakpoint.js","webpack://AdaptiveCards/./node_modules/swiper/core/check-overflow/index.js","webpack://AdaptiveCards/./node_modules/swiper/core/images/index.js","webpack://AdaptiveCards/./node_modules/swiper/core/images/loadImage.js","webpack://AdaptiveCards/./node_modules/swiper/core/images/preloadImages.js","webpack://AdaptiveCards/./node_modules/swiper/core/modules/resize/resize.js","webpack://AdaptiveCards/./node_modules/swiper/core/modules/observer/observer.js","webpack://AdaptiveCards/./node_modules/swiper/modules/virtual/virtual.js","webpack://AdaptiveCards/./node_modules/swiper/modules/keyboard/keyboard.js","webpack://AdaptiveCards/./node_modules/swiper/modules/mousewheel/mousewheel.js","webpack://AdaptiveCards/./node_modules/swiper/shared/create-element-if-not-defined.js","webpack://AdaptiveCards/./node_modules/swiper/modules/navigation/navigation.js","webpack://AdaptiveCards/./node_modules/swiper/shared/classes-to-selector.js","webpack://AdaptiveCards/./node_modules/swiper/modules/pagination/pagination.js","webpack://AdaptiveCards/./node_modules/swiper/modules/scrollbar/scrollbar.js","webpack://AdaptiveCards/./node_modules/swiper/modules/parallax/parallax.js","webpack://AdaptiveCards/./node_modules/swiper/modules/zoom/zoom.js","webpack://AdaptiveCards/./node_modules/swiper/modules/lazy/lazy.js","webpack://AdaptiveCards/./node_modules/swiper/modules/controller/controller.js","webpack://AdaptiveCards/./node_modules/swiper/modules/a11y/a11y.js","webpack://AdaptiveCards/./node_modules/swiper/modules/history/history.js","webpack://AdaptiveCards/./node_modules/swiper/modules/hash-navigation/hash-navigation.js","webpack://AdaptiveCards/./node_modules/swiper/modules/autoplay/autoplay.js","webpack://AdaptiveCards/./node_modules/swiper/modules/thumbs/thumbs.js","webpack://AdaptiveCards/./node_modules/swiper/modules/free-mode/free-mode.js","webpack://AdaptiveCards/./node_modules/swiper/modules/grid/grid.js","webpack://AdaptiveCards/./node_modules/swiper/modules/manipulation/methods/appendSlide.js","webpack://AdaptiveCards/./node_modules/swiper/modules/manipulation/methods/prependSlide.js","webpack://AdaptiveCards/./node_modules/swiper/modules/manipulation/methods/addSlide.js","webpack://AdaptiveCards/./node_modules/swiper/modules/manipulation/methods/removeSlide.js","webpack://AdaptiveCards/./node_modules/swiper/modules/manipulation/methods/removeAllSlides.js","webpack://AdaptiveCards/./node_modules/swiper/modules/manipulation/manipulation.js","webpack://AdaptiveCards/./node_modules/swiper/shared/effect-init.js","webpack://AdaptiveCards/./node_modules/swiper/shared/effect-target.js","webpack://AdaptiveCards/./node_modules/swiper/shared/effect-virtual-transition-end.js","webpack://AdaptiveCards/./node_modules/swiper/modules/effect-fade/effect-fade.js","webpack://AdaptiveCards/./node_modules/swiper/modules/effect-cube/effect-cube.js","webpack://AdaptiveCards/./node_modules/swiper/shared/create-shadow.js","webpack://AdaptiveCards/./node_modules/swiper/modules/effect-flip/effect-flip.js","webpack://AdaptiveCards/./node_modules/swiper/modules/effect-coverflow/effect-coverflow.js","webpack://AdaptiveCards/./node_modules/swiper/modules/effect-creative/effect-creative.js","webpack://AdaptiveCards/./node_modules/swiper/modules/effect-cards/effect-cards.js","webpack://AdaptiveCards/webpack/bootstrap","webpack://AdaptiveCards/webpack/runtime/define property getters","webpack://AdaptiveCards/webpack/runtime/hasOwnProperty shorthand","webpack://AdaptiveCards/webpack/runtime/make namespace object","webpack://AdaptiveCards/webpack/startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"AdaptiveCards\"] = factory();\n\telse\n\t\troot[\"AdaptiveCards\"] = factory();\n})(this, function() {\nreturn ","// Copyright (C) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport {\n    Authentication,\n    AuthCardButton,\n    UniversalAction,\n    TokenExchangeResource\n} from \"./card-elements\";\n\nexport enum ActivityRequestTrigger {\n    Automatic = \"automatic\",\n    Manual = \"manual\"\n}\n\nexport interface IActivityRequest {\n    readonly action: UniversalAction;\n    readonly trigger: ActivityRequestTrigger;\n    readonly attemptNumber: number;\n    readonly consecutiveActions: number;\n\n    authCode?: string;\n    authToken?: string;\n\n    retryAsync(): void;\n}\n\nexport class ActivityRequestError {\n    constructor(readonly code?: string, readonly message?: string) {}\n}\n\nexport abstract class ActivityResponse {\n    constructor(readonly request: IActivityRequest) {}\n}\n\nexport class SuccessResponse extends ActivityResponse {\n    constructor(readonly request: IActivityRequest, readonly rawContent?: string) {\n        super(request);\n    }\n}\n\nexport class ErrorResponse extends ActivityResponse {\n    constructor(readonly request: IActivityRequest, readonly error: ActivityRequestError) {\n        super(request);\n    }\n}\n\nexport class LoginRequestResponse extends ActivityResponse {\n    private _auth: Authentication;\n    readonly signinButton?: AuthCardButton;\n\n    constructor(readonly request: IActivityRequest, auth: Authentication) {\n        super(request);\n        this._auth = auth;\n\n        for (const button of this._auth.buttons) {\n            if (button.type === \"signin\" && button.value !== undefined) {\n                try {\n                    new URL(button.value);\n\n                    this.signinButton = button;\n\n                    break;\n                } catch (e) {\n                    // Ignore parsing error\n                }\n            }\n        }\n    }\n\n    get tokenExchangeResource(): TokenExchangeResource | undefined {\n        return this._auth.tokenExchangeResource;\n    }\n}\n","// Copyright (C) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport * as Enums from \"./enums\";\nimport * as Utils from \"./utils\";\nimport { GlobalSettings } from \"./shared\";\nimport { ChannelAdapter } from \"./channel-adapter\";\nimport {\n    ActivityResponse,\n    IActivityRequest,\n    ActivityRequestTrigger,\n    SuccessResponse,\n    ErrorResponse,\n    LoginRequestResponse\n} from \"./activity-request\";\nimport { Strings } from \"./strings\";\nimport {\n    SubmitAction,\n    ExecuteAction,\n    SerializationContext,\n    AdaptiveCard,\n    Action,\n    Input,\n    TokenExchangeResource,\n    AuthCardButton,\n    UniversalAction,\n    ChoiceSetInput,\n    DataQuery\n} from \"./card-elements\";\nimport { Versions } from \"./serialization\";\nimport { HostConfig } from \"./host-config\";\n\nfunction logEvent(level: Enums.LogLevel, message?: any, ...optionalParams: any[]) {\n    if (GlobalSettings.applets.logEnabled) {\n        if (GlobalSettings.applets.onLogEvent) {\n            GlobalSettings.applets.onLogEvent(level, message, optionalParams);\n        } else {\n            /* eslint-disable no-console */\n            switch (level) {\n                case Enums.LogLevel.Warning:\n                    console.warn(message, optionalParams);\n                    break;\n                case Enums.LogLevel.Error:\n                    console.error(message, optionalParams);\n                    break;\n                default:\n                    console.log(message, optionalParams);\n                    break;\n            }\n            /* eslint-enable no-console */\n        }\n    }\n}\n\nclass ActivityRequest implements IActivityRequest {\n    constructor(\n        readonly action: UniversalAction,\n        readonly trigger: ActivityRequestTrigger,\n        readonly consecutiveActions: number\n    ) {}\n\n    authCode?: string;\n    authToken?: string;\n    attemptNumber: number = 0;\n\n    onSend: (sender: ActivityRequest) => void;\n\n    // eslint-disable-next-line @typescript-eslint/require-await\n    async retryAsync(): Promise<void> {\n        if (this.onSend) {\n            this.onSend(this);\n        }\n    }\n}\n\nexport class AdaptiveApplet {\n    private static readonly _submitMagicCodeActionId = \"submitMagicCode\";\n    private static readonly _cancelMagicCodeAuthActionId = \"cancelMagicCodeAuth\";\n\n    private _card?: AdaptiveCard;\n    private _cardPayload: any;\n    private _choiceSet?: ChoiceSetInput;\n    private _allowAutomaticCardUpdate: boolean = false;\n    private _refreshButtonHostElement: HTMLElement;\n    private _cardHostElement: HTMLElement;\n    private _progressOverlay?: HTMLElement;\n\n    private displayCard(card: AdaptiveCard) {\n        if (card.renderedElement) {\n            Utils.clearElementChildren(this._cardHostElement);\n\n            this._refreshButtonHostElement.style.display = \"none\";\n\n            this._cardHostElement.appendChild(card.renderedElement);\n        } else {\n            throw new Error(\"displayCard: undefined card.\");\n        }\n    }\n\n    private showManualRefreshButton(refreshAction: ExecuteAction) {\n        const displayBuiltInManualRefreshButton = this.onShowManualRefreshButton\n            ? this.onShowManualRefreshButton(this)\n            : true;\n\n        if (displayBuiltInManualRefreshButton) {\n            this._refreshButtonHostElement.style.display = \"none\";\n\n            let renderedRefreshButton: HTMLElement | undefined = undefined;\n\n            if (this.onRenderManualRefreshButton) {\n                renderedRefreshButton = this.onRenderManualRefreshButton(this);\n            } else {\n                let message = Strings.runtime.refreshThisCard();\n\n                if (GlobalSettings.applets.refresh.mode === Enums.RefreshMode.Automatic) {\n                    let autoRefreshPausedMessage = Strings.runtime.automaticRefreshPaused();\n\n                    if (autoRefreshPausedMessage[autoRefreshPausedMessage.length - 1] !== \" \") {\n                        autoRefreshPausedMessage += \" \";\n                    }\n\n                    message = Strings.runtime.clckToRestartAutomaticRefresh();\n                }\n\n                const cardPayload = {\n                    type: \"AdaptiveCard\",\n                    version: \"1.2\",\n                    body: [\n                        {\n                            type: \"RichTextBlock\",\n                            horizontalAlignment: \"right\",\n                            inlines: [\n                                {\n                                    type: \"TextRun\",\n                                    text: message,\n                                    selectAction: {\n                                        type: \"Action.Submit\",\n                                        id: \"refreshCard\"\n                                    }\n                                }\n                            ]\n                        }\n                    ]\n                };\n\n                const card = new AdaptiveCard();\n                card.parse(cardPayload, new SerializationContext(Versions.v1_2));\n                card.onExecuteAction = (action: Action) => {\n                    if (action.id === \"refreshCard\") {\n                        Utils.clearElementChildren(this._refreshButtonHostElement);\n\n                        this.internalExecuteAction(\n                            refreshAction,\n                            ActivityRequestTrigger.Automatic,\n                            0\n                        );\n                    }\n                };\n\n                renderedRefreshButton = card.render();\n            }\n\n            if (renderedRefreshButton) {\n                Utils.clearElementChildren(this._refreshButtonHostElement);\n\n                this._refreshButtonHostElement.appendChild(renderedRefreshButton);\n\n                this._refreshButtonHostElement.style.removeProperty(\"display\");\n            }\n        }\n    }\n\n    private createActivityRequest(\n        action: UniversalAction,\n        trigger: ActivityRequestTrigger,\n        consecutiveActions: number\n    ): ActivityRequest | undefined {\n        if (this.card) {\n            const request = new ActivityRequest(action, trigger, consecutiveActions);\n            request.onSend = (sender: ActivityRequest) => {\n                sender.attemptNumber++;\n\n                void this.internalSendActivityRequestAsync(request);\n            };\n\n            const cancel = this.onPrepareActivityRequest\n                ? !this.onPrepareActivityRequest(this, request, action)\n                : false;\n\n            return cancel ? undefined : request;\n        } else {\n            throw new Error(\"createActivityRequest: no card has been set.\");\n        }\n    }\n\n    private createMagicCodeInputCard(attemptNumber: number): AdaptiveCard {\n        const payload = {\n            type: \"AdaptiveCard\",\n            version: \"1.0\",\n            body: [\n                {\n                    type: \"TextBlock\",\n                    color: \"attention\",\n                    text: attemptNumber === 1 ? undefined : \"That didn't work... let's try again.\",\n                    wrap: true,\n                    horizontalAlignment: \"center\"\n                },\n                {\n                    type: \"TextBlock\",\n                    text: 'Please login in the popup. You will obtain a magic code. Paste that code below and select \"Submit\"',\n                    wrap: true,\n                    horizontalAlignment: \"center\"\n                },\n                {\n                    type: \"Input.Text\",\n                    id: \"magicCode\",\n                    placeholder: \"Enter magic code\"\n                },\n                {\n                    type: \"ActionSet\",\n                    horizontalAlignment: \"center\",\n                    actions: [\n                        {\n                            type: \"Action.Submit\",\n                            id: AdaptiveApplet._submitMagicCodeActionId,\n                            title: \"Submit\"\n                        },\n                        {\n                            type: \"Action.Submit\",\n                            id: AdaptiveApplet._cancelMagicCodeAuthActionId,\n                            title: \"Cancel\"\n                        }\n                    ]\n                }\n            ]\n        };\n\n        const card = new AdaptiveCard();\n        card.parse(payload);\n\n        return card;\n    }\n\n    private cancelAutomaticRefresh() {\n        if (this._allowAutomaticCardUpdate) {\n            logEvent(\n                Enums.LogLevel.Warning,\n                \"Automatic card refresh has been cancelled as a result of the user interacting with the card.\"\n            );\n        }\n\n        this._allowAutomaticCardUpdate = false;\n    }\n\n    private createSerializationContext(): SerializationContext {\n        return this.onCreateSerializationContext\n            ? this.onCreateSerializationContext(this)\n            : new SerializationContext();\n    }\n\n    private internalSetCard(payload: any, consecutiveActions: number) {\n        if (typeof payload === \"object\" && payload[\"type\"] === \"AdaptiveCard\") {\n            this._cardPayload = payload;\n        }\n\n        if (this._cardPayload) {\n            try {\n                const card = new AdaptiveCard();\n\n                if (this.hostConfig) {\n                    card.hostConfig = this.hostConfig;\n                }\n\n                const serializationContext = this.createSerializationContext();\n\n                card.parse(this._cardPayload, serializationContext);\n\n                const doChangeCard = this.onCardChanging\n                    ? this.onCardChanging(this, this._cardPayload)\n                    : true;\n\n                if (doChangeCard) {\n                    this._card = card;\n\n                    if (\n                        this._card.authentication &&\n                        this._card.authentication.tokenExchangeResource &&\n                        this.onPrefetchSSOToken\n                    ) {\n                        this.onPrefetchSSOToken(\n                            this,\n                            this._card.authentication.tokenExchangeResource\n                        );\n                    }\n\n                    this._card.onExecuteAction = (action: Action) => {\n                        // If the user takes an action, cancel any pending automatic refresh\n                        this.cancelAutomaticRefresh();\n\n                        this.internalExecuteAction(action, ActivityRequestTrigger.Manual, 0);\n                    };\n                    this._card.onInputValueChanged = (input: Input) => {\n                        // If the user modifies an input, cancel any pending automatic refresh\n                        this.cancelAutomaticRefresh();\n                        if (input instanceof ChoiceSetInput && input.isDynamicTypeahead()) {\n                            const filter = input.getFilterForDynamicSearch();\n                            if (filter) {\n                                const dataQueryAction = new DataQuery();\n                                dataQueryAction.filter = filter;\n                                dataQueryAction.dataset = input.choicesData?.dataset || \"\";\n                                dataQueryAction.count = input.choicesData?.count;\n                                dataQueryAction.skip = input.choicesData?.skip;\n\n                                this._choiceSet = input;\n                                this.internalExecuteAction(\n                                    dataQueryAction,\n                                    ActivityRequestTrigger.Manual,\n                                    0 // consecutiveActions\n                                );\n                            }\n                        }\n                    };\n\n                    this._card.render();\n\n                    if (this._card.renderedElement) {\n                        this.displayCard(this._card);\n\n                        if (this.onCardChanged) {\n                            this.onCardChanged(this);\n                        }\n\n                        if (this._card.refresh) {\n                            if (\n                                GlobalSettings.applets.refresh.mode ===\n                                    Enums.RefreshMode.Automatic &&\n                                consecutiveActions <\n                                    GlobalSettings.applets.refresh\n                                        .maximumConsecutiveAutomaticRefreshes\n                            ) {\n                                if (\n                                    GlobalSettings.applets.refresh.timeBetweenAutomaticRefreshes <=\n                                    0\n                                ) {\n                                    logEvent(\n                                        Enums.LogLevel.Info,\n                                        \"Triggering automatic card refresh number \" +\n                                            (consecutiveActions + 1)\n                                    );\n\n                                    this.internalExecuteAction(\n                                        this._card.refresh.action,\n                                        ActivityRequestTrigger.Automatic,\n                                        consecutiveActions + 1\n                                    );\n                                } else {\n                                    logEvent(\n                                        Enums.LogLevel.Info,\n                                        \"Scheduling automatic card refresh number \" +\n                                            (consecutiveActions + 1) +\n                                            \" in \" +\n                                            GlobalSettings.applets.refresh\n                                                .timeBetweenAutomaticRefreshes +\n                                            \"ms\"\n                                    );\n\n                                    const action = this._card.refresh.action;\n\n                                    this._allowAutomaticCardUpdate = true;\n\n                                    window.setTimeout(() => {\n                                        if (this._allowAutomaticCardUpdate) {\n                                            this.internalExecuteAction(\n                                                action,\n                                                ActivityRequestTrigger.Automatic,\n                                                consecutiveActions + 1\n                                            );\n                                        }\n                                    }, GlobalSettings.applets.refresh.timeBetweenAutomaticRefreshes);\n                                }\n                            } else if (\n                                GlobalSettings.applets.refresh.mode !== Enums.RefreshMode.Disabled\n                            ) {\n                                if (consecutiveActions > 0) {\n                                    logEvent(\n                                        Enums.LogLevel.Warning,\n                                        \"Stopping automatic refreshes after \" +\n                                            consecutiveActions +\n                                            \" consecutive refreshes.\"\n                                    );\n                                } else {\n                                    logEvent(\n                                        Enums.LogLevel.Warning,\n                                        \"The card has a refresh section, but automatic refreshes are disabled.\"\n                                    );\n                                }\n\n                                if (\n                                    GlobalSettings.applets.refresh\n                                        .allowManualRefreshesAfterAutomaticRefreshes ||\n                                    GlobalSettings.applets.refresh.mode === Enums.RefreshMode.Manual\n                                ) {\n                                    logEvent(Enums.LogLevel.Info, \"Showing manual refresh button.\");\n\n                                    this.showManualRefreshButton(this._card.refresh.action);\n                                }\n                            }\n                        }\n                    }\n                }\n            } catch (error) {\n                // Ignore all errors\n                logEvent(Enums.LogLevel.Error, \"setCard: \" + error);\n            }\n        }\n    }\n\n    private internalExecuteAction(\n        action: Action,\n        trigger: ActivityRequestTrigger,\n        consecutiveActions: number\n    ) {\n        if (action instanceof UniversalAction) {\n            if (this.channelAdapter) {\n                const request = this.createActivityRequest(action, trigger, consecutiveActions);\n\n                if (request) {\n                    void request.retryAsync();\n                }\n            } else {\n                throw new Error(\"internalExecuteAction: No channel adapter set.\");\n            }\n        }\n\n        if (this.onAction) {\n            this.onAction(this, action);\n        }\n    }\n\n    private createProgressOverlay(request: ActivityRequest): HTMLElement | undefined {\n        if (!this._progressOverlay) {\n            if (this.onCreateProgressOverlay) {\n                this._progressOverlay = this.onCreateProgressOverlay(this, request);\n            } else {\n                this._progressOverlay = document.createElement(\"div\");\n                this._progressOverlay.className = \"aaf-progress-overlay\";\n\n                const spinner = document.createElement(\"div\");\n                spinner.className = \"aaf-spinner\";\n                spinner.style.width = \"28px\";\n                spinner.style.height = \"28px\";\n\n                this._progressOverlay.appendChild(spinner);\n            }\n        }\n\n        return this._progressOverlay;\n    }\n\n    private removeProgressOverlay(request: IActivityRequest) {\n        if (this.onRemoveProgressOverlay) {\n            this.onRemoveProgressOverlay(this, request);\n        }\n\n        if (this._progressOverlay !== undefined) {\n            this.renderedElement.removeChild(this._progressOverlay);\n\n            this._progressOverlay = undefined;\n        }\n    }\n\n    private activityRequestSucceeded(\n        response: SuccessResponse,\n        parsedContent: string | AdaptiveCard | undefined\n    ) {\n        if (this.onActivityRequestSucceeded) {\n            this.onActivityRequestSucceeded(this, response, parsedContent);\n        }\n    }\n\n    private activityRequestFailed(response: ErrorResponse): number {\n        return this.onActivityRequestFailed\n            ? this.onActivityRequestFailed(this, response)\n            : GlobalSettings.applets.defaultTimeBetweenRetryAttempts;\n    }\n\n    private showAuthCodeInputDialog(request: ActivityRequest) {\n        const showBuiltInAuthCodeInputCard = this.onShowAuthCodeInputDialog\n            ? this.onShowAuthCodeInputDialog(this, request)\n            : true;\n\n        if (showBuiltInAuthCodeInputCard) {\n            const authCodeInputCard = this.createMagicCodeInputCard(request.attemptNumber);\n            authCodeInputCard.render();\n            authCodeInputCard.onExecuteAction = (submitMagicCodeAction: Action) => {\n                if (this.card && submitMagicCodeAction instanceof SubmitAction) {\n                    switch (submitMagicCodeAction.id) {\n                        case AdaptiveApplet._submitMagicCodeActionId:\n                            let authCode: string | undefined = undefined;\n\n                            if (\n                                submitMagicCodeAction.data &&\n                                typeof (<any>submitMagicCodeAction.data)[\"magicCode\"] === \"string\"\n                            ) {\n                                authCode = (<any>submitMagicCodeAction.data)[\"magicCode\"];\n                            }\n\n                            if (authCode) {\n                                this.displayCard(this.card);\n\n                                request.authCode = authCode;\n                                void request.retryAsync();\n                            } else {\n                                alert(\"Please enter the magic code you received.\");\n                            }\n\n                            break;\n                        case AdaptiveApplet._cancelMagicCodeAuthActionId:\n                            logEvent(Enums.LogLevel.Warning, \"Authentication cancelled by user.\");\n\n                            this.displayCard(this.card);\n\n                            break;\n                        default:\n                            logEvent(\n                                Enums.LogLevel.Error,\n                                \"Unexpected action taken from magic code input card (id = \" +\n                                    submitMagicCodeAction.id +\n                                    \")\"\n                            );\n\n                            alert(Strings.magicCodeInputCard.somethingWentWrong());\n\n                            break;\n                    }\n                }\n            };\n\n            this.displayCard(authCodeInputCard);\n        }\n    }\n\n    private async internalSendActivityRequestAsync(request: ActivityRequest) {\n        if (!this.channelAdapter) {\n            throw new Error(\"internalSendActivityRequestAsync: channelAdapter is not set.\");\n        }\n        const { action } = request;\n        if (action instanceof ExecuteAction) {\n            await this.internalSendExecuteRequestAsync(request);\n        } else if (action instanceof DataQuery) {\n            await this.internalSendDataQueryRequestAsync(request);\n        } else {\n            throw new Error(\"internalSendActivityRequestAsync: Unhandled Action Type\");\n        }\n    }\n\n    private async internalSendExecuteRequestAsync(request: ActivityRequest) {\n        if (!this.channelAdapter) {\n            throw new Error(\"internalSendExecuteRequestAsync: channelAdapter is not set.\");\n        }\n\n        const overlay = this.createProgressOverlay(request);\n\n        if (overlay !== undefined) {\n            this.renderedElement.appendChild(overlay);\n        }\n\n        let done = false;\n\n        while (!done) {\n            let response: ActivityResponse | undefined = undefined;\n\n            if (request.attemptNumber === 1) {\n                logEvent(\n                    Enums.LogLevel.Info,\n                    \"Sending activity request to channel (attempt \" + request.attemptNumber + \")\"\n                );\n            } else {\n                logEvent(\n                    Enums.LogLevel.Info,\n                    \"Re-sending activity request to channel (attempt \" + request.attemptNumber + \")\"\n                );\n            }\n\n            try {\n                response = await this.channelAdapter.sendRequestAsync(request);\n            } catch (error) {\n                logEvent(Enums.LogLevel.Error, \"Activity request failed: \" + error);\n\n                this.removeProgressOverlay(request);\n\n                done = true;\n            }\n\n            if (response) {\n                if (response instanceof SuccessResponse) {\n                    this.removeProgressOverlay(request);\n\n                    if (response.rawContent === undefined) {\n                        throw new Error(\n                            \"internalSendExecuteRequestAsync: Action.Execute result is undefined\"\n                        );\n                    }\n\n                    let parsedContent = response.rawContent;\n\n                    try {\n                        parsedContent = JSON.parse(response.rawContent);\n                    } catch {\n                        // Leave parseContent as is\n                    }\n\n                    if (typeof parsedContent === \"string\") {\n                        logEvent(\n                            Enums.LogLevel.Info,\n                            \"The activity request returned a string after \" +\n                                request.attemptNumber +\n                                \" attempt(s).\"\n                        );\n\n                        this.activityRequestSucceeded(response, parsedContent);\n                    } else if (\n                        typeof parsedContent === \"object\" &&\n                        parsedContent[\"type\"] === \"AdaptiveCard\"\n                    ) {\n                        logEvent(\n                            Enums.LogLevel.Info,\n                            \"The activity request returned an Adaptive Card after \" +\n                                request.attemptNumber +\n                                \" attempt(s).\"\n                        );\n\n                        this.internalSetCard(parsedContent, request.consecutiveActions);\n                        this.activityRequestSucceeded(response, this.card);\n                    } else {\n                        throw new Error(\n                            \"internalSendExecuteRequestAsync: Action.Execute result is of unsupported type (\" +\n                                typeof response.rawContent +\n                                \")\"\n                        );\n                    }\n\n                    done = true;\n                } else if (response instanceof ErrorResponse) {\n                    const retryIn: number = this.activityRequestFailed(response);\n\n                    if (\n                        retryIn >= 0 &&\n                        request.attemptNumber < GlobalSettings.applets.maximumRetryAttempts\n                    ) {\n                        logEvent(\n                            Enums.LogLevel.Warning,\n                            `Activity request failed: ${response.error.message}. Retrying in ${retryIn}ms`\n                        );\n\n                        request.attemptNumber++;\n\n                        await new Promise<void>((resolve, _reject) => {\n                            window.setTimeout(() => {\n                                resolve();\n                            }, retryIn);\n                        });\n                    } else {\n                        logEvent(\n                            Enums.LogLevel.Error,\n                            `Activity request failed: ${response.error.message}. Giving up after ${request.attemptNumber} attempt(s)`\n                        );\n\n                        this.removeProgressOverlay(request);\n\n                        done = true;\n                    }\n                } else if (response instanceof LoginRequestResponse) {\n                    logEvent(\n                        Enums.LogLevel.Info,\n                        \"The activity request returned a LoginRequestResponse after \" +\n                            request.attemptNumber +\n                            \" attempt(s).\"\n                    );\n\n                    if (request.attemptNumber <= GlobalSettings.applets.maximumRetryAttempts) {\n                        let attemptOAuth = true;\n\n                        if (response.tokenExchangeResource && this.onSSOTokenNeeded) {\n                            // Attempt to use SSO. The host will return true if it can handle SSO, in which case\n                            // we bypass OAuth\n                            attemptOAuth = !this.onSSOTokenNeeded(\n                                this,\n                                request,\n                                response.tokenExchangeResource\n                            );\n                        }\n\n                        if (attemptOAuth) {\n                            // Attempt to use OAuth\n                            this.removeProgressOverlay(request);\n\n                            if (response.signinButton === undefined) {\n                                throw new Error(\n                                    \"internalSendExecuteRequestAsync: the login request doesn't contain a valid signin URL.\"\n                                );\n                            }\n\n                            logEvent(\n                                Enums.LogLevel.Info,\n                                \"Login required at \" + response.signinButton.value\n                            );\n\n                            if (this.onShowSigninPrompt) {\n                                // Bypass the built-in auth prompt if the host app handles it\n                                this.onShowSigninPrompt(this, request, response.signinButton);\n                            } else {\n                                this.showAuthCodeInputDialog(request);\n\n                                const left =\n                                    window.screenX +\n                                    (window.outerWidth - GlobalSettings.applets.authPromptWidth) /\n                                        2;\n                                const top =\n                                    window.screenY +\n                                    (window.outerHeight - GlobalSettings.applets.authPromptHeight) /\n                                        2;\n\n                                window.open(\n                                    response.signinButton.value,\n                                    response.signinButton.title\n                                        ? response.signinButton.title\n                                        : \"Sign in\",\n                                    `width=${GlobalSettings.applets.authPromptWidth},height=${GlobalSettings.applets.authPromptHeight},left=${left},top=${top}`\n                                );\n                            }\n                        }\n                    } else {\n                        logEvent(\n                            Enums.LogLevel.Error,\n                            \"Authentication failed. Giving up after \" +\n                                request.attemptNumber +\n                                \" attempt(s)\"\n                        );\n\n                        alert(Strings.magicCodeInputCard.authenticationFailed());\n                    }\n\n                    // Exit the loop. After a LoginRequestResponse, the host app is responsible for retrying the request\n                    break;\n                } else {\n                    throw new Error(\"Unhandled response type: \" + JSON.stringify(response));\n                }\n            }\n        }\n    }\n\n    private async internalSendDataQueryRequestAsync(request: ActivityRequest) {\n        if (!this.channelAdapter) {\n            throw new Error(\"internalSendDataQueryRequestAsync: channel adapter not set\");\n        }\n        const filter = (request.action as DataQuery).filter;\n        if (this._choiceSet) {\n            this._choiceSet.showLoadingIndicator();\n            let response: ActivityResponse | undefined = undefined;\n            try {\n                response = await this.channelAdapter.sendRequestAsync(request);\n            } catch (error) {\n                this._choiceSet.showErrorIndicator(filter, \"Unable to load\");\n                logEvent(Enums.LogLevel.Error, \"Activity request failed: \" + error);\n            }\n            if (response) {\n                if (response instanceof SuccessResponse) {\n                    const rawResponse = response.rawContent;\n                    if (rawResponse) {\n                        let parsedResponse;\n                        try {\n                            parsedResponse = JSON.parse(rawResponse);\n                        } catch (error) {\n                            this._choiceSet.showErrorIndicator(filter, \"Unable to load\");\n                            throw new Error(\n                                \"internalSendDataQueryRequestAsync: Cannot parse response object: \" +\n                                    rawResponse\n                            );\n                        }\n                        if (typeof parsedResponse === \"object\") {\n                            this._choiceSet.renderChoices(filter, parsedResponse);\n                            this.activityRequestSucceeded(response, rawResponse);\n                        } else {\n                            this._choiceSet.showErrorIndicator(filter, \"Error loading results\");\n                            throw new Error(\n                                \"internalSendDataQueryRequestAsync: Data.Query result is of unsupported type (\" +\n                                    typeof rawResponse +\n                                    \")\"\n                            );\n                        }\n                    } else {\n                        this._choiceSet.showErrorIndicator(filter, \"Unable to load\");\n                        throw new Error(\n                            \"internalSendDataQueryRequestAsync: Data.Query result is undefined\"\n                        );\n                    }\n                } else if (response instanceof ErrorResponse) {\n                    this._choiceSet.showErrorIndicator(\n                        filter,\n                        response.error.message || \"Error loading results\"\n                    );\n                    logEvent(\n                        Enums.LogLevel.Error,\n                        `Activity request failed: ${response.error.message}.`\n                    );\n                    this.activityRequestFailed(response);\n                } else {\n                    this._choiceSet.showErrorIndicator(filter, \"Unable to load\");\n                    throw new Error(\"Unhandled response type: \" + JSON.stringify(response));\n                }\n            } else {\n                this._choiceSet.removeLoadingIndicator();\n            }\n        }\n    }\n\n    readonly renderedElement: HTMLElement;\n\n    hostConfig?: HostConfig;\n    channelAdapter?: ChannelAdapter;\n\n    onCardChanging?: (sender: AdaptiveApplet, card: any) => boolean;\n    onCardChanged?: (sender: AdaptiveApplet) => void;\n    onPrefetchSSOToken?: (\n        sender: AdaptiveApplet,\n        tokenExchangeResource: TokenExchangeResource\n    ) => void;\n    onSSOTokenNeeded?: (\n        sender: AdaptiveApplet,\n        request: IActivityRequest,\n        tokenExchangeResource: TokenExchangeResource\n    ) => boolean;\n    onPrepareActivityRequest?: (\n        sender: AdaptiveApplet,\n        request: IActivityRequest,\n        action: UniversalAction\n    ) => boolean;\n    onActivityRequestSucceeded?: (\n        sender: AdaptiveApplet,\n        response: SuccessResponse,\n        parsedContent: string | AdaptiveCard | undefined\n    ) => void;\n    onActivityRequestFailed?: (sender: AdaptiveApplet, response: ErrorResponse) => number;\n    onCreateSerializationContext?: (sender: AdaptiveApplet) => SerializationContext;\n    onCreateProgressOverlay?: (\n        sender: AdaptiveApplet,\n        request: IActivityRequest\n    ) => HTMLElement | undefined;\n    onRemoveProgressOverlay?: (sender: AdaptiveApplet, request: IActivityRequest) => void;\n    onRenderManualRefreshButton?: (sender: AdaptiveApplet) => HTMLElement | undefined;\n    onAction?: (sender: AdaptiveApplet, action: Action) => void;\n    onShowManualRefreshButton?: (sender: AdaptiveApplet) => boolean;\n    onShowAuthCodeInputDialog?: (sender: AdaptiveApplet, request: IActivityRequest) => boolean;\n    onShowSigninPrompt?: (\n        sender: AdaptiveApplet,\n        request: IActivityRequest,\n        signinButton: AuthCardButton\n    ) => void;\n\n    constructor() {\n        this.renderedElement = document.createElement(\"div\");\n        this.renderedElement.className = \"aaf-cardHost\";\n        this.renderedElement.style.position = \"relative\";\n        this.renderedElement.style.display = \"flex\";\n        this.renderedElement.style.flexDirection = \"column\";\n\n        this._cardHostElement = document.createElement(\"div\");\n\n        this._refreshButtonHostElement = document.createElement(\"div\");\n        this._refreshButtonHostElement.className = \"aaf-refreshButtonHost\";\n        this._refreshButtonHostElement.style.display = \"none\";\n\n        this.renderedElement.appendChild(this._cardHostElement);\n        this.renderedElement.appendChild(this._refreshButtonHostElement);\n    }\n\n    refreshCard() {\n        if (this._card && this._card.refresh) {\n            this.internalExecuteAction(this._card.refresh.action, ActivityRequestTrigger.Manual, 0);\n        }\n    }\n\n    setCard(payload: any) {\n        this.internalSetCard(payload, 0);\n    }\n\n    get card(): AdaptiveCard | undefined {\n        return this._card;\n    }\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nexport * from \"./strings\";\nexport * from \"./enums\";\nexport * from \"./shared\";\nexport * from \"./utils\";\nexport * from \"./serialization\";\nexport * from \"./host-capabilities\";\nexport * from \"./host-config\";\nexport * from \"./registry\";\nexport * from \"./card-object\";\nexport * from \"./card-elements\";\nexport * from \"./carousel\";\nexport * from \"./table\";\nexport * from \"./channel-adapter\";\nexport * from \"./activity-request\";\nexport * from \"./adaptive-applet\";\n\nexport { IAdaptiveCard, ICardElement } from \"./schema\";\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport * as Enums from \"./enums\";\nimport { CarouselEvent } from \"./carousel\";\nimport {\n    PaddingDefinition,\n    GlobalSettings,\n    SizeAndUnit,\n    SpacingDefinition,\n    ISeparationDefinition,\n    Dictionary,\n    StringWithSubstitutions,\n    ContentTypes,\n    IInput,\n    IResourceInformation\n} from \"./shared\";\nimport * as Utils from \"./utils\";\nimport {\n    HostConfig,\n    defaultHostConfig,\n    BaseTextDefinition,\n    FontTypeDefinition,\n    ColorSetDefinition,\n    TextColorDefinition,\n    ContainerStyleDefinition,\n    TextStyleDefinition\n} from \"./host-config\";\nimport * as TextFormatters from \"./text-formatters\";\nimport { CardObject, ValidationResults } from \"./card-object\";\nimport {\n    Versions,\n    Version,\n    property,\n    BaseSerializationContext,\n    SerializableObject,\n    SerializableObjectSchema,\n    StringProperty,\n    BoolProperty,\n    ValueSetProperty,\n    EnumProperty,\n    SerializableObjectCollectionProperty,\n    SerializableObjectProperty,\n    PixelSizeProperty,\n    NumProperty,\n    PropertyBag,\n    CustomProperty,\n    PropertyDefinition,\n    StringArrayProperty\n} from \"./serialization\";\nimport { CardObjectRegistry, GlobalRegistry } from \"./registry\";\nimport { Strings } from \"./strings\";\nimport { MenuItem, PopupMenu } from \"./controls\";\n\n\nfunction clearElement(element: HTMLElement) : void {\n    const trustedHtml = (typeof window === 'undefined') ? \"\" : (window.trustedTypes?.emptyHTML ?? \"\");\n    element.innerHTML = trustedHtml as string;\n}\n\nexport function renderSeparation(\n    hostConfig: HostConfig,\n    separationDefinition: ISeparationDefinition,\n    orientation: Enums.Orientation\n): HTMLElement | undefined {\n    if (\n        separationDefinition.spacing > 0 ||\n        (separationDefinition.lineThickness && separationDefinition.lineThickness > 0)\n    ) {\n        const separator = document.createElement(\"div\");\n        separator.className = hostConfig.makeCssClassName(\n            \"ac-\" +\n                (orientation === Enums.Orientation.Horizontal ? \"horizontal\" : \"vertical\") +\n                \"-separator\"\n        );\n        separator.setAttribute(\"aria-hidden\", \"true\");\n\n        const color = separationDefinition.lineColor\n            ? Utils.stringToCssColor(separationDefinition.lineColor)\n            : \"\";\n\n        if (orientation === Enums.Orientation.Horizontal) {\n            if (separationDefinition.lineThickness) {\n                separator.style.paddingTop = separationDefinition.spacing / 2 + \"px\";\n                separator.style.marginBottom = separationDefinition.spacing / 2 + \"px\";\n                separator.style.borderBottom =\n                    separationDefinition.lineThickness + \"px solid \" + color;\n            } else {\n                separator.style.height = separationDefinition.spacing + \"px\";\n            }\n        } else {\n            if (separationDefinition.lineThickness) {\n                separator.style.paddingLeft = separationDefinition.spacing / 2 + \"px\";\n                separator.style.marginRight = separationDefinition.spacing / 2 + \"px\";\n                separator.style.borderRight =\n                    separationDefinition.lineThickness + \"px solid \" + color;\n            } else {\n                separator.style.width = separationDefinition.spacing + \"px\";\n            }\n        }\n\n        separator.style.overflow = \"hidden\";\n        separator.style.flex = \"0 0 auto\";\n\n        return separator;\n    } else {\n        return undefined;\n    }\n}\n\nexport type CardElementHeight = \"auto\" | \"stretch\";\n\nexport abstract class CardElement extends CardObject {\n    //#region Schema\n\n    static readonly langProperty = new StringProperty(\n        Versions.v1_1,\n        \"lang\",\n        true,\n        /^[a-z]{2,3}$/gi\n    );\n    static readonly isVisibleProperty = new BoolProperty(Versions.v1_2, \"isVisible\", true);\n    static readonly separatorProperty = new BoolProperty(Versions.v1_0, \"separator\", false);\n    static readonly heightProperty = new ValueSetProperty(\n        Versions.v1_1,\n        \"height\",\n        [{ value: \"auto\" }, { value: \"stretch\" }],\n        \"auto\"\n    );\n    static readonly horizontalAlignmentProperty = new EnumProperty(\n        Versions.v1_0,\n        \"horizontalAlignment\",\n        Enums.HorizontalAlignment\n    );\n    static readonly spacingProperty = new EnumProperty(\n        Versions.v1_0,\n        \"spacing\",\n        Enums.Spacing,\n        Enums.Spacing.Default\n    );\n\n    @property(CardElement.horizontalAlignmentProperty)\n    horizontalAlignment?: Enums.HorizontalAlignment;\n\n    @property(CardElement.spacingProperty)\n    spacing: Enums.Spacing;\n\n    @property(CardElement.separatorProperty)\n    separator: boolean;\n\n    @property(CardElement.heightProperty)\n    height: CardElementHeight;\n\n    @property(CardElement.langProperty)\n    get lang(): string | undefined {\n        const lang = this.getValue(CardElement.langProperty);\n\n        if (lang) {\n            return lang;\n        } else {\n            if (this.parent) {\n                return this.parent.lang;\n            } else {\n                return undefined;\n            }\n        }\n    }\n\n    set lang(value: string | undefined) {\n        this.setValue(CardElement.langProperty, value);\n    }\n\n    @property(CardElement.isVisibleProperty)\n    get isVisible(): boolean {\n        return this.getValue(CardElement.isVisibleProperty);\n    }\n\n    set isVisible(value: boolean) {\n        // If the element is going to be hidden, reset any changes that were due\n        // to overflow truncation (this ensures that if the element is later\n        // un-hidden it has the right content)\n        if (GlobalSettings.useAdvancedCardBottomTruncation && !value) {\n            this.undoOverflowTruncation();\n        }\n\n        if (this.isVisible !== value) {\n            this.setValue(CardElement.isVisibleProperty, value);\n\n            this.updateRenderedElementVisibility();\n\n            if (this._renderedElement) {\n                raiseElementVisibilityChangedEvent(this);\n            }\n        }\n\n        if (this._renderedElement) {\n            this._renderedElement.setAttribute(\"aria-expanded\", value.toString());\n        }\n    }\n\n    //#endregion\n\n    private _hostConfig?: HostConfig;\n    private _separatorElement?: HTMLElement;\n    private _truncatedDueToOverflow: boolean = false;\n    private _defaultRenderedElementDisplayMode?: string;\n    private _padding?: PaddingDefinition;\n\n    private internalRenderSeparator(): HTMLElement | undefined {\n        const renderedSeparator = renderSeparation(\n            this.hostConfig,\n            {\n                spacing: this.hostConfig.getEffectiveSpacing(this.spacing),\n                lineThickness: this.separator ? this.hostConfig.separator.lineThickness : undefined,\n                lineColor: this.separator ? this.hostConfig.separator.lineColor : undefined\n            },\n            this.separatorOrientation\n        );\n\n        if (\n            GlobalSettings.alwaysBleedSeparators &&\n            renderedSeparator &&\n            this.separatorOrientation === Enums.Orientation.Horizontal\n        ) {\n            // Adjust separator's margins if the option to always bleed separators is turned on\n            const parentContainer = this.getParentContainer();\n\n            if (parentContainer && parentContainer.getEffectivePadding()) {\n                const parentPhysicalPadding = this.hostConfig.paddingDefinitionToSpacingDefinition(\n                    parentContainer.getEffectivePadding()\n                );\n\n                renderedSeparator.style.marginLeft = \"-\" + parentPhysicalPadding.left + \"px\";\n                renderedSeparator.style.marginRight = \"-\" + parentPhysicalPadding.right + \"px\";\n            }\n        }\n\n        return renderedSeparator;\n    }\n\n    private updateRenderedElementVisibility() {\n        const displayMode =\n            this.isDesignMode() || this.isVisible\n                ? this._defaultRenderedElementDisplayMode\n                : \"none\";\n\n        if (this._renderedElement) {\n            if (displayMode) {\n                this._renderedElement.style.display = displayMode;\n            } else {\n                this._renderedElement.style.removeProperty(\"display\");\n            }\n        }\n\n        if (this._separatorElement) {\n            if (this.parent && this.parent.isFirstElement(this)) {\n                this._separatorElement.style.display = \"none\";\n            } else {\n                if (displayMode) {\n                    this._separatorElement.style.display = displayMode;\n                } else {\n                    this._separatorElement.style.removeProperty(\"display\");\n                }\n            }\n        }\n    }\n\n    private hideElementDueToOverflow() {\n        if (this._renderedElement && this.isVisible) {\n            this._renderedElement.style.visibility = \"hidden\";\n\n            this.isVisible = false;\n            raiseElementVisibilityChangedEvent(this, false);\n        }\n    }\n\n    private showElementHiddenDueToOverflow() {\n        if (this._renderedElement && !this.isVisible) {\n            this._renderedElement.style.removeProperty(\"visibility\");\n\n            this.isVisible = true;\n            raiseElementVisibilityChangedEvent(this, false);\n        }\n    }\n\n    // Marked private to emulate internal access\n    private handleOverflow(maxHeight: number) {\n        if (this.isVisible || this.isHiddenDueToOverflow()) {\n            const handled = this.truncateOverflow(maxHeight);\n\n            // Even if we were unable to truncate the element to fit this time,\n            // it still could have been previously truncated\n            this._truncatedDueToOverflow = handled || this._truncatedDueToOverflow;\n\n            if (!handled) {\n                this.hideElementDueToOverflow();\n            } else if (handled && !this.isVisible) {\n                this.showElementHiddenDueToOverflow();\n            }\n        }\n    }\n\n    // Marked private to emulate internal access\n    private resetOverflow(): boolean {\n        let sizeChanged = false;\n\n        if (this._truncatedDueToOverflow) {\n            this.undoOverflowTruncation();\n            this._truncatedDueToOverflow = false;\n            sizeChanged = true;\n        }\n\n        if (this.isHiddenDueToOverflow()) {\n            this.showElementHiddenDueToOverflow();\n        }\n\n        return sizeChanged;\n    }\n\n    protected getDefaultSerializationContext(): BaseSerializationContext {\n        return new SerializationContext();\n    }\n\n    protected createPlaceholderElement(): HTMLElement {\n        const styleDefinition = this.getEffectiveStyleDefinition();\n        const foregroundCssColor = Utils.stringToCssColor(\n            styleDefinition.foregroundColors.default.subtle\n        );\n\n        const element = document.createElement(\"div\");\n        element.style.border = \"1px dashed \" + foregroundCssColor;\n        element.style.padding = \"4px\";\n        element.style.minHeight = \"32px\";\n        element.style.fontSize = \"10px\";\n\n        if (foregroundCssColor) {\n            element.style.color = foregroundCssColor;\n        }\n\n        element.innerText = Strings.defaults.emptyElementText(this.getJsonTypeName());\n\n        return element;\n    }\n\n    protected adjustRenderedElementSize(renderedElement: HTMLElement) {\n        if (this.height === \"auto\") {\n            renderedElement.style.flex = \"0 0 auto\";\n        } else {\n            renderedElement.style.flex = \"1 1 auto\";\n        }\n    }\n\n    /*\n     * Called when mouse enters or leaves the card.\n     * Inputs elements need to update their visual state in such events like showing or hiding borders etc.\n     * It calls Input.updateVisualState(eventType) for all inputs.\n     * This method on input (updateVisualState) is supposed to be called from card level on mouse events.\n     */\n    protected updateInputsVisualState(hover: boolean) {\n        const allInputs: Input[] = this.getAllInputs();\n        const inputEventType = !!hover ? InputEventType.MouseEnterOnCard : InputEventType.MouseLeaveOnCard;\n        allInputs.forEach((input) => input.updateVisualState(inputEventType));\n    }\n\n    protected isDisplayed(): boolean {\n        return (\n            this._renderedElement !== undefined &&\n            this.isVisible &&\n            this._renderedElement.offsetHeight > 0\n        );\n    }\n\n    protected abstract internalRender(): HTMLElement | undefined;\n\n    protected overrideInternalRender(): HTMLElement | undefined {\n        return this.internalRender();\n    }\n\n    protected applyPadding() {\n        if (this.separatorElement && this.separatorOrientation === Enums.Orientation.Horizontal) {\n            if (GlobalSettings.alwaysBleedSeparators && !this.isBleeding()) {\n                const padding = new PaddingDefinition();\n\n                this.getImmediateSurroundingPadding(padding);\n\n                const physicalPadding =\n                    this.hostConfig.paddingDefinitionToSpacingDefinition(padding);\n\n                this.separatorElement.style.marginLeft = \"-\" + physicalPadding.left + \"px\";\n                this.separatorElement.style.marginRight = \"-\" + physicalPadding.right + \"px\";\n            } else {\n                this.separatorElement.style.marginRight = \"0\";\n                this.separatorElement.style.marginLeft = \"0\";\n            }\n        }\n    }\n\n    /*\n     * Called when this element overflows the bottom of the card.\n     * maxHeight will be the amount of space still available on the card (0 if\n     * the element is fully off the card).\n     */\n    protected truncateOverflow(_maxHeight: number): boolean {\n        // Child implementations should return true if the element handled\n        // the truncation request such that its content fits within maxHeight,\n        // false if the element should fall back to being hidden\n        return false;\n    }\n\n    /*\n     * This should reverse any changes performed in truncateOverflow().\n     */\n    protected undoOverflowTruncation() {\n        return;\n    }\n\n    protected getDefaultPadding(): PaddingDefinition {\n        return new PaddingDefinition();\n    }\n\n    protected getHasBackground(ignoreBackgroundImages: boolean = false): boolean {\n        return false;\n    }\n\n    protected getHasBorder(): boolean {\n        return false;\n    }\n\n    protected getPadding(): PaddingDefinition | undefined {\n        return this._padding;\n    }\n\n    protected setPadding(value: PaddingDefinition | undefined) {\n        this._padding = value;\n    }\n\n    protected shouldSerialize(context: SerializationContext): boolean {\n        return context.elementRegistry.findByName(this.getJsonTypeName()) !== undefined;\n    }\n\n    protected get useDefaultSizing(): boolean {\n        return true;\n    }\n\n    protected get separatorOrientation(): Enums.Orientation {\n        return Enums.Orientation.Horizontal;\n    }\n\n    protected get defaultStyle(): string {\n        return Enums.ContainerStyle.Default;\n    }\n\n    customCssSelector?: string;\n\n    parse(source: any, context?: SerializationContext) {\n        super.parse(source, context ? context : new SerializationContext());\n    }\n\n    asString(): string | undefined {\n        return \"\";\n    }\n\n    isBleeding(): boolean {\n        return false;\n    }\n\n    getEffectiveStyle(): string {\n        if (this.parent) {\n            return this.parent.getEffectiveStyle();\n        }\n\n        return this.defaultStyle;\n    }\n\n    getEffectiveStyleDefinition(): ContainerStyleDefinition {\n        return this.hostConfig.containerStyles.getStyleByName(this.getEffectiveStyle());\n    }\n\n    getEffectiveTextStyleDefinition(): TextStyleDefinition {\n        if (this.parent) {\n            return this.parent.getEffectiveTextStyleDefinition();\n        }\n\n        return this.hostConfig.textStyles.default;\n    }\n\n    getForbiddenActionTypes(): ActionType[] {\n        return [];\n    }\n\n    getImmediateSurroundingPadding(\n        result: PaddingDefinition,\n        processTop: boolean = true,\n        processRight: boolean = true,\n        processBottom: boolean = true,\n        processLeft: boolean = true\n    ) {\n        if (this.parent) {\n            let doProcessTop = processTop && this.parent.isTopElement(this);\n            let doProcessRight = processRight && this.parent.isRightMostElement(this);\n            let doProcessBottom = processBottom && this.parent.isBottomElement(this);\n            let doProcessLeft = processLeft && this.parent.isLeftMostElement(this);\n\n            const effectivePadding = this.parent.getEffectivePadding();\n\n            if (effectivePadding) {\n                if (doProcessTop && effectivePadding.top !== Enums.Spacing.None) {\n                    result.top = effectivePadding.top;\n\n                    doProcessTop = false;\n                }\n\n                if (doProcessRight && effectivePadding.right !== Enums.Spacing.None) {\n                    result.right = effectivePadding.right;\n\n                    doProcessRight = false;\n                }\n\n                if (doProcessBottom && effectivePadding.bottom !== Enums.Spacing.None) {\n                    result.bottom = effectivePadding.bottom;\n\n                    doProcessBottom = false;\n                }\n\n                if (doProcessLeft && effectivePadding.left !== Enums.Spacing.None) {\n                    result.left = effectivePadding.left;\n\n                    doProcessLeft = false;\n                }\n            }\n\n            if (doProcessTop || doProcessRight || doProcessBottom || doProcessLeft) {\n                this.parent.getImmediateSurroundingPadding(\n                    result,\n                    doProcessTop,\n                    doProcessRight,\n                    doProcessBottom,\n                    doProcessLeft\n                );\n            }\n        }\n    }\n\n    getActionCount(): number {\n        return 0;\n    }\n\n    getActionAt(index: number): Action | undefined {\n        throw new Error(Strings.errors.indexOutOfRange(index));\n    }\n\n    indexOfAction(action: Action): number {\n        for (let i = 0; i < this.getActionCount(); i++) {\n            if (this.getActionAt(i) === action) {\n                return i;\n            }\n        }\n\n        return -1;\n    }\n\n    remove(): boolean {\n        if (this.parent && this.parent instanceof CardElementContainer) {\n            return this.parent.removeItem(this);\n        }\n\n        return false;\n    }\n\n    render(): HTMLElement | undefined {\n        this._renderedElement = this.overrideInternalRender();\n        this._separatorElement = this.internalRenderSeparator();\n\n        if (this._renderedElement) {\n            if (this.id) {\n                this._renderedElement.id = this.id;\n            }\n\n            if (this.customCssSelector) {\n                this._renderedElement.classList.add(this.customCssSelector);\n            }\n\n            this._renderedElement.style.boxSizing = \"border-box\";\n            this._defaultRenderedElementDisplayMode = this._renderedElement.style.display\n                ? this._renderedElement.style.display\n                : undefined;\n\n            this.adjustRenderedElementSize(this._renderedElement);\n            this.updateLayout(false);\n        } else if (this.isDesignMode()) {\n            this._renderedElement = this.createPlaceholderElement();\n        }\n\n        return this._renderedElement;\n    }\n\n    updateLayout(_processChildren: boolean = true) {\n        this.updateRenderedElementVisibility();\n        this.applyPadding();\n    }\n\n    updateActionsEnabledState() {\n        const allActions = this.getRootElement().getAllActions();\n\n        for (let action of allActions) {\n            action.updateEnabledState();\n        }\n    }\n\n    indexOf(_cardElement: CardElement): number {\n        return -1;\n    }\n\n    isDesignMode(): boolean {\n        const rootElement = this.getRootElement();\n\n        return rootElement instanceof AdaptiveCard && rootElement.designMode;\n    }\n\n    isFirstElement(_element: CardElement): boolean {\n        return true;\n    }\n\n    isLastElement(_element: CardElement): boolean {\n        return true;\n    }\n\n    isAtTheVeryLeft(): boolean {\n        return this.parent\n            ? this.parent.isLeftMostElement(this) && this.parent.isAtTheVeryLeft()\n            : true;\n    }\n\n    isAtTheVeryRight(): boolean {\n        return this.parent\n            ? this.parent.isRightMostElement(this) && this.parent.isAtTheVeryRight()\n            : true;\n    }\n\n    isAtTheVeryTop(): boolean {\n        return this.parent\n            ? this.parent.isFirstElement(this) && this.parent.isAtTheVeryTop()\n            : true;\n    }\n\n    isAtTheVeryBottom(): boolean {\n        return this.parent\n            ? this.parent.isLastElement(this) && this.parent.isAtTheVeryBottom()\n            : true;\n    }\n\n    isBleedingAtTop(): boolean {\n        return false;\n    }\n\n    isBleedingAtBottom(): boolean {\n        return false;\n    }\n\n    isLeftMostElement(_element: CardElement): boolean {\n        return true;\n    }\n\n    isRightMostElement(_element: CardElement): boolean {\n        return true;\n    }\n\n    isTopElement(element: CardElement): boolean {\n        return this.isFirstElement(element);\n    }\n\n    isBottomElement(element: CardElement): boolean {\n        return this.isLastElement(element);\n    }\n\n    isHiddenDueToOverflow(): boolean {\n        return (\n            this._renderedElement !== undefined &&\n            this._renderedElement.style.visibility === \"hidden\"\n        );\n    }\n\n    getRootElement(): CardElement {\n        return this.getRootObject() as CardElement;\n    }\n\n    getParentContainer(): Container | undefined {\n        let currentElement = this.parent;\n\n        while (currentElement) {\n            if (currentElement instanceof Container) {\n                return currentElement;\n            }\n\n            currentElement = currentElement.parent;\n        }\n\n        return undefined;\n    }\n\n    getAllInputs(processActions: boolean = true): Input[] {\n        return [];\n    }\n\n    getAllActions(): Action[] {\n        const result: Action[] = [];\n\n        for (let i = 0; i < this.getActionCount(); i++) {\n            let action = this.getActionAt(i);\n\n            if (action) {\n                result.push(action);\n            }\n        }\n\n        return result;\n    }\n\n    getResourceInformation(): IResourceInformation[] {\n        return [];\n    }\n\n    getElementById(id: string): CardElement | undefined {\n        return this.id === id ? this : undefined;\n    }\n\n    getActionById(_id: string): Action | undefined {\n        return undefined;\n    }\n    \n    getElementByIdFromAction(id: string): CardElement | undefined {\n        let result = undefined;\n        for (let i = 0; i < this.getActionCount(); i++) {\n            const action = this.getActionAt(i);\n\n            if (action instanceof ShowCardAction) {\n                result = action.card.getElementById(id);\n\n                if (result) {\n                    break;\n                }\n            }\n        }\n        return result;\n    }\n\n    getEffectivePadding(): PaddingDefinition {\n        const padding = this.getPadding();\n\n        return padding ? padding : this.getDefaultPadding();\n    }\n\n    getEffectiveHorizontalAlignment(): Enums.HorizontalAlignment {\n        if (this.horizontalAlignment !== undefined) {\n            return this.horizontalAlignment;\n        }\n\n        if (this.parent) {\n            return this.parent.getEffectiveHorizontalAlignment();\n        }\n\n        return Enums.HorizontalAlignment.Left;\n    }\n\n    get hostConfig(): HostConfig {\n        if (this._hostConfig) {\n            return this._hostConfig;\n        } else {\n            if (this.parent) {\n                return this.parent.hostConfig;\n            } else {\n                return defaultHostConfig;\n            }\n        }\n    }\n\n    set hostConfig(value: HostConfig) {\n        this._hostConfig = value;\n    }\n\n    get index(): number {\n        if (this.parent) {\n            return this.parent.indexOf(this);\n        } else {\n            return 0;\n        }\n    }\n\n    get isInteractive(): boolean {\n        return false;\n    }\n\n    get isStandalone(): boolean {\n        return true;\n    }\n\n    get isInline(): boolean {\n        return false;\n    }\n\n    get hasVisibleSeparator(): boolean {\n        if (this.parent && this.separatorElement) {\n            return !this.parent.isFirstElement(this) && (this.isVisible || this.isDesignMode());\n        } else {\n            return false;\n        }\n    }\n\n    get separatorElement(): HTMLElement | undefined {\n        return this._separatorElement;\n    }\n\n    get parent(): CardElement | undefined {\n        return <CardElement>this._parent;\n    }\n}\n\nexport class ActionProperty extends PropertyDefinition {\n    parse(\n        sender: SerializableObject,\n        source: PropertyBag,\n        context: SerializationContext\n    ): Action | undefined {\n        const parent = <CardElement>sender;\n\n        return context.parseAction(\n            parent,\n            source[this.name],\n            this.forbiddenActionTypes,\n            parent.isDesignMode()\n        );\n    }\n\n    toJSON(\n        sender: SerializableObject,\n        target: PropertyBag,\n        value: Action | undefined,\n        context: SerializationContext\n    ) {\n        context.serializeValue(\n            target,\n            this.name,\n            value ? value.toJSON(context) : undefined,\n            undefined,\n            true\n        );\n    }\n\n    constructor(\n        readonly targetVersion: Version,\n        readonly name: string,\n        readonly forbiddenActionTypes: string[] = []\n    ) {\n        super(targetVersion, name, undefined);\n    }\n}\n\nexport abstract class BaseTextBlock extends CardElement {\n    //#region Schema\n\n    static readonly textProperty = new StringProperty(Versions.v1_0, \"text\", true);\n    static readonly sizeProperty = new EnumProperty(Versions.v1_0, \"size\", Enums.TextSize);\n    static readonly weightProperty = new EnumProperty(Versions.v1_0, \"weight\", Enums.TextWeight);\n    static readonly colorProperty = new EnumProperty(Versions.v1_0, \"color\", Enums.TextColor);\n    static readonly isSubtleProperty = new BoolProperty(Versions.v1_0, \"isSubtle\");\n    static readonly fontTypeProperty = new EnumProperty(Versions.v1_2, \"fontType\", Enums.FontType);\n    static readonly selectActionProperty = new ActionProperty(Versions.v1_1, \"selectAction\", [\n        \"Action.ShowCard\"\n    ]);\n\n    protected populateSchema(schema: SerializableObjectSchema) {\n        super.populateSchema(schema);\n\n        // selectAction is declared on BaseTextBlock but is only exposed on TextRun,\n        // so the property is removed from the BaseTextBlock schema.\n        schema.remove(BaseTextBlock.selectActionProperty);\n    }\n\n    @property(BaseTextBlock.sizeProperty)\n    size?: Enums.TextSize;\n\n    @property(BaseTextBlock.weightProperty)\n    weight?: Enums.TextWeight;\n\n    @property(BaseTextBlock.colorProperty)\n    color?: Enums.TextColor;\n\n    @property(BaseTextBlock.fontTypeProperty)\n    fontType?: Enums.FontType;\n\n    @property(BaseTextBlock.isSubtleProperty)\n    isSubtle?: boolean;\n\n    @property(BaseTextBlock.textProperty)\n    get text(): string | undefined {\n        return this.getValue(BaseTextBlock.textProperty);\n    }\n\n    set text(value: string | undefined) {\n        this.setText(value);\n    }\n\n    @property(BaseTextBlock.selectActionProperty)\n    selectAction?: Action;\n\n    //#endregion\n\n    protected getFontSize(fontType: FontTypeDefinition): number {\n        switch (this.effectiveSize) {\n            case Enums.TextSize.Small:\n                return fontType.fontSizes.small;\n            case Enums.TextSize.Medium:\n                return fontType.fontSizes.medium;\n            case Enums.TextSize.Large:\n                return fontType.fontSizes.large;\n            case Enums.TextSize.ExtraLarge:\n                return fontType.fontSizes.extraLarge;\n            default:\n                return fontType.fontSizes.default;\n        }\n    }\n\n    protected getColorDefinition(\n        colorSet: ColorSetDefinition,\n        color: Enums.TextColor\n    ): TextColorDefinition {\n        switch (color) {\n            case Enums.TextColor.Accent:\n                return colorSet.accent;\n            case Enums.TextColor.Dark:\n                return colorSet.dark;\n            case Enums.TextColor.Light:\n                return colorSet.light;\n            case Enums.TextColor.Good:\n                return colorSet.good;\n            case Enums.TextColor.Warning:\n                return colorSet.warning;\n            case Enums.TextColor.Attention:\n                return colorSet.attention;\n            default:\n                return colorSet.default;\n        }\n    }\n\n    protected setText(value: string | undefined) {\n        this.setValue(BaseTextBlock.textProperty, value);\n    }\n\n    ariaHidden: boolean = false;\n\n    constructor(text?: string) {\n        super();\n\n        if (text) {\n            this.text = text;\n        }\n    }\n\n    init(textDefinition: BaseTextDefinition) {\n        this.size = textDefinition.size;\n        this.weight = textDefinition.weight;\n        this.color = textDefinition.color;\n        this.isSubtle = textDefinition.isSubtle;\n    }\n\n    asString(): string | undefined {\n        return this.text;\n    }\n\n    applyStylesTo(targetElement: HTMLElement) {\n        const fontType = this.hostConfig.getFontTypeDefinition(this.effectiveFontType);\n\n        if (fontType.fontFamily) {\n            targetElement.style.fontFamily = fontType.fontFamily;\n        }\n\n        let fontSize: number;\n\n        switch (this.effectiveSize) {\n            case Enums.TextSize.Small:\n                fontSize = fontType.fontSizes.small;\n                break;\n            case Enums.TextSize.Medium:\n                fontSize = fontType.fontSizes.medium;\n                break;\n            case Enums.TextSize.Large:\n                fontSize = fontType.fontSizes.large;\n                break;\n            case Enums.TextSize.ExtraLarge:\n                fontSize = fontType.fontSizes.extraLarge;\n                break;\n            default:\n                fontSize = fontType.fontSizes.default;\n                break;\n        }\n\n        targetElement.style.fontSize = fontSize + \"px\";\n\n        const colorDefinition = this.getColorDefinition(\n            this.getEffectiveStyleDefinition().foregroundColors,\n            this.effectiveColor\n        );\n\n        const targetColor = Utils.stringToCssColor(\n            this.effectiveIsSubtle ? colorDefinition.subtle : colorDefinition.default\n        );\n        if (targetColor) {\n            targetElement.style.color = targetColor;\n        }\n\n        let fontWeight: number;\n\n        switch (this.effectiveWeight) {\n            case Enums.TextWeight.Lighter:\n                fontWeight = fontType.fontWeights.lighter;\n                break;\n            case Enums.TextWeight.Bolder:\n                fontWeight = fontType.fontWeights.bolder;\n                break;\n            default:\n                fontWeight = fontType.fontWeights.default;\n                break;\n        }\n\n        targetElement.style.fontWeight = fontWeight.toString();\n\n        if (this.ariaHidden) {\n            targetElement.setAttribute(\"aria-hidden\", \"true\");\n        }\n    }\n\n    getAllActions(): Action[] {\n        const result = super.getAllActions();\n\n        if (this.selectAction) {\n            result.push(this.selectAction);\n        }\n\n        return result;\n    }\n\n    get effectiveColor(): Enums.TextColor {\n        return this.color !== undefined ? this.color : this.getEffectiveTextStyleDefinition().color;\n    }\n\n    get effectiveFontType(): Enums.FontType {\n        return this.fontType !== undefined\n            ? this.fontType\n            : this.getEffectiveTextStyleDefinition().fontType;\n    }\n\n    get effectiveIsSubtle(): boolean {\n        return this.isSubtle !== undefined\n            ? this.isSubtle\n            : this.getEffectiveTextStyleDefinition().isSubtle;\n    }\n\n    get effectiveSize(): Enums.TextSize {\n        return this.size !== undefined ? this.size : this.getEffectiveTextStyleDefinition().size;\n    }\n\n    get effectiveWeight(): Enums.TextWeight {\n        return this.weight !== undefined\n            ? this.weight\n            : this.getEffectiveTextStyleDefinition().weight;\n    }\n}\n\nexport type TextBlockStyle = \"default\" | \"heading\" | \"columnHeader\";\n\nexport class TextBlock extends BaseTextBlock {\n    //#region Schema\n\n    static readonly wrapProperty = new BoolProperty(Versions.v1_0, \"wrap\", false);\n    static readonly maxLinesProperty = new NumProperty(Versions.v1_0, \"maxLines\");\n    static readonly styleProperty = new ValueSetProperty(Versions.v1_5, \"style\", [\n        { value: \"default\" },\n        { value: \"columnHeader\" },\n        { value: \"heading\" }\n    ]);\n\n    @property(TextBlock.wrapProperty)\n    wrap: boolean = false;\n\n    @property(TextBlock.maxLinesProperty)\n    maxLines?: number;\n\n    @property(TextBlock.styleProperty)\n    style?: TextBlockStyle;\n\n    //#endregion\n\n    private _computedLineHeight: number;\n    private _originalInnerHtml: string;\n    private _processedText?: string;\n    private _treatAsPlainText: boolean = true;\n\n    private restoreOriginalContent() {\n        if (this.renderedElement !== undefined) {\n            if (this.maxLines && this.maxLines > 0) {\n                this.renderedElement.style.maxHeight =\n                    this._computedLineHeight * this.maxLines + \"px\";\n            }\n\n            const originalHtml = TextBlock._ttRoundtripPolicy?.createHTML(this._originalInnerHtml) ?? this._originalInnerHtml;\n            this.renderedElement.innerHTML = originalHtml as string;\n        }\n    }\n\n    private truncateIfSupported(maxHeight: number): boolean {\n        if (this.renderedElement !== undefined) {\n            // For now, only truncate TextBlocks that contain just a single\n            // paragraph -- since the maxLines calculation doesn't take into\n            // account Markdown lists\n            const children = this.renderedElement.children;\n            const isTextOnly = !children.length;\n            const truncationSupported =\n                isTextOnly ||\n                (children.length === 1 && (<HTMLElement>children[0]).tagName.toLowerCase() === \"p\" && !(<HTMLElement>children[0]).children.length);\n\n            if (truncationSupported) {\n                const element = isTextOnly ? this.renderedElement : <HTMLElement>children[0];\n\n                Utils.truncateText(element, maxHeight, this._computedLineHeight);\n\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    // Markdown processing is handled outside of Adaptive Cards. It's up to the host to ensure that markdown is safely\n    // processed.\n    private static readonly _ttMarkdownPolicy = (typeof window === 'undefined') ? undefined : window.trustedTypes?.createPolicy(\n        \"adaptivecards#markdownPassthroughPolicy\",\n        { createHTML: (value) => value }\n    );\n\n    // When \"advanced\" truncation is enabled (see GlobalSettings.useAdvancedCardBottomTruncation and\n    // GlobalSettings.useAdvancedTextBlockTruncation), we store the original pre-truncation content in\n    // _originalInnerHtml so that we can restore/recalculate truncation later if space availability has changed (see\n    // TextBlock.restoreOriginalContent())\n    private static readonly _ttRoundtripPolicy = (typeof window === 'undefined') ? undefined : window.trustedTypes?.createPolicy(\n        \"adaptivecards#restoreContentsPolicy\",\n        { createHTML: (value) => value }\n    );\n\n    protected setText(value: string) {\n        super.setText(value);\n\n        this._processedText = undefined;\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        this._processedText = undefined;\n\n        if (this.text) {\n            const preProcessedText = this.preProcessPropertyValue(BaseTextBlock.textProperty);\n            const hostConfig = this.hostConfig;\n\n            let element: HTMLElement;\n\n            if (this.forElementId) {\n                const labelElement = document.createElement(\"label\");\n                labelElement.htmlFor = this.forElementId;\n\n                element = labelElement;\n            } else {\n                element = document.createElement(\"div\");\n            }\n\n            element.classList.add(hostConfig.makeCssClassName(\"ac-textBlock\"));\n            element.style.overflow = \"hidden\";\n\n            this.applyStylesTo(element);\n\n            if (this.style === \"heading\") {\n                element.setAttribute(\"role\", \"heading\");\n\n                const headingLevel = this.hostConfig.textBlock.headingLevel;\n\n                if (headingLevel !== undefined && headingLevel > 0) {\n                    element.setAttribute(\"aria-level\", headingLevel.toString());\n                }\n            }\n\n            if (this.selectAction && hostConfig.supportsInteractivity) {\n                element.onclick = (e) => {\n                    if (this.selectAction && this.selectAction.isEffectivelyEnabled()) {\n                        e.preventDefault();\n                        e.cancelBubble = true;\n\n                        this.selectAction.execute();\n                    }\n                };\n\n                this.selectAction.setupElementForAccessibility(element);\n\n                if (this.selectAction.isEffectivelyEnabled()) {\n                    element.classList.add(hostConfig.makeCssClassName(\"ac-selectable\"));\n                }\n            }\n\n            if (!this._processedText) {\n                this._treatAsPlainText = true;\n\n                let formattedText = TextFormatters.formatText(this.lang, preProcessedText);\n\n                if (this.useMarkdown && formattedText) {\n                    if (GlobalSettings.allowMarkForTextHighlighting) {\n                        formattedText = formattedText\n                            .replace(/<mark>/g, \"===\")\n                            .replace(/<\\/mark>/g, \"/==/\");\n                    }\n\n                    const markdownProcessingResult = AdaptiveCard.applyMarkdown(formattedText);\n\n                    if (\n                        markdownProcessingResult.didProcess &&\n                        markdownProcessingResult.outputHtml\n                    ) {\n                        this._processedText = markdownProcessingResult.outputHtml;\n                        this._treatAsPlainText = false;\n\n                        // Only process <mark> tag if markdown processing was applied because\n                        // markdown processing is also responsible for sanitizing the input string\n                        if (GlobalSettings.allowMarkForTextHighlighting && this._processedText) {\n                            let markStyle: string = \"\";\n                            const effectiveStyle = this.getEffectiveStyleDefinition();\n\n                            if (effectiveStyle.highlightBackgroundColor) {\n                                markStyle +=\n                                    \"background-color: \" +\n                                    effectiveStyle.highlightBackgroundColor +\n                                    \";\";\n                            }\n\n                            if (effectiveStyle.highlightForegroundColor) {\n                                markStyle +=\n                                    \"color: \" + effectiveStyle.highlightForegroundColor + \";\";\n                            }\n\n                            if (markStyle) {\n                                markStyle = 'style=\"' + markStyle + '\"';\n                            }\n\n                            this._processedText = this._processedText\n                                .replace(/===/g, \"<mark \" + markStyle + \">\")\n                                .replace(/\\/==\\//g, \"</mark>\");\n                        }\n                    } else {\n                        this._processedText = formattedText;\n                        this._treatAsPlainText = true;\n                    }\n                } else {\n                    this._processedText = formattedText;\n                    this._treatAsPlainText = true;\n                }\n            }\n\n            if (!this._processedText) {\n                this._processedText = \"\";\n            }\n\n            if (this._treatAsPlainText) {\n                element.innerText = this._processedText;\n            } else {\n                const processedHtml =\n                    TextBlock._ttMarkdownPolicy?.createHTML(this._processedText) ??\n                    this._processedText;\n                element.innerHTML = processedHtml as string;\n            }\n\n            if (element.firstElementChild instanceof HTMLElement) {\n                const firstElementChild = element.firstElementChild;\n                firstElementChild.style.marginTop = \"0px\";\n                firstElementChild.style.width = \"100%\";\n\n                if (!this.wrap) {\n                    firstElementChild.style.overflow = \"hidden\";\n                    firstElementChild.style.textOverflow = \"ellipsis\";\n                }\n            }\n\n            if (element.lastElementChild instanceof HTMLElement) {\n                element.lastElementChild.style.marginBottom = \"0px\";\n            }\n\n            const anchors = element.getElementsByTagName(\"a\");\n\n            for (const anchor of Array.from(anchors)) {\n                anchor.classList.add(hostConfig.makeCssClassName(\"ac-anchor\"));\n                anchor.target = \"_blank\";\n                anchor.onclick = (e: MouseEvent) => {\n                    if (raiseAnchorClickedEvent(this, anchor, e)) {\n                        e.preventDefault();\n                        e.cancelBubble = true;\n                    }\n                };\n                anchor.oncontextmenu = (e: MouseEvent) => {\n                    if (raiseAnchorClickedEvent(this, anchor, e)) {\n                        e.preventDefault();\n                        e.cancelBubble = true;\n\n                        return false;\n                    }\n\n                    return true;\n                };\n            }\n\n            if (this.wrap) {\n                element.style.wordWrap = \"break-word\";\n\n                if (this.maxLines && this.maxLines > 0) {\n                    element.style.overflow = \"hidden\";\n\n                    if (Utils.isInternetExplorer() || !GlobalSettings.useWebkitLineClamp) {\n                        element.style.maxHeight = this._computedLineHeight * this.maxLines + \"px\";\n                    } else {\n                        // While non standard, --webkit-line-clamp works in every browser (except IE)\n                        // and is a great solution to support the maxLines feature with ellipsis\n                        // truncation. With --webkit-line-clamp there is need to use explicit line heights\n                        element.style.removeProperty(\"line-height\");\n                        element.style.display = \"-webkit-box\";\n                        element.style.webkitBoxOrient = \"vertical\";\n                        element.style.webkitLineClamp = this.maxLines.toString();\n                    }\n                }\n            } else {\n                element.style.whiteSpace = \"nowrap\";\n                element.style.textOverflow = \"ellipsis\";\n            }\n\n            if (\n                GlobalSettings.useAdvancedTextBlockTruncation ||\n                GlobalSettings.useAdvancedCardBottomTruncation\n            ) {\n                this._originalInnerHtml = element.innerHTML;\n            }\n\n            return element;\n        } else {\n            return undefined;\n        }\n    }\n\n    protected truncateOverflow(maxHeight: number): boolean {\n        if (maxHeight >= this._computedLineHeight) {\n            return this.truncateIfSupported(maxHeight);\n        }\n\n        return false;\n    }\n\n    protected undoOverflowTruncation() {\n        this.restoreOriginalContent();\n\n        if (GlobalSettings.useAdvancedTextBlockTruncation && this.maxLines) {\n            const maxHeight = this._computedLineHeight * this.maxLines;\n\n            this.truncateIfSupported(maxHeight);\n        }\n    }\n\n    useMarkdown: boolean = true;\n    forElementId?: string;\n\n    applyStylesTo(targetElement: HTMLElement) {\n        super.applyStylesTo(targetElement);\n\n        switch (this.getEffectiveHorizontalAlignment()) {\n            case Enums.HorizontalAlignment.Center:\n                targetElement.style.textAlign = \"center\";\n                break;\n            case Enums.HorizontalAlignment.Right:\n                targetElement.style.textAlign = \"end\";\n                break;\n            default:\n                targetElement.style.textAlign = \"start\";\n                break;\n        }\n\n        const lineHeights = this.hostConfig.lineHeights;\n\n        if (lineHeights) {\n            switch (this.effectiveSize) {\n                case Enums.TextSize.Small:\n                    this._computedLineHeight = lineHeights.small;\n                    break;\n                case Enums.TextSize.Medium:\n                    this._computedLineHeight = lineHeights.medium;\n                    break;\n                case Enums.TextSize.Large:\n                    this._computedLineHeight = lineHeights.large;\n                    break;\n                case Enums.TextSize.ExtraLarge:\n                    this._computedLineHeight = lineHeights.extraLarge;\n                    break;\n                default:\n                    this._computedLineHeight = lineHeights.default;\n                    break;\n            }\n        } else {\n            // Looks like 1.33 is the magic number to compute line-height\n            // from font size.\n            this._computedLineHeight =\n                this.getFontSize(this.hostConfig.getFontTypeDefinition(this.effectiveFontType)) *\n                1.33;\n        }\n\n        targetElement.style.lineHeight = this._computedLineHeight + \"px\";\n    }\n\n    getJsonTypeName(): string {\n        return \"TextBlock\";\n    }\n\n    getEffectiveTextStyleDefinition(): TextStyleDefinition {\n        if (this.style) {\n            return this.hostConfig.textStyles.getStyleByName(this.style);\n        }\n\n        return super.getEffectiveTextStyleDefinition();\n    }\n\n    updateLayout(processChildren: boolean = false) {\n        super.updateLayout(processChildren);\n\n        if (GlobalSettings.useAdvancedTextBlockTruncation && this.maxLines && this.isDisplayed()) {\n            // Reset the element's innerHTML in case the available room for\n            // content has increased\n            this.restoreOriginalContent();\n            this.truncateIfSupported(this._computedLineHeight * this.maxLines);\n        }\n    }\n}\n\nexport class TextRun extends BaseTextBlock {\n    //#region Schema\n\n    static readonly italicProperty = new BoolProperty(Versions.v1_2, \"italic\", false);\n    static readonly strikethroughProperty = new BoolProperty(Versions.v1_2, \"strikethrough\", false);\n    static readonly highlightProperty = new BoolProperty(Versions.v1_2, \"highlight\", false);\n    static readonly underlineProperty = new BoolProperty(Versions.v1_3, \"underline\", false);\n\n    protected populateSchema(schema: SerializableObjectSchema) {\n        super.populateSchema(schema);\n\n        schema.add(BaseTextBlock.selectActionProperty);\n    }\n\n    @property(TextRun.italicProperty)\n    italic: boolean = false;\n\n    @property(TextRun.strikethroughProperty)\n    strikethrough: boolean = false;\n\n    @property(TextRun.highlightProperty)\n    highlight: boolean = false;\n\n    @property(TextRun.underlineProperty)\n    underline: boolean = false;\n\n    //#endregion\n\n    protected internalRender(): HTMLElement | undefined {\n        if (this.text) {\n            const preProcessedText = this.preProcessPropertyValue(BaseTextBlock.textProperty);\n            const hostConfig = this.hostConfig;\n\n            let formattedText = TextFormatters.formatText(this.lang, preProcessedText);\n\n            if (!formattedText) {\n                formattedText = \"\";\n            }\n\n            const element = document.createElement(\"span\");\n            element.classList.add(hostConfig.makeCssClassName(\"ac-textRun\"));\n\n            this.applyStylesTo(element);\n\n            if (this.selectAction && hostConfig.supportsInteractivity) {\n                const anchor = document.createElement(\"a\");\n                anchor.classList.add(hostConfig.makeCssClassName(\"ac-anchor\"));\n\n                const href = this.selectAction.getHref();\n\n                anchor.href = href ? href : \"\";\n                anchor.target = \"_blank\";\n                anchor.onclick = (e) => {\n                    if (this.selectAction && this.selectAction.isEffectivelyEnabled()) {\n                        e.preventDefault();\n                        e.cancelBubble = true;\n\n                        this.selectAction.execute();\n                    }\n                };\n\n                this.selectAction.setupElementForAccessibility(anchor);\n\n                anchor.innerText = formattedText;\n\n                element.appendChild(anchor);\n            } else {\n                element.innerText = formattedText;\n            }\n\n            return element;\n        } else {\n            return undefined;\n        }\n    }\n\n    applyStylesTo(targetElement: HTMLElement) {\n        super.applyStylesTo(targetElement);\n\n        if (this.italic) {\n            targetElement.style.fontStyle = \"italic\";\n        }\n\n        if (this.strikethrough) {\n            targetElement.style.textDecoration = \"line-through\";\n        }\n\n        if (this.highlight) {\n            const colorDefinition = this.getColorDefinition(\n                this.getEffectiveStyleDefinition().foregroundColors,\n                this.effectiveColor\n            );\n\n            const backgroundColor = Utils.stringToCssColor(\n                this.effectiveIsSubtle\n                    ? colorDefinition.highlightColors.subtle\n                    : colorDefinition.highlightColors.default\n            );\n            if (backgroundColor) {\n                targetElement.style.backgroundColor = backgroundColor;\n            }\n        }\n\n        if (this.underline) {\n            targetElement.style.textDecoration = \"underline\";\n        }\n    }\n\n    getJsonTypeName(): string {\n        return \"TextRun\";\n    }\n\n    get isStandalone(): boolean {\n        return false;\n    }\n\n    get isInline(): boolean {\n        return true;\n    }\n}\n\nexport class RichTextBlock extends CardElement {\n    private _inlines: CardElement[] = [];\n\n    private internalAddInline(inline: CardElement, forceAdd: boolean = false) {\n        if (!inline.isInline) {\n            throw new Error(Strings.errors.elementCannotBeUsedAsInline());\n        }\n\n        const doAdd: boolean = inline.parent === undefined || forceAdd;\n\n        if (!doAdd && inline.parent !== this) {\n            throw new Error(Strings.errors.inlineAlreadyParented());\n        } else {\n            inline.setParent(this);\n\n            this._inlines.push(inline);\n        }\n    }\n\n    protected internalParse(source: any, context: SerializationContext) {\n        super.internalParse(source, context);\n\n        this._inlines = [];\n\n        if (Array.isArray(source[\"inlines\"])) {\n            for (const jsonInline of source[\"inlines\"]) {\n                let inline: CardElement | undefined;\n\n                if (typeof jsonInline === \"string\") {\n                    const textRun = new TextRun();\n                    textRun.text = jsonInline;\n\n                    inline = textRun;\n                } else {\n                    // No fallback for inlines in 1.2\n                    inline = context.parseElement(this, jsonInline, [], false);\n                }\n\n                if (inline) {\n                    this.internalAddInline(inline, true);\n                }\n            }\n        }\n    }\n\n    protected internalToJSON(target: PropertyBag, context: SerializationContext) {\n        super.internalToJSON(target, context);\n\n        if (this._inlines.length > 0) {\n            const jsonInlines: any[] = [];\n\n            for (const inline of this._inlines) {\n                jsonInlines.push(inline.toJSON(context));\n            }\n\n            context.serializeValue(target, \"inlines\", jsonInlines);\n        }\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        if (this._inlines.length > 0) {\n            let element: HTMLElement;\n\n            if (this.forElementId) {\n                const labelElement = document.createElement(\"label\");\n                labelElement.htmlFor = this.forElementId;\n\n                element = labelElement;\n            } else {\n                element = document.createElement(\"div\");\n            }\n\n            element.className = this.hostConfig.makeCssClassName(\"ac-richTextBlock\");\n\n            switch (this.getEffectiveHorizontalAlignment()) {\n                case Enums.HorizontalAlignment.Center:\n                    element.style.textAlign = \"center\";\n                    break;\n                case Enums.HorizontalAlignment.Right:\n                    element.style.textAlign = \"end\";\n                    break;\n                default:\n                    element.style.textAlign = \"start\";\n                    break;\n            }\n\n            let renderedInlines: number = 0;\n\n            for (const inline of this._inlines) {\n                const renderedInline = inline.render();\n\n                if (renderedInline) {\n                    element.appendChild(renderedInline);\n\n                    renderedInlines++;\n                }\n            }\n\n            if (renderedInlines > 0) {\n                return element;\n            }\n        }\n\n        return undefined;\n    }\n\n    forElementId?: string;\n\n    asString(): string | undefined {\n        let result = \"\";\n\n        for (const inline of this._inlines) {\n            result += inline.asString();\n        }\n\n        return result;\n    }\n\n    getJsonTypeName(): string {\n        return \"RichTextBlock\";\n    }\n\n    getInlineCount(): number {\n        return this._inlines.length;\n    }\n\n    getInlineAt(index: number): CardElement {\n        if (index >= 0 && index < this._inlines.length) {\n            return this._inlines[index];\n        } else {\n            throw new Error(Strings.errors.indexOutOfRange(index));\n        }\n    }\n\n    addInline(inline: CardElement | string) {\n        if (typeof inline === \"string\") {\n            this.internalAddInline(new TextRun(inline));\n        } else {\n            this.internalAddInline(inline);\n        }\n    }\n\n    removeInline(inline: CardElement): boolean {\n        const index = this._inlines.indexOf(inline);\n\n        if (index >= 0) {\n            this._inlines[index].setParent(undefined);\n            this._inlines.splice(index, 1);\n\n            return true;\n        }\n\n        return false;\n    }\n}\n\nexport class Fact extends SerializableObject {\n    //#region Schema\n\n    static readonly titleProperty = new StringProperty(Versions.v1_0, \"title\");\n    static readonly valueProperty = new StringProperty(Versions.v1_0, \"value\");\n\n    // For historic reasons, the \"title\" schema property is exposed as \"name\" in the OM.\n    @property(Fact.titleProperty)\n    name?: string;\n\n    @property(Fact.valueProperty)\n    value?: string;\n\n    //#endregion\n\n    protected getSchemaKey(): string {\n        return \"Fact\";\n    }\n\n    constructor(name?: string, value?: string) {\n        super();\n\n        this.name = name;\n        this.value = value;\n    }\n}\n\nexport class FactSet extends CardElement {\n    //#region Schema\n\n    static readonly factsProperty = new SerializableObjectCollectionProperty(\n        Versions.v1_0,\n        \"facts\",\n        Fact\n    );\n\n    @property(FactSet.factsProperty)\n    facts: Fact[];\n\n    //#endregion\n\n    protected get useDefaultSizing(): boolean {\n        return false;\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        let element: HTMLElement | undefined = undefined;\n        const hostConfig = this.hostConfig;\n\n        if (this.facts.length > 0) {\n            element = document.createElement(\"table\");\n            element.style.borderWidth = \"0px\";\n            element.style.borderSpacing = \"0px\";\n            element.style.borderStyle = \"none\";\n            element.style.borderCollapse = \"collapse\";\n            element.style.display = \"block\";\n            element.style.overflow = \"hidden\";\n            element.classList.add(hostConfig.makeCssClassName(\"ac-factset\"));\n            element.setAttribute(\"role\", \"presentation\");\n\n            for (let i = 0; i < this.facts.length; i++) {\n                const trElement = document.createElement(\"tr\");\n\n                if (i > 0) {\n                    trElement.style.marginTop = hostConfig.factSet.spacing + \"px\";\n                }\n\n                // Title column\n                let tdElement = document.createElement(\"td\");\n                tdElement.style.padding = \"0\";\n                tdElement.classList.add(hostConfig.makeCssClassName(\"ac-fact-title\"));\n\n                if (hostConfig.factSet.title.maxWidth) {\n                    tdElement.style.maxWidth = hostConfig.factSet.title.maxWidth + \"px\";\n                }\n\n                tdElement.style.verticalAlign = \"top\";\n\n                let textBlock = new TextBlock();\n                textBlock.setParent(this);\n                textBlock.text =\n                    !this.facts[i].name && this.isDesignMode() ? \"Title\" : this.facts[i].name;\n                textBlock.size = hostConfig.factSet.title.size;\n                textBlock.color = hostConfig.factSet.title.color;\n                textBlock.isSubtle = hostConfig.factSet.title.isSubtle;\n                textBlock.weight = hostConfig.factSet.title.weight;\n                textBlock.wrap = hostConfig.factSet.title.wrap;\n                textBlock.spacing = Enums.Spacing.None;\n\n                Utils.appendChild(tdElement, textBlock.render());\n                Utils.appendChild(trElement, tdElement);\n\n                // Spacer column\n                tdElement = document.createElement(\"td\");\n                tdElement.style.width = \"10px\";\n\n                Utils.appendChild(trElement, tdElement);\n\n                // Value column\n                tdElement = document.createElement(\"td\");\n                tdElement.style.padding = \"0\";\n                tdElement.style.verticalAlign = \"top\";\n                tdElement.classList.add(hostConfig.makeCssClassName(\"ac-fact-value\"));\n\n                textBlock = new TextBlock();\n                textBlock.setParent(this);\n                textBlock.text = this.facts[i].value;\n                textBlock.size = hostConfig.factSet.value.size;\n                textBlock.color = hostConfig.factSet.value.color;\n                textBlock.isSubtle = hostConfig.factSet.value.isSubtle;\n                textBlock.weight = hostConfig.factSet.value.weight;\n                textBlock.wrap = hostConfig.factSet.value.wrap;\n                textBlock.spacing = Enums.Spacing.None;\n\n                Utils.appendChild(tdElement, textBlock.render());\n                Utils.appendChild(trElement, tdElement);\n                Utils.appendChild(element, trElement);\n            }\n        }\n\n        return element;\n    }\n\n    getJsonTypeName(): string {\n        return \"FactSet\";\n    }\n}\n\nclass ImageDimensionProperty extends PropertyDefinition {\n    getInternalName(): string {\n        return this.internalName;\n    }\n\n    parse(\n        sender: SerializableObject,\n        source: PropertyBag,\n        context: BaseSerializationContext\n    ): number | undefined {\n        let result: number | undefined = undefined;\n        const sourceValue = source[this.name];\n\n        if (sourceValue === undefined) {\n            return this.defaultValue;\n        }\n\n        let isValid = false;\n\n        if (typeof sourceValue === \"string\") {\n            try {\n                const size = SizeAndUnit.parse(sourceValue, true);\n\n                if (size.unit === Enums.SizeUnit.Pixel) {\n                    result = size.physicalSize;\n\n                    isValid = true;\n                }\n            } catch {\n                // Swallow the exception\n            }\n\n            // If the source value isn't valid per this property definition,\n            // check its validity per the fallback property, if specified\n            if (!isValid && this.fallbackProperty) {\n                isValid = this.fallbackProperty.isValidValue(sourceValue, context);\n            }\n        }\n\n        if (!isValid) {\n            context.logParseEvent(\n                sender,\n                Enums.ValidationEvent.InvalidPropertyValue,\n                Strings.errors.invalidPropertyValue(sourceValue, this.name)\n            );\n        }\n\n        return result;\n    }\n\n    toJSON(\n        sender: SerializableObject,\n        target: PropertyBag,\n        value: number | undefined,\n        context: BaseSerializationContext\n    ) {\n        context.serializeValue(\n            target,\n            this.name,\n            typeof value === \"number\" && !isNaN(value) ? value + \"px\" : undefined\n        );\n    }\n\n    constructor(\n        readonly targetVersion: Version,\n        readonly name: string,\n        readonly internalName: string,\n        readonly fallbackProperty?: ValueSetProperty\n    ) {\n        super(targetVersion, name);\n    }\n}\n\nexport class Image extends CardElement {\n    //#region Schema\n\n    static readonly urlProperty = new StringProperty(Versions.v1_0, \"url\");\n    static readonly altTextProperty = new StringProperty(Versions.v1_0, \"altText\");\n    static readonly backgroundColorProperty = new StringProperty(Versions.v1_1, \"backgroundColor\");\n    static readonly styleProperty = new EnumProperty(\n        Versions.v1_0,\n        \"style\",\n        Enums.ImageStyle,\n        Enums.ImageStyle.Default\n    );\n    static readonly sizeProperty = new EnumProperty(\n        Versions.v1_0,\n        \"size\",\n        Enums.Size,\n        Enums.Size.Auto\n    );\n    static readonly pixelWidthProperty = new ImageDimensionProperty(\n        Versions.v1_1,\n        \"width\",\n        \"pixelWidth\"\n    );\n    static readonly pixelHeightProperty = new ImageDimensionProperty(\n        Versions.v1_1,\n        \"height\",\n        \"pixelHeight\",\n        CardElement.heightProperty\n    );\n    static readonly selectActionProperty = new ActionProperty(Versions.v1_1, \"selectAction\", [\n        \"Action.ShowCard\"\n    ]);\n    static readonly shouldForceLoadProperty = new BoolProperty(Versions.v1_6, \"forceLoad\", false);\n\n    protected populateSchema(schema: SerializableObjectSchema) {\n        super.populateSchema(schema);\n\n        schema.remove(CardElement.heightProperty);\n    }\n\n    public renderedImageElement?: HTMLElement;\n\n    @property(Image.urlProperty)\n    url?: string;\n\n    @property(Image.altTextProperty)\n    altText?: string;\n\n    @property(Image.backgroundColorProperty)\n    backgroundColor?: string;\n\n    @property(Image.sizeProperty)\n    size: Enums.Size = Enums.Size.Auto;\n\n    @property(Image.styleProperty)\n    style: Enums.ImageStyle = Enums.ImageStyle.Default;\n\n    @property(Image.pixelWidthProperty)\n    pixelWidth?: number;\n\n    @property(Image.pixelHeightProperty)\n    pixelHeight?: number;\n\n    @property(Image.selectActionProperty)\n    selectAction?: Action;\n\n    @property(Image.shouldForceLoadProperty)\n    forceLoad: boolean;\n\n    //#endregion\n\n    private applySize(element: HTMLElement) {\n        if (this.pixelWidth || this.pixelHeight) {\n            if (this.pixelWidth) {\n                element.style.width = this.pixelWidth + \"px\";\n            }\n\n            if (this.pixelHeight) {\n                element.style.height = this.pixelHeight + \"px\";\n            }\n        } else {\n            if (this.maxHeight) {\n                // If the image is constrained in height, we set its height property and\n                // auto and stretch are ignored (default to medium). THis is necessary for\n                // ImageSet which uses a maximum image height as opposed to the cards width\n                // as a constraining dimension\n                element.style.height = this.hostConfig.getEffectiveImageSize(this.size) + \"px\";\n                element.style.maxHeight = this.maxHeight + \"px\";\n            } else {\n                switch (this.size) {\n                    case Enums.Size.Stretch:\n                        element.style.width = \"100%\";\n                        break;\n                    case Enums.Size.Auto:\n                        element.style.maxWidth = \"100%\";\n                        break;\n                    default:\n                        element.style.width = this.hostConfig.getEffectiveImageSize(this.size) + \"px\";\n                        break;\n                }\n\n                element.style.maxHeight = \"100%\";\n            }\n        }\n    }\n\n    protected get useDefaultSizing() {\n        return false;\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        let element: HTMLElement | undefined = undefined;\n\n        if (this.url) {\n            element = document.createElement(\"div\");\n            element.style.display = \"flex\";\n            element.style.alignItems = \"flex-start\";\n\n            // Cache hostConfig to avoid walking the parent hierarchy multiple times\n            const hostConfig = this.hostConfig;\n\n            switch (this.getEffectiveHorizontalAlignment()) {\n                case Enums.HorizontalAlignment.Center:\n                    element.style.justifyContent = \"center\";\n                    break;\n                case Enums.HorizontalAlignment.Right:\n                    element.style.justifyContent = \"flex-end\";\n                    break;\n                default:\n                    element.style.justifyContent = \"flex-start\";\n                    break;\n            }\n\n            const imageElement = document.createElement(\"img\");\n\n            this.renderedImageElement = imageElement;\n\n            imageElement.onload = (_e: Event) => {\n                raiseImageLoadedEvent(this);\n            };\n            imageElement.onerror = (_e: Event) => {\n                if (this.renderedElement) {\n                    const card = this.getRootElement() as AdaptiveCard;\n\n                    clearElement(this.renderedElement);\n\n                    if (card && card.designMode) {\n                        const errorElement = document.createElement(\"div\");\n                        errorElement.style.display = \"flex\";\n                        errorElement.style.alignItems = \"center\";\n                        errorElement.style.justifyContent = \"center\";\n                        errorElement.style.backgroundColor = \"#EEEEEE\";\n                        errorElement.style.color = \"black\";\n                        errorElement.innerText = \":-(\";\n                        errorElement.style.padding = \"10px\";\n\n                        this.applySize(errorElement);\n\n                        this.renderedElement.appendChild(errorElement);\n                    }\n                }\n\n                raiseImageLoadedEvent(this);\n            };\n            imageElement.style.minWidth = \"0\";\n            imageElement.classList.add(hostConfig.makeCssClassName(\"ac-image\"));\n\n            if (this.selectAction && hostConfig.supportsInteractivity) {\n                imageElement.onkeypress = (e) => {\n                    if (\n                        this.selectAction &&\n                        this.selectAction.isEffectivelyEnabled() &&\n                        (e.code === \"Enter\" || e.code === \"Space\")\n                    ) {\n                        // enter or space pressed\n                        e.preventDefault();\n                        e.cancelBubble = true;\n\n                        this.selectAction.execute();\n                    }\n                };\n\n                imageElement.onclick = (e) => {\n                    if (this.selectAction && this.selectAction.isEffectivelyEnabled()) {\n                        e.preventDefault();\n                        e.cancelBubble = true;\n\n                        this.selectAction.execute();\n                    }\n                };\n\n                this.selectAction.setupElementForAccessibility(imageElement);\n\n                if (this.selectAction.isEffectivelyEnabled()) {\n                    imageElement.classList.add(hostConfig.makeCssClassName(\"ac-selectable\"));\n                }\n            }\n\n            this.applySize(imageElement);\n\n            if (this.style === Enums.ImageStyle.Person) {\n                imageElement.style.borderRadius = \"50%\";\n                imageElement.style.backgroundPosition = \"50% 50%\";\n                imageElement.style.backgroundRepeat = \"no-repeat\";\n            }\n\n            const backgroundColor = Utils.stringToCssColor(this.backgroundColor);\n            if (backgroundColor) {\n                imageElement.style.backgroundColor = backgroundColor;\n            }\n\n            this.setImageSource(imageElement);    \n\n            const altTextProperty = this.preProcessPropertyValue(Image.altTextProperty);\n            if (altTextProperty) {\n                imageElement.alt = <string>altTextProperty;\n            }\n\n            element.appendChild(imageElement);\n        }\n\n        return element;\n    }\n\n    maxHeight?: number;\n\n    getJsonTypeName(): string {\n        return \"Image\";\n    }\n\n    getAllActions(): Action[] {\n        const result = super.getAllActions();\n\n        if (this.selectAction) {\n            result.push(this.selectAction);\n        }\n\n        return result;\n    }\n\n    getActionById(id: string) {\n        let result = super.getActionById(id);\n\n        if (!result && this.selectAction) {\n            result = this.selectAction.getActionById(id);\n        }\n\n        return result;\n    }\n\n    getResourceInformation(): IResourceInformation[] {\n        return this.url ? [{ url: this.url, mimeType: \"image\" }] : [];\n    }\n\n    private setImageSource(imageElement: HTMLImageElement): void {\n        const imageForceLoader: ImageForceLoader = new ImageForceLoader(this.forceLoad, this.url);\n        imageForceLoader.configureImage(this);\n        imageElement.src = <string>this.preProcessPropertyValue(Image.urlProperty);\n        imageForceLoader.resetImage(this);\n    } \n}\n\n// configures Image element to fetch a new image data from url source instead of relying on cache\n// currently rudimentary refreshing scheme is used\n// by attaching unique query string to url, we bypass the cache usage\nclass ImageForceLoader{\n    private uniqueHash : string;\n    public readonly urlWithForceLoadOption : string;\n    constructor(\n        readonly doForceLoad: boolean,\n        readonly url : string | undefined,\n    )\n    {\n        if (url && url.length && doForceLoad) {\n            // we can do better by appending unique key such as uuid instead of epoch\n            // however the current usage is for front-end ui and networking,  \n            // since ui is running in single main thread, this is sufficient mechanism\n            // without needing to depend on external library for our small use cases.\n            this.uniqueHash = '?' + Date.now();\n            this.urlWithForceLoadOption = url + this.uniqueHash;\n        }\n    }\n\n    public configureImage(image: Image): void {\n        if (this.urlWithForceLoadOption && this.urlWithForceLoadOption.length) {\n            image.url = this.urlWithForceLoadOption;\n        }\n    }\n\n    public resetImage(image: Image): void {\n        image.url = this.url;\n    }\n}\n\nexport abstract class CardElementContainer extends CardElement {\n    //#region Schema\n\n    static readonly selectActionProperty = new ActionProperty(Versions.v1_1, \"selectAction\", [\n        \"Action.ShowCard\"\n    ]);\n\n    protected populateSchema(schema: SerializableObjectSchema) {\n        super.populateSchema(schema);\n\n        if (!this.isSelectable) {\n            schema.remove(CardElementContainer.selectActionProperty);\n        }\n    }\n\n    @property(CardElementContainer.selectActionProperty)\n    protected _selectAction?: Action;\n\n    //#endregion\n\n    protected isElementAllowed(element: CardElement) {\n        return this.hostConfig.supportsInteractivity || !element.isInteractive;\n    }\n\n    protected applyPadding() {\n        super.applyPadding();\n\n        if (!this.renderedElement) {\n            return;\n        }\n\n        let physicalPadding = new SpacingDefinition();\n\n        if (this.getEffectivePadding()) {\n            physicalPadding = this.hostConfig.paddingDefinitionToSpacingDefinition(\n                this.getEffectivePadding()\n            );\n        }\n\n        this.renderedElement.style.paddingTop = physicalPadding.top + \"px\";\n        this.renderedElement.style.paddingRight = physicalPadding.right + \"px\";\n        this.renderedElement.style.paddingBottom = physicalPadding.bottom + \"px\";\n        this.renderedElement.style.paddingLeft = physicalPadding.left + \"px\";\n\n        this.renderedElement.style.marginRight = \"0\";\n        this.renderedElement.style.marginLeft = \"0\";\n    }\n\n    protected get isSelectable(): boolean {\n        return false;\n    }\n\n    protected forbiddenChildElements(): string[] {\n        return [];\n    }\n\n    abstract getItemCount(): number;\n    abstract getItemAt(index: number): CardElement;\n    abstract getFirstVisibleRenderedItem(): CardElement | undefined;\n    abstract getLastVisibleRenderedItem(): CardElement | undefined;\n    abstract removeItem(item: CardElement): boolean;\n\n    allowVerticalOverflow: boolean = false;\n\n    releaseDOMResources() {\n        super.releaseDOMResources();\n\n        for (let i = 0; i < this.getItemCount(); i++) {\n            this.getItemAt(i).releaseDOMResources();\n        }\n    }\n\n    internalValidateProperties(context: ValidationResults) {\n        super.internalValidateProperties(context);\n\n        for (let i = 0; i < this.getItemCount(); i++) {\n            const item = this.getItemAt(i);\n\n            if (!this.hostConfig.supportsInteractivity && item.isInteractive) {\n                context.addFailure(\n                    this,\n                    Enums.ValidationEvent.InteractivityNotAllowed,\n                    Strings.errors.interactivityNotAllowed()\n                );\n            }\n\n            if (!this.isElementAllowed(item)) {\n                context.addFailure(\n                    this,\n                    Enums.ValidationEvent.InteractivityNotAllowed,\n                    Strings.errors.elementTypeNotAllowed(item.getJsonTypeName())\n                );\n            }\n\n            item.internalValidateProperties(context);\n        }\n\n        if (this._selectAction) {\n            this._selectAction.internalValidateProperties(context);\n        }\n    }\n\n    render(): HTMLElement | undefined {\n        const element = super.render();\n\n        if (element) {\n            const hostConfig = this.hostConfig;\n\n            if (this.allowVerticalOverflow) {\n                element.style.overflowX = \"hidden\";\n                element.style.overflowY = \"auto\";\n            }\n\n            if (\n                element &&\n                this.isSelectable &&\n                this._selectAction &&\n                hostConfig.supportsInteractivity\n            ) {\n                element.onclick = (e) => {\n                    if (this._selectAction && this._selectAction.isEffectivelyEnabled()) {\n                        e.preventDefault();\n                        e.cancelBubble = true;\n\n                        this._selectAction.execute();\n                    }\n                };\n\n                element.onkeypress = (e) => {\n                    if (\n                        this._selectAction &&\n                        this._selectAction.isEffectivelyEnabled() &&\n                        (e.code === \"Enter\" || e.code === \"Space\")\n                    ) {\n                        // Enter or space pressed\n                        e.preventDefault();\n                        e.cancelBubble = true;\n\n                        this._selectAction.execute();\n                    }\n                };\n\n                this._selectAction.setupElementForAccessibility(element);\n\n                if (this._selectAction.isEffectivelyEnabled()) {\n                    element.classList.add(hostConfig.makeCssClassName(\"ac-selectable\"));\n                }\n            }\n        }\n\n        return element;\n    }\n\n    updateLayout(processChildren: boolean = true) {\n        super.updateLayout(processChildren);\n\n        if (processChildren) {\n            for (let i = 0; i < this.getItemCount(); i++) {\n                this.getItemAt(i).updateLayout();\n            }\n        }\n    }\n\n    getAllInputs(processActions: boolean = true): Input[] {\n        let result: Input[] = [];\n\n        for (let i = 0; i < this.getItemCount(); i++) {\n            result.push(...this.getItemAt(i).getAllInputs(processActions));\n        }\n\n        return result;\n    }\n\n    getAllActions(): Action[] {\n        const result = super.getAllActions();\n\n        for (let i = 0; i < this.getItemCount(); i++) {\n            result.push(...this.getItemAt(i).getAllActions());\n        }\n\n        if (this._selectAction) {\n            result.push(this._selectAction);\n        }\n\n        return result;\n    }\n\n    getResourceInformation(): IResourceInformation[] {\n        let result: IResourceInformation[] = [];\n\n        for (let i = 0; i < this.getItemCount(); i++) {\n            result.push(...this.getItemAt(i).getResourceInformation());\n        }\n\n        return result;\n    }\n\n    getElementById(id: string): CardElement | undefined {\n        let result = super.getElementById(id);\n\n        if (!result) {\n            for (let i = 0; i < this.getItemCount(); i++) {\n                result = this.getItemAt(i).getElementById(id);\n\n                if (result) {\n                    break;\n                }\n            }\n        }\n\n        return result;\n    }\n\n    /**\n     * @inheritdoc\n     */\n    findDOMNodeOwner(node: Node): CardObject | undefined {\n        let target: CardObject | undefined = undefined;\n\n        for (let i = 0; i < this.getItemCount(); i++) {\n            // recur through child elements\n            target = this.getItemAt(i).findDOMNodeOwner(node);\n\n            if (target) {\n                return target;\n            }\n        }\n\n        // If not found in children, check the actions\n        for (let i = 0; i < this.getActionCount(); i++) {\n            target = this.getActionAt(i)?.findDOMNodeOwner(node);\n\n            if (target) {\n                return target;\n            }\n        }\n\n        // if not found in children or actions, defer to parent implementation\n        return super.findDOMNodeOwner(node);\n    }\n}\n\nexport class ImageSet extends CardElementContainer {\n    //#region Schema\n\n    static readonly imagesProperty = new SerializableObjectCollectionProperty(\n        Versions.v1_0,\n        \"images\",\n        Image,\n        (sender: SerializableObject, item: Image) => {\n            item.setParent(<CardElement>sender);\n        }\n    );\n\n    static readonly imageSizeProperty = new EnumProperty(\n        Versions.v1_0,\n        \"imageSize\",\n        Enums.ImageSize,\n        Enums.ImageSize.Medium\n    );\n\n    static readonly imagePresentationStyle = new EnumProperty(\n        Versions.v1_6,\n        \"style\",\n        Enums.ImageSetPresentationStyle,\n        Enums.ImageSetPresentationStyle.Default\n    );\n\n    static readonly pixelOffset = new NumProperty(\n        Versions.v1_6,\n        \"offset\",\n        0,\n        undefined\n    );\n\n    @property(ImageSet.imagesProperty)\n    private _images: Image[] = [];\n\n    @property(ImageSet.imageSizeProperty)\n    imageSize: Enums.ImageSize = Enums.ImageSize.Medium;\n\n    @property(ImageSet.imagePresentationStyle)\n    presentationStyle: Enums.ImageSetPresentationStyle = Enums.ImageSetPresentationStyle.Default;\n\n    @property(ImageSet.pixelOffset)\n    pixelOffset: number = 0;\n\n    //#endregion\n\n    protected internalRender(): HTMLElement | undefined {\n        let element: HTMLElement | undefined = undefined;\n\n        if (this._images.length > 0) {\n            const imageSetIsGrid = (this.presentationStyle === Enums.ImageSetPresentationStyle.Grid);\n\n            element = document.createElement(\"div\");\n            element.style.display = \"flex\";\n            element.style.flexWrap = \"wrap\";\n            element.classList.add(this.hostConfig.makeCssClassName(\"ac-imageSet\"));\n            element.classList.toggle(this.hostConfig.makeCssClassName(\"ac-imageSetStyle-grid\"), imageSetIsGrid);\n            element.style.gap = \"5px\";\n\n            let renderImageSize : Enums.Size;\n            switch (this.imageSize) {\n                case Enums.ImageSize.Small:\n                    renderImageSize = Enums.Size.Small;\n                    break;\n                case Enums.ImageSize.Large:\n                    renderImageSize = Enums.Size.Large;\n                    break;\n                default:\n                    renderImageSize = Enums.Size.Medium;\n                    break;\n            }\n\n            const effectiveImageSize = this.hostConfig.getEffectiveImageSize(renderImageSize);\n\n            for (const image of this._images) {\n                image.maxHeight = this.hostConfig.imageSet.maxImageHeight;\n\n                if (imageSetIsGrid) {\n                    image.pixelWidth = effectiveImageSize;\n                } else {\n                    image.size = renderImageSize;\n                }\n\n                const imageContainer = image.render();\n\n                if (imageContainer) {\n                    imageContainer.style.display = \"inline-flex\";\n                    imageContainer.style.margin = \"0px\";\n\n                    if (imageSetIsGrid) {\n                        imageContainer.style.flexBasis = effectiveImageSize + \"px\";\n                        imageContainer.style.height =  effectiveImageSize + \"px\";\n                        imageContainer.style.flexGrow = \"0\";\n                        imageContainer.style.flexShrink = \"0\";\n\n                        const renderedImageStyle = image.renderedImageElement?.style;\n                        if (renderedImageStyle) {\n                            renderedImageStyle.width = \"100%\";\n                            renderedImageStyle.height = \"100%\";\n                            renderedImageStyle.objectFit = \"cover\";\n                            renderedImageStyle.verticalAlign = \"middle\";\n                        }\n                    }\n\n                    Utils.appendChild(element, imageContainer);\n                }\n            }\n\n            if (this.presentationStyle == Enums.ImageSetPresentationStyle.Stacked) {\n                this.applyStackedPresentationStyle();\n            }\n        }\n        \n\n        return element;\n    }\n\n    applyStackedPresentationStyle() {\n        if (this._images[0].renderedImageElement) {\n            let dimension = StackedImageConfigurator.parseNumericPixelDimension(this._images[0].renderedImageElement.style.height);\n            let bgColor = this.getEffectiveBackgroundColor();\n            if (dimension) {\n                let stackedImageConfigurator = new StackedImageConfigurator(this.pixelOffset, \n                    dimension, bgColor);\n                stackedImageConfigurator.configureImagesArrayAsStackedLayout(this._images);\n            }\n        }\n    }\n\n    getEffectiveBackgroundColor() : string | undefined {\n        let parentContainer = this.getParentContainer();\n        let style = parentContainer?.getEffectiveStyle();\n\n        const styleDefinition = this.hostConfig.containerStyles.getStyleByName(\n            style,\n            this.hostConfig.containerStyles.getStyleByName(this.defaultStyle)\n        );\n\n        return Utils.stringToCssColor(styleDefinition.backgroundColor);\n    }\n\n    getItemCount(): number {\n        return this._images.length;\n    }\n\n    getItemAt(index: number): CardElement {\n        return this._images[index];\n    }\n\n    getFirstVisibleRenderedItem(): CardElement | undefined {\n        return this._images && this._images.length > 0 ? this._images[0] : undefined;\n    }\n\n    getLastVisibleRenderedItem(): CardElement | undefined {\n        return this._images && this._images.length > 0\n            ? this._images[this._images.length - 1]\n            : undefined;\n    }\n\n    removeItem(item: CardElement): boolean {\n        if (item instanceof Image) {\n            const itemIndex = this._images.indexOf(item);\n\n            if (itemIndex >= 0) {\n                this._images.splice(itemIndex, 1);\n\n                item.setParent(undefined);\n\n                this.updateLayout();\n\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    getJsonTypeName(): string {\n        return \"ImageSet\";\n    }\n\n    addImage(image: Image) {\n        if (!image.parent) {\n            this._images.push(image);\n\n            image.setParent(this);\n        } else {\n            throw new Error(\"This image already belongs to another ImageSet\");\n        }\n    }\n\n    indexOf(cardElement: CardElement): number {\n        return cardElement instanceof Image ? this._images.indexOf(cardElement) : -1;\n    }\n}\n\nclass StackedImageConfigurator {\n    private sign45 = 0.7071;\n    private maxImageCounts: number = 2;\n    private offset: number = 0;\n    private normalizationConstant: number = 0;\n    private border: number = 5;\n    private dimension: number = 0;\n    private style: string;\n\n    constructor(offset: number, dimension: number, style: string | undefined) {\n        this.dimension = dimension;\n        this.normalizationConstant = (dimension * this.sign45 - 0.5 * dimension) * 2;\n        // offset determines how far images are placed from each other\n        // at zero, images are separated only by the border\n        // there is no restriction on how far they are apart in positive values, their actual\n        // positioning is limited by maximum size imposed by Image renderer\n        // a negative value can decrease upto the diameter of the image since a value less than the diameter\n        // put the images past each other, and the use of such value is not reasonable request\n        // users should change image positions in such case.\n        this.offset = this.sign45 * (Math.max(offset, -dimension) - this.normalizationConstant);\n        this.style = style ? style : \"\";\n    }\n\n    private moveImageRight(element: HTMLElement) {\n        element.style.marginLeft = this.offset + \"px\";\n    }\n\n    private moveImageUp(element: HTMLElement) {\n        element.style.marginBottom = this.offset + this.dimension+ \"px\";\n    }\n\n    private moveImageDown(element: HTMLElement) {\n        element.style.marginTop = this.offset + this.dimension + \"px\";\n    }\n\n    private makeImageRound(element: HTMLElement) {\n        element.style.borderRadius = \"50%\";\n        element.style.backgroundPosition = \"50% 50%\";\n        element.style.backgroundRepeat = \"no-repeat\";\n    }\n\n    private applyBorder(element: HTMLElement) {\n        element.style.height = (this.dimension + this.border * 2) + \"px\";\n        element.style.border = this.border + \"px\" + \" solid \" + this.style;\n    }\n\n    private configureImageForBottomLeft(element: HTMLElement) {\n        this.moveImageDown(element);\n        this.makeImageRound(element); \n        this.applyBorder(element);\n        element.style.zIndex = \"2\";\n    }\n\n    private configureImageForTopRight(element: HTMLElement) {\n        this.moveImageUp(element);\n        this.moveImageRight(element);\n        this.makeImageRound(element); \n        element.style.zIndex = \"1\";\n    }\n\n    // stacked layout is applied when there are two images in ImageSet,\n    // first image in the ImageSet is put bottom left of ImageSet,\n    // second image is placed top right diagonally to the first image at 45 angle\n    // first image is placed over the second image should the overlap to occur.\n    public configureImagesArrayAsStackedLayout(elements: Array<Image>) {\n        if (elements.length == 1) {\n            if (elements[0].renderedImageElement) {\n                this.makeImageRound(elements[0].renderedImageElement); \n            }\n        }\n        else if (elements.length <= this.maxImageCounts) {\n            if (elements[0].renderedImageElement && elements[1].renderedImageElement) {\n                this.configureImageForBottomLeft(elements[0].renderedImageElement);\n                this.configureImageForTopRight(elements[1].renderedImageElement);\n            }\n        }\n    }\n\n    public static parseNumericPixelDimension(dimension: string): number | undefined  {\n        if (dimension?.substring(dimension.length - 2) == 'px') {\n            return parseInt(dimension.substring(0, dimension.length - 2));\n        }\n        return undefined;\n    }\n}\n\nexport abstract class ContentSource extends SerializableObject {\n    //#region Schema\n\n    static readonly mimeTypeProperty = new StringProperty(Versions.v1_1, \"mimeType\");\n    static readonly urlProperty = new StringProperty(Versions.v1_1, \"url\");\n\n    @property(ContentSource.mimeTypeProperty)\n    mimeType?: string;\n\n    @property(ContentSource.urlProperty)\n    url?: string;\n\n    //#endregion\n\n    constructor(url?: string, mimeType?: string) {\n        super();\n\n        this.url = url;\n        this.mimeType = mimeType;\n    }\n\n    isValid(): boolean {\n        return this.mimeType && this.url ? true : false;\n    }\n}\n\nexport class CaptionSource extends ContentSource {\n    //#region Schema\n\n    static readonly labelProperty = new StringProperty(Versions.v1_6, \"label\");\n\n    @property(CaptionSource.labelProperty)\n    label?: string;\n\n    //#endregion\n\n    constructor(url?: string, mimeType?: string, label?: string) {\n        super(url, mimeType);\n\n        this.label = label;\n    }\n\n    protected getSchemaKey(): string {\n        return \"CaptionSource\";\n    }\n\n    render(): HTMLElement | undefined {\n        let result: HTMLTrackElement | undefined = undefined;\n\n        if (this.isValid()) {\n            result = document.createElement(\"track\");\n            result.src = this.url!;\n            result.kind = \"captions\";\n            result.label = this.label!;\n        }\n\n        return result;\n    }\n}\n\nexport class MediaSource extends ContentSource {\n    protected getSchemaKey(): string {\n        return \"MediaSource\";\n    }\n\n    render(): HTMLElement | undefined {\n        let result: HTMLSourceElement | undefined = undefined;\n\n        if (this.isValid()) {\n            result = document.createElement(\"source\");\n            result.src = this.url!;\n            result.type = this.mimeType!;\n        }\n\n        return result;\n    }\n}\n\nexport abstract class MediaPlayer {\n    private _posterUrl?: string;\n\n    abstract canPlay(): boolean;\n    abstract render(): HTMLElement;\n    abstract fetchVideoDetails(): Promise<void>;\n\n    play() {\n        // Do nothing in base implementation\n    }\n\n    get posterUrl(): string | undefined {\n        return this._posterUrl;\n    }\n\n    protected set posterUrl(value: string | undefined) {\n        this._posterUrl = value;\n    }\n\n    get selectedMediaType(): string | undefined {\n        return undefined;\n    }\n}\n\nexport class HTML5MediaPlayer extends MediaPlayer {\n    private _selectedMediaType?: string;\n    private _selectedSources: MediaSource[] = [];\n    private _captionSources: CaptionSource[] = [];\n    private _mediaElement?: HTMLMediaElement;\n\n    private processSources() {\n        this._selectedSources = [];\n        this._captionSources = [];\n        this._selectedMediaType = undefined;\n\n        for (const source of this.owner.sources) {\n            const mimeComponents = source.mimeType ? source.mimeType.split(\"/\") : [];\n\n            if (mimeComponents.length === 2) {\n                if (!this._selectedMediaType) {\n                    const index = HTML5MediaPlayer.supportedMediaTypes.indexOf(mimeComponents[0]);\n\n                    if (index >= 0) {\n                        this._selectedMediaType = HTML5MediaPlayer.supportedMediaTypes[index];\n                    }\n                }\n                if (mimeComponents[0] === this._selectedMediaType) {\n                    this._selectedSources.push(source);\n                }\n            }\n        }\n\n        this._captionSources.push(...this.owner.captionSources);\n    }\n\n    static readonly supportedMediaTypes = [\"audio\", \"video\"];\n\n    constructor(readonly owner: Media) {\n        super();\n\n        this.processSources();\n    }\n\n    canPlay(): boolean {\n        return this._selectedSources.length > 0;\n    }\n\n    async fetchVideoDetails() {\n        // Nothing to fetch for the HTML5 media player\n    }\n\n    render(): HTMLElement {\n        if (this._selectedMediaType === \"video\") {\n            this._mediaElement = document.createElement(\"video\");\n        } else {\n            this._mediaElement = document.createElement(\"audio\");\n        }\n\n        this._mediaElement.setAttribute(\n            \"aria-label\",\n            this.owner.altText ? this.owner.altText : Strings.defaults.mediaPlayerAriaLabel()\n        );\n        this._mediaElement.setAttribute(\"webkit-playsinline\", \"\");\n        this._mediaElement.setAttribute(\"playsinline\", \"\");\n        // We enable crossorigin for cases where the caption file has a different domain than\n        // the video file. If the caption file lives in a different domain than the video file\n        // and crossorigin is not set, then the caption file will fail to load.\n        this._mediaElement.setAttribute(\"crossorigin\", \"\");\n        this._mediaElement.autoplay = true;\n        this._mediaElement.controls = true;\n\n        if (Utils.isMobileOS()) {\n            this._mediaElement.muted = true;\n        }\n\n        this._mediaElement.preload = \"none\";\n        this._mediaElement.style.width = \"100%\";\n\n        for (const source of this.owner.sources) {\n            const renderedSource = source.render();\n\n            Utils.appendChild(this._mediaElement, renderedSource);\n        }\n\n        for (const captionSource of this.owner.captionSources) {\n            if (captionSource.mimeType == \"vtt\") {\n                const renderedCaptionSource = captionSource.render();\n\n                Utils.appendChild(this._mediaElement, renderedCaptionSource);\n            }\n        }\n\n        return this._mediaElement;\n    }\n\n    play() {\n        if (this._mediaElement) {\n            this._mediaElement.play();\n        }\n    }\n\n    get selectedMediaType(): string | undefined {\n        return this._selectedMediaType;\n    }\n}\n\nexport abstract class CustomMediaPlayer extends MediaPlayer {\n    constructor(matches: RegExpExecArray) {\n        super();\n    }\n}\n\nexport abstract class IFrameMediaMediaPlayer extends CustomMediaPlayer {\n    private _videoId?: string;\n\n    constructor(matches: RegExpExecArray, readonly iFrameTitle?: string) {\n        super(matches);\n\n        if (matches.length >= 2) {\n            this._videoId = matches[1];\n        }\n    }\n\n    abstract getEmbedVideoUrl(): string;\n\n    canPlay(): boolean {\n        return this._videoId !== undefined;\n    }\n\n    render(): HTMLElement {\n        let container = document.createElement(\"div\");\n        container.style.position = \"relative\";\n        container.style.width = \"100%\";\n        container.style.height = \"0\";\n        container.style.paddingBottom = \"56.25%\";\n\n        let iFrame = document.createElement(\"iframe\");\n        iFrame.style.position = \"absolute\";\n        iFrame.style.top = \"0\";\n        iFrame.style.left = \"0\";\n        iFrame.style.width = \"100%\";\n        iFrame.style.height = \"100%\";\n        iFrame.src = this.getEmbedVideoUrl();\n        iFrame.frameBorder = \"0\";\n\n        if (this.iFrameTitle) {\n            iFrame.title = this.iFrameTitle;\n        }\n\n        iFrame.allow =\n            \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\";\n        iFrame.allowFullscreen = true;\n\n        container.appendChild(iFrame);\n\n        return container;\n    }\n\n    get videoId(): string | undefined {\n        return this._videoId;\n    }\n}\n\nexport class VimeoPlayer extends IFrameMediaMediaPlayer {\n    async fetchVideoDetails(): Promise<void> {\n        const oEmbedUrl = `https://vimeo.com/api/oembed.json?url=${this.getEmbedVideoUrl()}`;\n\n        let response = await fetch(oEmbedUrl);\n\n        if (response.ok) {\n            let json = await response.json();\n\n            this.posterUrl = json[\"thumbnail_url\"];\n        }\n    }\n\n    getEmbedVideoUrl(): string {\n        return `https://player.vimeo.com/video/${this.videoId}?autoplay=1`;\n    }\n}\n\nexport class DailymotionPlayer extends IFrameMediaMediaPlayer {\n    async fetchVideoDetails(): Promise<void> {\n        const apiUrl = `https://api.dailymotion.com/video/${this.videoId}?fields=thumbnail_720_url`;\n\n        let response = await fetch(apiUrl);\n\n        if (response.ok) {\n            let json = await response.json();\n\n            this.posterUrl = json[\"thumbnail_720_url\"];\n        }\n    }\n\n    getEmbedVideoUrl(): string {\n        return `https://www.dailymotion.com/embed/video/${this.videoId}?autoplay=1`;\n    }\n}\n\nexport class YouTubePlayer extends IFrameMediaMediaPlayer {\n    private _startTimeIndex?: number;\n\n    constructor(matches: RegExpExecArray, readonly iFrameTitle?: string) {\n        super(matches, iFrameTitle);\n\n        if (matches.length >= 3 && matches[2] !== undefined) {\n            this._startTimeIndex = parseInt(matches[2]);\n        }\n    }\n\n    async fetchVideoDetails(): Promise<void> {\n        this.posterUrl = this.videoId\n            ? `https://img.youtube.com/vi/${this.videoId}/maxresdefault.jpg`\n            : undefined;\n    }\n\n    getEmbedVideoUrl(): string {\n        let url = `https://www.youtube.com/embed/${this.videoId}?autoplay=1`;\n\n        if (this._startTimeIndex !== undefined) {\n            url += `&start=${this._startTimeIndex}`;\n        }\n\n        return url;\n    }\n}\n\nexport interface ICustomMediaPlayer {\n    urlPatterns: RegExp[];\n    createMediaPlayer: (matches: RegExpExecArray) => CustomMediaPlayer;\n}\n\nexport class Media extends CardElement {\n    static customMediaPlayers: ICustomMediaPlayer[] = [\n        {\n            urlPatterns: [\n                /^(?:https?:\\/\\/)?(?:www.)?youtube.com\\/watch\\?(?=.*v=([\\w\\d-_]+))(?=(?:.*t=(\\d+))?).*/gi,\n                /^(?:https?:\\/\\/)?youtu.be\\/([\\w\\d-_]+)(?:\\?t=(\\d+))?/gi\n            ],\n            createMediaPlayer: (matches) =>\n                new YouTubePlayer(matches, Strings.defaults.youTubeVideoPlayer())\n        },\n        {\n            urlPatterns: [/^(?:https?:\\/\\/)?vimeo.com\\/([\\w\\d-_]+).*/gi],\n            createMediaPlayer: (matches) =>\n                new VimeoPlayer(matches, Strings.defaults.vimeoVideoPlayer())\n        },\n        {\n            urlPatterns: [/^(?:https?:\\/\\/)?(?:www.)?dailymotion.com\\/video\\/([\\w\\d-_]+).*/gi],\n            createMediaPlayer: (matches) =>\n                new DailymotionPlayer(matches, Strings.defaults.dailymotionVideoPlayer())\n        }\n    ];\n\n    //#region Schema\n\n    static readonly sourcesProperty = new SerializableObjectCollectionProperty(\n        Versions.v1_1,\n        \"sources\",\n        MediaSource\n    );\n    static readonly captionSourcesProperty = new SerializableObjectCollectionProperty(\n        Versions.v1_6,\n        \"captionSources\",\n        CaptionSource\n    );\n    static readonly posterProperty = new StringProperty(Versions.v1_1, \"poster\");\n    static readonly altTextProperty = new StringProperty(Versions.v1_1, \"altText\");\n\n    @property(Media.sourcesProperty)\n    sources: MediaSource[] = [];\n\n    @property(Media.captionSourcesProperty)\n    captionSources: CaptionSource[] = [];\n\n    @property(Media.posterProperty)\n    poster?: string;\n\n    @property(Media.altTextProperty)\n    altText?: string;\n\n    //#endregion\n\n    private _mediaPlayer: MediaPlayer;\n\n    private createMediaPlayer(): MediaPlayer {\n        for (let provider of Media.customMediaPlayers) {\n            for (let source of this.sources) {\n                if (source.url) {\n                    for (let pattern of provider.urlPatterns) {\n                        let matches = pattern.exec(source.url);\n\n                        if (matches !== null) {\n                            return provider.createMediaPlayer(matches);\n                        }\n                    }\n                }\n            }\n        }\n\n        return new HTML5MediaPlayer(this);\n    }\n\n    private handlePlayButtonInvoke(event: UIEvent): void {\n        if (this.hostConfig.media.allowInlinePlayback) {\n            event.preventDefault();\n            event.cancelBubble = true;\n\n            if (this.renderedElement) {\n                const mediaPlayerElement = this._mediaPlayer.render();\n                clearElement(this.renderedElement);\n                this.renderedElement.appendChild(mediaPlayerElement);\n\n                this._mediaPlayer.play();\n\n                mediaPlayerElement.focus();\n            }\n        } else {\n            if (Media.onPlay) {\n                event.preventDefault();\n                event.cancelBubble = true;\n\n                Media.onPlay(this);\n            }\n        }\n    }\n\n    private async displayPoster() {\n        if (this.renderedElement) {\n            const playButtonArrowWidth = 12;\n            const playButtonArrowHeight = 15;\n\n            const posterRootElement = document.createElement(\"div\");\n            posterRootElement.className = this.hostConfig.makeCssClassName(\"ac-media-poster\");\n            posterRootElement.setAttribute(\"role\", \"contentinfo\");\n            posterRootElement.setAttribute(\n                \"aria-label\",\n                this.altText ? this.altText : Strings.defaults.mediaPlayerAriaLabel()\n            );\n            posterRootElement.style.position = \"relative\";\n            posterRootElement.style.display = \"flex\";\n\n            let posterUrl = this.poster ? this.poster : this._mediaPlayer.posterUrl;\n\n            if (!posterUrl) {\n                posterUrl = this.hostConfig.media.defaultPoster;\n            }\n\n            if (posterUrl) {\n                const posterImageElement = document.createElement(\"img\");\n                posterImageElement.style.width = \"100%\";\n                posterImageElement.style.height = \"100%\";\n                posterImageElement.setAttribute(\"role\", \"presentation\");\n\n                posterImageElement.onerror = (_e: Event) => {\n                    if (posterImageElement.parentNode) {\n                        posterImageElement.parentNode.removeChild(posterImageElement);\n                    }\n\n                    posterRootElement.classList.add(\"empty\");\n                    posterRootElement.style.minHeight = \"150px\";\n                };\n\n                posterImageElement.src = posterUrl;\n\n                posterRootElement.appendChild(posterImageElement);\n            } else {\n                posterRootElement.classList.add(\"empty\");\n                posterRootElement.style.minHeight = \"150px\";\n            }\n\n            if (this.hostConfig.supportsInteractivity && this._mediaPlayer.canPlay()) {\n                const playButtonOuterElement = document.createElement(\"div\");\n                playButtonOuterElement.tabIndex = 0;\n                playButtonOuterElement.setAttribute(\"role\", \"button\");\n                playButtonOuterElement.setAttribute(\n                    \"aria-label\",\n                    Strings.defaults.mediaPlayerPlayMedia()\n                );\n                playButtonOuterElement.className =\n                    this.hostConfig.makeCssClassName(\"ac-media-playButton\");\n                playButtonOuterElement.style.display = \"flex\";\n                playButtonOuterElement.style.alignItems = \"center\";\n                playButtonOuterElement.style.justifyContent = \"center\";\n                playButtonOuterElement.onclick = (e) => {\n                    this.handlePlayButtonInvoke(e);\n                };\n\n                playButtonOuterElement.onkeypress = (e: KeyboardEvent) => {\n                    if (e.code === \"Enter\" || e.code === \"Space\") {\n                        // space or enter\n                        this.handlePlayButtonInvoke(e);\n                    }\n                };\n\n                const playButtonInnerElement = document.createElement(\"div\");\n                playButtonInnerElement.className = this.hostConfig.makeCssClassName(\n                    \"ac-media-playButton-arrow\"\n                );\n                playButtonInnerElement.style.width = playButtonArrowWidth + \"px\";\n                playButtonInnerElement.style.height = playButtonArrowHeight + \"px\";\n                playButtonInnerElement.style.borderTopWidth = playButtonArrowHeight / 2 + \"px\";\n                playButtonInnerElement.style.borderBottomWidth = playButtonArrowHeight / 2 + \"px\";\n                playButtonInnerElement.style.borderLeftWidth = playButtonArrowWidth + \"px\";\n                playButtonInnerElement.style.borderRightWidth = \"0\";\n                playButtonInnerElement.style.borderStyle = \"solid\";\n                playButtonInnerElement.style.borderTopColor = \"transparent\";\n                playButtonInnerElement.style.borderRightColor = \"transparent\";\n                playButtonInnerElement.style.borderBottomColor = \"transparent\";\n                playButtonInnerElement.style.transform =\n                    \"translate(\" + playButtonArrowWidth / 10 + \"px,0px)\";\n\n                playButtonOuterElement.appendChild(playButtonInnerElement);\n\n                const playButtonContainer = document.createElement(\"div\");\n                playButtonContainer.style.position = \"absolute\";\n                playButtonContainer.style.left = \"0\";\n                playButtonContainer.style.top = \"0\";\n                playButtonContainer.style.width = \"100%\";\n                playButtonContainer.style.height = \"100%\";\n                playButtonContainer.style.display = \"flex\";\n                playButtonContainer.style.justifyContent = \"center\";\n                playButtonContainer.style.alignItems = \"center\";\n\n                playButtonContainer.appendChild(playButtonOuterElement);\n                posterRootElement.appendChild(playButtonContainer);\n            }\n\n            clearElement(this.renderedElement);\n            this.renderedElement.appendChild(posterRootElement);\n        }\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        const element = <HTMLElement>document.createElement(\"div\");\n        element.className = this.hostConfig.makeCssClassName(\"ac-media\");\n\n        return element;\n    }\n\n    static onPlay?: (sender: Media) => void;\n\n    render(): HTMLElement | undefined {\n        let result = super.render();\n\n        if (result) {\n            this._mediaPlayer = this.createMediaPlayer();\n\n            this._mediaPlayer.fetchVideoDetails().then(() => this.displayPoster());\n        }\n\n        return result;\n    }\n\n    releaseDOMResources() {\n        super.releaseDOMResources();\n\n        this.displayPoster();\n    }\n\n    getJsonTypeName(): string {\n        return \"Media\";\n    }\n\n    getResourceInformation(): IResourceInformation[] {\n        const result: IResourceInformation[] = [];\n\n        if (this._mediaPlayer) {\n            const posterUrl = this.poster ? this.poster : this.hostConfig.media.defaultPoster;\n\n            if (posterUrl) {\n                result.push({ url: posterUrl, mimeType: \"image\" });\n            }\n        }\n\n        for (const mediaSource of this.sources) {\n            if (mediaSource.isValid()) {\n                result.push({\n                    /* eslint-disable @typescript-eslint/no-unnecessary-type-assertion -- `mediaSource.url` is of type `string | undefined`, but is validated by `isValid()` call */\n                    url: mediaSource.url!,\n                    mimeType: mediaSource.mimeType!\n                    /* eslint-enable @typescript-eslint/no-unnecessary-type-assertion */\n                });\n            }\n        }\n\n        for (const captionSource of this.captionSources) {\n            if (captionSource.isValid()) {\n                result.push({\n                    /* eslint-disable @typescript-eslint/no-unnecessary-type-assertion -- `captionSource.url` is of type `string | undefined`, but is validated by `isValid()` call */\n                    url: captionSource.url!,\n                    mimeType: captionSource.mimeType!\n                    /* eslint-enable @typescript-eslint/no-unnecessary-type-assertion */\n                });\n            }\n        }\n\n        return result;\n    }\n\n    get selectedMediaType(): string | undefined {\n        return this._mediaPlayer.selectedMediaType;\n    }\n}\n\nenum InputEventType {\n    InitialRender,\n    MouseEnterOnCard,\n    MouseLeaveOnCard,\n    FocusLeave\n}\n\nexport abstract class Input extends CardElement implements IInput {\n    \n    //#region Schema\n    static readonly labelProperty = new StringProperty(Versions.v1_3, \"label\", true);\n    static readonly isRequiredProperty = new BoolProperty(Versions.v1_3, \"isRequired\", false);\n    static readonly errorMessageProperty = new StringProperty(Versions.v1_3, \"errorMessage\", true);\n    static readonly inputStyleProperty = new EnumProperty(\n        Versions.v1_6,\n        \"inputStyle\",\n        Enums.InputStyle,\n        Enums.InputStyle.Default,\n        [\n            { value: Enums.InputStyle.RevealOnHover },\n            { value: Enums.InputStyle.Default }\n        ]\n    );\n    static readonly labelWidthProperty = new CustomProperty<SizeAndUnit | undefined>(\n        Versions.v1_6,\n        \"labelWidth\",\n        (\n            sender: SerializableObject,\n            prop: PropertyDefinition,\n            source: PropertyBag,\n            context: BaseSerializationContext\n        ) => {\n            let result: SizeAndUnit | undefined = prop.defaultValue;\n            const value = source[prop.name];\n            let invalidLabelWidth = false;\n            \n            if (typeof value === \"number\" && !isNaN(value)) {\n                result = new SizeAndUnit(value, Enums.SizeUnit.Weight);\n                if (result.physicalSize < 0 || result.physicalSize > 100) {\n                    invalidLabelWidth = true;\n                }\n            }\n            else if (typeof value === \"string\") {\n                try {\n                    result = SizeAndUnit.parse(value);\n                } catch (e) {\n                    invalidLabelWidth = true;\n                }\n            } else {\n                invalidLabelWidth = true;\n            }\n\n            if (invalidLabelWidth) {\n                context.logParseEvent(\n                    sender,\n                    Enums.ValidationEvent.InvalidPropertyValue,\n                    Strings.errors.invalidInputLabelWidth()\n                );\n                result = undefined;\n            }\n\n            return result;\n        },\n        (\n            sender: SerializableObject,\n            property: PropertyDefinition,\n            target: PropertyBag,\n            value: SizeAndUnit | undefined,\n            context: BaseSerializationContext\n        ) => {\n            if (value instanceof SizeAndUnit) {\n                if (value.unit === Enums.SizeUnit.Pixel) {\n                    context.serializeValue(target, \"labelWidth\", value.physicalSize + \"px\");\n                } else {\n                    context.serializeNumber(target, \"labelWidth\", value.physicalSize);\n                }\n            }\n        },\n        undefined\n    );\n\n    static readonly labelPositionProperty = new EnumProperty(\n        Versions.v1_6,\n        \"labelPosition\",\n        Enums.InputLabelPosition,\n        Enums.InputLabelPosition.Above,\n        [\n            { value: Enums.InputLabelPosition.Inline },\n            { value: Enums.InputLabelPosition.Above }\n        ]\n    );\n\n    @property(Input.labelProperty)\n    label?: string;\n\n    @property(Input.isRequiredProperty)\n    isRequired: boolean;\n\n    @property(Input.errorMessageProperty)\n    errorMessage?: string;\n\n    @property(Input.inputStyleProperty)\n    inputStyle: Enums.InputStyle = Enums.InputStyle.Default;\n    \n    @property(Input.labelWidthProperty)\n    labelWidth?: SizeAndUnit;\n\n    @property(Input.labelPositionProperty)\n    labelPosition?: Enums.InputLabelPosition;\n\n    //#endregion\n\n    private _outerContainerElement: HTMLElement;\n    private _inputControlContainerElement: HTMLElement;\n    private _renderedErrorMessageElement?: HTMLElement;\n    private _renderedLabelElement?: HTMLElement;\n    private _renderedInputControlElement?: HTMLElement;\n    private _oldValue: any;\n\n    protected getAllLabelIds(): string[] {\n        const labelIds: string[] = [];\n\n        if (this.labelledBy) {\n            labelIds.push(this.labelledBy);\n        }\n\n        if (this._renderedLabelElement) {\n            labelIds.push(this._renderedLabelElement.id);\n        }\n\n        if (this._renderedErrorMessageElement) {\n            labelIds.push(this._renderedErrorMessageElement.id);\n        }\n\n        return labelIds;\n    }\n\n    protected updateInputControlAriaLabelledBy() {\n        if (this._renderedInputControlElement) {\n            const labelIds: string[] = this.getAllLabelIds();\n\n            if (labelIds.length > 0) {\n                this._renderedInputControlElement.setAttribute(\n                    \"aria-labelledby\",\n                    labelIds.join(\" \")\n                );\n            } else {\n                this._renderedInputControlElement.removeAttribute(\"aria-labelledby\");\n            }\n        }\n    }\n\n    protected get isNullable(): boolean {\n        return true;\n    }\n\n    protected get renderedInputControlElement(): HTMLElement | undefined {\n        return this._renderedInputControlElement;\n    }\n\n    protected get inputControlContainerElement(): HTMLElement {\n        return this._inputControlContainerElement;\n    }\n\n    protected overrideInternalRender(): HTMLElement | undefined {\n        const hostConfig = this.hostConfig;\n\n        this._outerContainerElement = document.createElement(\"div\");\n        this._outerContainerElement.style.display = \"flex\";\n        if (this.labelPosition === Enums.InputLabelPosition.Inline) {\n            this._outerContainerElement.style.flexDirection = \"row\";\n        } else {\n            this._outerContainerElement.style.flexDirection = \"column\";\n        }\n\n        const renderedInputControlId = Utils.generateUniqueId();\n\n        if (this.label) {\n            const labelRichTextBlock = new RichTextBlock();\n            labelRichTextBlock.setParent(this);\n            labelRichTextBlock.forElementId = renderedInputControlId;\n\n            const labelInline = new TextRun(this.label);\n            labelRichTextBlock.addInline(labelInline);\n\n            if (this.isRequired) {\n                labelInline.init(hostConfig.inputs.label.requiredInputs);\n\n                const isRequiredCueInline = new TextRun(\n                    hostConfig.inputs.label.requiredInputs.suffix\n                );\n                isRequiredCueInline.color = hostConfig.inputs.label.requiredInputs.suffixColor;\n                isRequiredCueInline.ariaHidden = true;\n\n                labelRichTextBlock.addInline(isRequiredCueInline);\n            } else {\n                labelInline.init(hostConfig.inputs.label.optionalInputs);\n            }\n\n            this._renderedLabelElement = labelRichTextBlock.render();\n\n            if (this._renderedLabelElement) {\n                this._renderedLabelElement.id = Utils.generateUniqueId();\n                if (this.labelPosition === Enums.InputLabelPosition.Inline) {\n                    // For inline label position: label should be in center of the div and no extra spacing needed\n                    this._renderedLabelElement.style.alignSelf = \"center\";\n                } else {\n                    this._renderedLabelElement.style.marginBottom =\n                        hostConfig.getEffectiveSpacing(hostConfig.inputs.label.inputSpacing) + \"px\";\n                }\n                this._outerContainerElement.appendChild(this._renderedLabelElement);\n            }\n        }\n\n        this._inputControlContainerElement = document.createElement(\"div\");\n        this._inputControlContainerElement.className =\n            hostConfig.makeCssClassName(\"ac-input-container\");\n        this._inputControlContainerElement.style.display = \"flex\";\n\n        if (this.height === \"stretch\") {\n            this._inputControlContainerElement.style.alignItems = \"stretch\";\n            this._inputControlContainerElement.style.flex = \"1 1 auto\";\n        }\n\n        this._renderedInputControlElement = this.internalRender();\n\n        if (this._renderedInputControlElement) {\n            this._renderedInputControlElement.id = renderedInputControlId;\n            this._renderedInputControlElement.style.minWidth = \"0px\";\n\n            if (this.isNullable && this.isRequired) {\n                this._renderedInputControlElement.classList.add(\n                    hostConfig.makeCssClassName(\"ac-input-required\")\n                );\n            }\n\n            this._inputControlContainerElement.appendChild(this._renderedInputControlElement);\n            this._outerContainerElement.appendChild(this._inputControlContainerElement);\n\n            if (this._renderedLabelElement && this.labelPosition === Enums.InputLabelPosition.Inline) {\n                if (!this.labelWidth) {\n                    const defaultLabelWidth = hostConfig.inputs.label.width;\n                    this._renderedLabelElement.style.width = defaultLabelWidth.toString() + \"%\";\n                    this._inputControlContainerElement.style.width = (100 - defaultLabelWidth) + \"%\";\n                }\n                else if (this.labelWidth.unit == Enums.SizeUnit.Weight) {\n                    const labelWidthInPercent = this.labelWidth.physicalSize;\n                    this._renderedLabelElement.style.width = labelWidthInPercent.toString() + \"%\";\n                    this._inputControlContainerElement.style.width = (100 - labelWidthInPercent).toString() + \"%\";\n                }\n                else if (this.labelWidth.unit == Enums.SizeUnit.Pixel) {\n                    const labelWidthInPixel = this.labelWidth.physicalSize;\n                    this._renderedLabelElement.style.width = labelWidthInPixel.toString() + \"px\";\n                }\n            }\n\n            this.updateVisualState(InputEventType.InitialRender);\n            if (this._renderedInputControlElement) {\n                this._renderedInputControlElement.onblur = (ev: MouseEvent) => {\n                    this.updateVisualState(InputEventType.FocusLeave);\n                };\n            }\n            this.updateInputControlAriaLabelledBy();\n\n            return this._outerContainerElement;\n        }\n\n        this.resetDirtyState();\n\n        return undefined;\n    }\n\n    protected valueChanged() {\n        this.getRootElement().updateActionsEnabledState();\n\n        if (this.isValid()) {\n            this.resetValidationFailureCue();\n        }\n\n        if (this.onValueChanged) {\n            this.onValueChanged(this);\n        }\n\n        raiseInputValueChangedEvent(this);\n    }\n\n    protected resetValidationFailureCue() {\n        if (this.renderedInputControlElement) {\n            if (this instanceof ChoiceSetInput && this.isDynamicTypeahead()) {\n                this.removeValidationFailureCue();\n            } else {\n                this.renderedInputControlElement.classList.remove(\n                    this.hostConfig.makeCssClassName(\"ac-input-validation-failed\")\n                );\n            }\n\n            this.updateInputControlAriaLabelledBy();\n\n            if (this._renderedErrorMessageElement) {\n                this._outerContainerElement.removeChild(this._renderedErrorMessageElement);\n\n                this._renderedErrorMessageElement = undefined;\n            }\n        }\n    }\n\n    protected showValidationErrorMessage() {\n        if (\n            this.renderedElement &&\n            this.errorMessage &&\n            GlobalSettings.displayInputValidationErrors\n        ) {\n            const errorMessageTextBlock = new TextBlock();\n            errorMessageTextBlock.setParent(this);\n            errorMessageTextBlock.text = this.errorMessage;\n            errorMessageTextBlock.wrap = true;\n            errorMessageTextBlock.init(this.hostConfig.inputs.errorMessage);\n\n            this._renderedErrorMessageElement = errorMessageTextBlock.render();\n\n            if (this._renderedErrorMessageElement) {\n                this._renderedErrorMessageElement.id = Utils.generateUniqueId();\n                this._outerContainerElement.appendChild(this._renderedErrorMessageElement);\n\n                this.updateInputControlAriaLabelledBy();\n            }\n        }\n    }\n\n    protected get allowRevealOnHoverStyle() {\n        return this.hostConfig.inputs && this.hostConfig.inputs.allowRevealOnHoverStyle;\n    }\n\n    protected shouldHideInputAdornersForRevealOnHover(input: HTMLElement, eventType: InputEventType) {\n        // show/hide input adorners (date picker, time picker, select dropdown picker) with inputStyle RevealOnHover\n        // 1. intial render of card: hide input adorners\n        // 2. mouse hover on the card: show input adorners\n        // 3. mouse hover outside the card: hide input adorners unless input is still in focus state\n        // 4. input loses focus: hide the input adorners unless mouse is still hovering on the card\n    \n        // check if input still has the focus\n        const isInputInFocus = input === document.activeElement;\n    \n        // check if mouse is still on the card\n        const inputHoverClassName = this.hostConfig.makeCssClassName(\"ac-inputStyle-revealOnHover-onhover\");\n        const isMouseOverCard = input.classList.contains(inputHoverClassName);\n    \n        const hideInputAdorners = (eventType === InputEventType.InitialRender) ||\n                                  (eventType === InputEventType.FocusLeave && !isMouseOverCard) ||\n                                  (eventType === InputEventType.MouseLeaveOnCard && !isInputInFocus);\n        return hideInputAdorners;\n    }\n\n    updateVisualState(eventType: InputEventType): void {\n        if (!this.allowRevealOnHoverStyle || \n            !this._renderedInputControlElement || \n            this.inputStyle !== Enums.InputStyle.RevealOnHover) {\n            return;\n        }\n        if (eventType === InputEventType.InitialRender) {\n            // on initial render, we will show input fields as read only view\n            this._renderedInputControlElement.classList.add(this.hostConfig.makeCssClassName(\"ac-inputStyle-revealOnHover-onrender\"));\n        }\n        else if (eventType === InputEventType.MouseEnterOnCard) {\n            // on hover on the card, we will reveal the inputs by showing borders etc\n            // ac-inputStyle-revealOnHover-onhover class is also used to identify if mouse is hovering on the card\n            this._renderedInputControlElement.classList.add(this.hostConfig.makeCssClassName(\"ac-inputStyle-revealOnHover-onhover\"));\n        } else if (eventType === InputEventType.MouseLeaveOnCard) {\n            this._renderedInputControlElement.classList.remove(this.hostConfig.makeCssClassName(\"ac-inputStyle-revealOnHover-onhover\"));\n        }\n    }\n\n    onValueChanged: (sender: Input) => void;\n\n    labelledBy?: string;\n\n    abstract isSet(): boolean;\n\n    focus() {\n        if (this._renderedInputControlElement) {\n            this._renderedInputControlElement.focus();\n        }\n    }\n\n    isValid(): boolean {\n        return true;\n    }\n\n    isDirty(): boolean {\n        return this.value !== this._oldValue;\n    }\n\n    resetDirtyState() {\n        this._oldValue = this.value;\n    }\n\n    internalValidateProperties(context: ValidationResults) {\n        super.internalValidateProperties(context);\n\n        if (!this.id) {\n            context.addFailure(\n                this,\n                Enums.ValidationEvent.PropertyCantBeNull,\n                Strings.errors.inputsMustHaveUniqueId()\n            );\n        }\n\n        if (this.isRequired) {\n            if (!this.label) {\n                context.addFailure(\n                    this,\n                    Enums.ValidationEvent.RequiredInputsShouldHaveLabel,\n                    \"Required inputs should have a label\"\n                );\n            }\n\n            if (!this.errorMessage) {\n                context.addFailure(\n                    this,\n                    Enums.ValidationEvent.RequiredInputsShouldHaveErrorMessage,\n                    \"Required inputs should have an error message\"\n                );\n            }\n        }\n    }\n\n    validateValue(): boolean {\n        this.resetValidationFailureCue();\n\n        const result = this.isRequired ? this.isSet() && this.isValid() : this.isValid();\n\n        if (!result && this.renderedInputControlElement) {\n            if (this instanceof ChoiceSetInput && this.isDynamicTypeahead()) {\n                this.showValidationFailureCue();\n            } else {\n                this.renderedInputControlElement.classList.add(\n                    this.hostConfig.makeCssClassName(\"ac-input-validation-failed\")\n                );\n            }\n            this.showValidationErrorMessage();\n        }\n\n        return result;\n    }\n\n    getAllInputs(processActions: boolean = true): Input[] {\n        return [this];\n    }\n\n    render(): HTMLElement | undefined {\n        let result = super.render();\n\n        this.resetDirtyState();\n\n        return result;\n    }\n\n    abstract get value(): any;\n\n    get isInteractive(): boolean {\n        return true;\n    }\n}\n\nexport class TextInput extends Input {\n    //#region Schema\n\n    static readonly valueProperty = new StringProperty(Versions.v1_0, \"value\");\n    static readonly maxLengthProperty = new NumProperty(Versions.v1_0, \"maxLength\");\n    static readonly isMultilineProperty = new BoolProperty(Versions.v1_0, \"isMultiline\", false);\n    static readonly placeholderProperty = new StringProperty(Versions.v1_0, \"placeholder\");\n    static readonly styleProperty = new EnumProperty(\n        Versions.v1_0,\n        \"style\",\n        Enums.InputTextStyle,\n        Enums.InputTextStyle.Text,\n        [\n            { value: Enums.InputTextStyle.Text },\n            { value: Enums.InputTextStyle.Tel },\n            { value: Enums.InputTextStyle.Url },\n            { value: Enums.InputTextStyle.Email },\n            { value: Enums.InputTextStyle.Password, targetVersion: Versions.v1_5 }\n        ]\n    );\n    static readonly inlineActionProperty = new ActionProperty(Versions.v1_0, \"inlineAction\", [\n        \"Action.ShowCard\"\n    ]);\n    static readonly regexProperty = new StringProperty(Versions.v1_3, \"regex\", true);\n\n    @property(TextInput.valueProperty)\n    defaultValue?: string;\n\n    @property(TextInput.maxLengthProperty)\n    maxLength?: number;\n\n    @property(TextInput.isMultilineProperty)\n    isMultiline: boolean = false;\n\n    @property(TextInput.placeholderProperty)\n    placeholder?: string;\n\n    @property(TextInput.styleProperty)\n    style: Enums.InputTextStyle = Enums.InputTextStyle.Text;\n\n    @property(TextInput.inlineActionProperty)\n    inlineAction?: Action;\n\n    @property(TextInput.regexProperty)\n    regex?: string;\n\n    //#endregion\n\n    private setupInput(input: HTMLInputElement | HTMLTextAreaElement) {\n        input.style.flex = \"1 1 auto\";\n\n        input.tabIndex = this.isDesignMode() ? -1 : 0;\n\n        if (this.placeholder) {\n            input.placeholder = this.placeholder;\n            input.setAttribute(\"aria-label\", this.placeholder);\n        }\n\n        if (this.defaultValue) {\n            input.value = this.defaultValue;\n        }\n\n        if (this.maxLength && this.maxLength > 0) {\n            input.maxLength = this.maxLength;\n        }\n\n        input.oninput = () => {\n            this.valueChanged();\n        };\n        input.onkeypress = (e: KeyboardEvent) => {\n            // Ctrl+Enter pressed\n            if (\n                e.ctrlKey &&\n                e.code === \"Enter\" &&\n                this.inlineAction &&\n                this.inlineAction.isEffectivelyEnabled()\n            ) {\n                this.inlineAction.execute();\n            }\n        };\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        let result: HTMLInputElement | HTMLTextAreaElement;\n\n        if (this.isMultiline && this.style !== Enums.InputTextStyle.Password) {\n            result = document.createElement(\"textarea\");\n            result.className = this.hostConfig.makeCssClassName(\n                \"ac-input\",\n                \"ac-textInput\",\n                \"ac-multiline\"\n            );\n\n            if (this.height === \"stretch\") {\n                result.style.height = \"initial\";\n            }\n        } else {\n            result = document.createElement(\"input\");\n            result.className = this.hostConfig.makeCssClassName(\"ac-input\", \"ac-textInput\");\n            result.type = Enums.InputTextStyle[this.style].toLowerCase();\n        }\n\n        this.setupInput(result);\n\n        return result;\n    }\n\n    protected overrideInternalRender(): HTMLElement | undefined {\n        const renderedInputControl = super.overrideInternalRender();\n\n        if (this.inlineAction) {\n            const button = document.createElement(\"button\");\n            button.className = this.hostConfig.makeCssClassName(\n                this.inlineAction.isEffectivelyEnabled()\n                    ? \"ac-inlineActionButton\"\n                    : \"ac-inlineActionButton-disabled\"\n            );\n\n            button.onclick = (e) => {\n                if (this.inlineAction && this.inlineAction.isEffectivelyEnabled()) {\n                    e.preventDefault();\n                    e.cancelBubble = true;\n\n                    this.inlineAction.execute();\n                }\n            };\n\n            if (this.inlineAction.iconUrl) {\n                button.classList.add(\"iconOnly\");\n\n                const icon = document.createElement(\"img\");\n                icon.style.height = \"100%\";\n                icon.setAttribute(\"role\", \"presentation\");\n\n                // The below trick is necessary as a workaround in Chrome where the icon is initially displayed\n                // at its native size then resized to 100% of the button's height. This cfreates an unpleasant\n                // flicker. On top of that, Chrome's flex implementation fails to prperly re-layout the button\n                // after the image has loaded and been gicven its final size. The below trick also fixes that.\n                icon.style.display = \"none\";\n                icon.onload = () => {\n                    icon.style.removeProperty(\"display\");\n                };\n                icon.onerror = () => {\n                    button.removeChild(icon);\n                    button.classList.remove(\"iconOnly\");\n                    button.classList.add(\"textOnly\");\n                    button.textContent =\n                        this.inlineAction && this.inlineAction.title\n                            ? this.inlineAction.title\n                            : Strings.defaults.inlineActionTitle();\n                };\n\n                icon.src = this.inlineAction.iconUrl;\n\n                button.appendChild(icon);\n                button.title = this.inlineAction.title\n                    ? this.inlineAction.title\n                    : Strings.defaults.inlineActionTitle();\n            } else {\n                button.classList.add(\"textOnly\");\n                button.textContent = this.inlineAction.title\n                    ? this.inlineAction.title\n                    : Strings.defaults.inlineActionTitle();\n            }\n\n            this.inlineAction.setupElementForAccessibility(button, true);\n\n            button.style.marginLeft = \"8px\";\n\n            this.inputControlContainerElement.appendChild(button);\n        }\n\n        return renderedInputControl;\n    }\n\n    updateVisualState(eventType: InputEventType): void {\n        if (!this.allowRevealOnHoverStyle) {\n            return;\n        }\n\n        if (!(this.inlineAction || this.isMultiline)) {\n            super.updateVisualState(eventType);\n        }\n    }\n\n    getJsonTypeName(): string {\n        return \"Input.Text\";\n    }\n\n    getAllActions(): Action[] {\n        const result = super.getAllActions();\n\n        if (this.inlineAction) {\n            result.push(this.inlineAction);\n        }\n\n        return result;\n    }\n\n    getActionById(id: string) {\n        let result = super.getActionById(id);\n\n        if (!result && this.inlineAction) {\n            result = this.inlineAction.getActionById(id);\n        }\n\n        return result;\n    }\n\n    isSet(): boolean {\n        return this.value ? true : false;\n    }\n\n    isValid(): boolean {\n        if (!this.value) {\n            return true;\n        }\n\n        if (this.regex) {\n            return new RegExp(this.regex, \"g\").test(this.value);\n        }\n\n        return true;\n    }\n\n    get value(): string | undefined {\n        if (this.renderedInputControlElement) {\n            if (this.isMultiline) {\n                return (<HTMLTextAreaElement>this.renderedInputControlElement).value;\n            } else {\n                return (<HTMLInputElement>this.renderedInputControlElement).value;\n            }\n        } else {\n            return undefined;\n        }\n    }\n}\n\nexport class ToggleInput extends Input {\n    //#region Schema\n\n    static readonly valueProperty = new StringProperty(Versions.v1_0, \"value\");\n    static readonly titleProperty = new StringProperty(Versions.v1_0, \"title\");\n    static readonly valueOnProperty = new StringProperty(\n        Versions.v1_0,\n        \"valueOn\",\n        true,\n        undefined,\n        \"true\",\n        (sender: SerializableObject) => {\n            return \"true\";\n        }\n    );\n    static readonly valueOffProperty = new StringProperty(\n        Versions.v1_0,\n        \"valueOff\",\n        true,\n        undefined,\n        \"false\",\n        (sender: SerializableObject) => {\n            return \"false\";\n        }\n    );\n    static readonly wrapProperty = new BoolProperty(Versions.v1_2, \"wrap\", false);\n\n    @property(ToggleInput.valueProperty)\n    defaultValue?: string;\n\n    @property(ToggleInput.titleProperty)\n    title?: string;\n\n    @property(ToggleInput.valueOnProperty)\n    valueOn: string = \"true\";\n\n    @property(ToggleInput.valueOffProperty)\n    valueOff: string = \"false\";\n\n    @property(ToggleInput.wrapProperty)\n    wrap: boolean = false;\n\n    //#endregion\n\n    private _checkboxInputElement: HTMLInputElement;\n    private _checkboxInputLabelElement: HTMLElement | undefined;\n    private _oldCheckboxValue: boolean;\n\n    protected updateInputControlAriaLabelledBy() {\n        if (this._checkboxInputElement) {\n            let joinedLabelIds = this.getAllLabelIds().join(\" \");\n\n            if (this._checkboxInputLabelElement && this._checkboxInputLabelElement.id) {\n                joinedLabelIds += \" \" + this._checkboxInputLabelElement.id;\n            }\n\n            if (joinedLabelIds) {\n                this._checkboxInputElement.setAttribute(\"aria-labelledby\", joinedLabelIds);\n            } else {\n                this._checkboxInputElement.removeAttribute(\"aria-labelledby\");\n            }\n        }\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        const element = document.createElement(\"div\");\n        element.className = this.hostConfig.makeCssClassName(\"ac-input\", \"ac-toggleInput\");\n        element.style.width = \"100%\";\n        element.style.display = \"flex\";\n        element.style.alignItems = \"center\";\n\n        this._checkboxInputElement = document.createElement(\"input\");\n        this._checkboxInputElement.id = Utils.generateUniqueId();\n        this._checkboxInputElement.type = \"checkbox\";\n        this._checkboxInputElement.style.display = \"inline-block\";\n        this._checkboxInputElement.style.verticalAlign = \"middle\";\n        this._checkboxInputElement.style.margin = \"0\";\n        this._checkboxInputElement.style.flex = \"0 0 auto\";\n\n        if (this.title) {\n            this._checkboxInputElement.setAttribute(\"aria-label\", this.title);\n        }\n\n        if (this.isRequired) {\n            this._checkboxInputElement.setAttribute(\"aria-required\", \"true\");\n        }\n\n        this._checkboxInputElement.tabIndex = this.isDesignMode() ? -1 : 0;\n\n        if (this.defaultValue === this.valueOn) {\n            this._checkboxInputElement.checked = true;\n        }\n\n        this._oldCheckboxValue = this._checkboxInputElement.checked;\n\n        this._checkboxInputElement.onchange = () => {\n            this.valueChanged();\n        };\n\n        Utils.appendChild(element, this._checkboxInputElement);\n\n        if (this.title || this.isDesignMode()) {\n            const label = new TextBlock();\n            label.setParent(this);\n            label.forElementId = this._checkboxInputElement.id;\n            label.hostConfig = this.hostConfig;\n            label.text = !this.title ? this.getJsonTypeName() : this.title;\n            label.useMarkdown = GlobalSettings.useMarkdownInRadioButtonAndCheckbox;\n            label.wrap = this.wrap;\n\n            this._checkboxInputLabelElement = label.render();\n\n            if (this._checkboxInputLabelElement) {\n                this._checkboxInputLabelElement.id = Utils.generateUniqueId();\n                this._checkboxInputLabelElement.style.display = \"inline-block\";\n                this._checkboxInputLabelElement.style.flex = \"1 1 auto\";\n                this._checkboxInputLabelElement.style.marginLeft = \"6px\";\n                this._checkboxInputLabelElement.style.verticalAlign = \"middle\";\n\n                const spacerElement = document.createElement(\"div\");\n                spacerElement.style.width = \"6px\";\n\n                Utils.appendChild(element, spacerElement);\n                Utils.appendChild(element, this._checkboxInputLabelElement);\n            }\n        }\n\n        return element;\n    }\n\n    protected get isNullable(): boolean {\n        return false;\n    }\n\n    updateVisualState(eventType: InputEventType): void {\n    }\n\n    getJsonTypeName(): string {\n        return \"Input.Toggle\";\n    }\n\n    focus() {\n        if (this._checkboxInputElement) {\n            this._checkboxInputElement.focus();\n        }\n    }\n\n    isSet(): boolean {\n        if (this.isRequired) {\n            return this.value === this.valueOn;\n        }\n\n        return this.value ? true : false;\n    }\n\n    isDirty(): boolean {\n        return this._checkboxInputElement\n            ? this._checkboxInputElement.checked !== this._oldCheckboxValue\n            : false;\n    }\n\n    get value(): string | undefined {\n        if (this._checkboxInputElement) {\n            return this._checkboxInputElement.checked ? this.valueOn : this.valueOff;\n        } else {\n            return undefined;\n        }\n    }\n}\n\nexport class Choice extends SerializableObject {\n    //#region Schema\n\n    static readonly titleProperty = new StringProperty(Versions.v1_0, \"title\");\n    static readonly valueProperty = new StringProperty(Versions.v1_0, \"value\");\n\n    @property(Choice.titleProperty)\n    title?: string;\n\n    @property(Choice.valueProperty)\n    value?: string;\n\n    //#endregion\n\n    protected getSchemaKey(): string {\n        return \"Choice\";\n    }\n\n    constructor(title?: string, value?: string) {\n        super();\n\n        this.title = title;\n        this.value = value;\n    }\n}\n\n/**\n * DataQuery class is declared later in the file and derives from subsequent base classes\n * Hence, it cannot be used in ChoiceSetInput.\n * Refactor is needed to separate elements and actions in separate files.\n */\nexport class ChoiceSetInputDataQuery extends SerializableObject {\n    //#region Schema\n\n    static readonly typeProperty = new StringProperty(\n        Versions.v1_6,\n        \"type\",\n        true,\n        new RegExp(\"^Data.Query$\")\n    );\n    static readonly datasetProperty = new StringProperty(Versions.v1_6, \"dataset\");\n    static readonly countProperty = new NumProperty(Versions.v1_6, \"count\");\n    static readonly skipProperty = new NumProperty(Versions.v1_6, \"skip\");\n\n    @property(ChoiceSetInputDataQuery.typeProperty)\n    type: string;\n\n    @property(ChoiceSetInputDataQuery.datasetProperty)\n    dataset: string;\n\n    @property(ChoiceSetInputDataQuery.countProperty)\n    count?: number;\n\n    @property(ChoiceSetInputDataQuery.skipProperty)\n    skip?: number;\n\n    //#endregion\n\n    protected getSchemaKey(): string {\n        return \"choices.data\";\n    }\n}\n\nexport type FetchedChoice = {\n    title: string;\n    value: string;\n};\n\nexport class ChoiceSetInput extends Input {\n    //#region Schema\n\n    static readonly valueProperty = new StringProperty(Versions.v1_0, \"value\");\n    static readonly choicesProperty = new SerializableObjectCollectionProperty(\n        Versions.v1_0,\n        \"choices\",\n        Choice\n    );\n    static readonly choicesDataProperty = new SerializableObjectProperty(\n        Versions.v1_6,\n        \"choices.data\",\n        ChoiceSetInputDataQuery\n    );\n    static readonly styleProperty = new ValueSetProperty(\n        Versions.v1_0,\n        \"style\",\n        [\n            { value: \"compact\" },\n            { value: \"expanded\" },\n            { value: \"filtered\", targetVersion: Versions.v1_5 }\n        ],\n        \"compact\"\n    );\n    static readonly isMultiSelectProperty = new BoolProperty(Versions.v1_0, \"isMultiSelect\", false);\n    static readonly placeholderProperty = new StringProperty(Versions.v1_0, \"placeholder\");\n    static readonly wrapProperty = new BoolProperty(Versions.v1_2, \"wrap\", false);\n\n    @property(ChoiceSetInput.valueProperty)\n    defaultValue?: string;\n\n    @property(ChoiceSetInput.styleProperty)\n    style?: \"compact\" | \"expanded\" | \"filtered\";\n\n    get isCompact(): boolean {\n        return !this.style || this.style === \"compact\";\n    }\n\n    set isCompact(value: boolean) {\n        this.style = value ? undefined : \"expanded\";\n    }\n\n    @property(ChoiceSetInput.isMultiSelectProperty)\n    isMultiSelect: boolean = false;\n\n    @property(ChoiceSetInput.placeholderProperty)\n    placeholder?: string;\n\n    @property(ChoiceSetInput.wrapProperty)\n    wrap: boolean = false;\n\n    @property(ChoiceSetInput.choicesProperty)\n    choices: Choice[] = [];\n\n    @property(ChoiceSetInput.choicesDataProperty)\n    choicesData?: ChoiceSetInputDataQuery;\n\n    //#endregion\n\n    private static _uniqueCategoryCounter = 0;\n\n    private static getUniqueCategoryName(): string {\n        const uniqueCategoryName = \"__ac-category\" + ChoiceSetInput._uniqueCategoryCounter;\n\n        ChoiceSetInput._uniqueCategoryCounter++;\n\n        return uniqueCategoryName;\n    }\n\n    private _uniqueCategoryName: string;\n    private _selectElement: HTMLSelectElement | undefined;\n    private _textInput: HTMLInputElement | undefined;\n    private _toggleInputs: HTMLInputElement[] | undefined;\n    private _labels: Array<HTMLElement | undefined>;\n    private _filteredChoiceSet?: FilteredChoiceSet;\n\n    isDynamicTypeahead(): boolean {\n        return (\n            this.hostConfig.inputs.allowDynamicallyFilteredChoiceSet &&\n            !!this.choicesData &&\n            !!this.choicesData.dataset &&\n            this.choicesData.type === \"Data.Query\"\n        );\n    }\n\n    getFilterForDynamicSearch(): string | undefined {\n        return this._textInput?.value;\n    }\n\n    getDropdownElement() {\n        return this._filteredChoiceSet?.dropdown;\n    }\n\n    renderChoices(filter: string, fetchedChoices: FetchedChoice[]) {\n        this._filteredChoiceSet?.processResponse(filter, fetchedChoices);\n    }\n\n    showLoadingIndicator() {\n        this._filteredChoiceSet?.showLoadingIndicator();\n    }\n\n    removeLoadingIndicator() {\n        this._filteredChoiceSet?.removeLoadingIndicator();\n    }\n\n    showErrorIndicator(filter: string, error: string) {\n        this._filteredChoiceSet?.showErrorIndicator(filter, error);\n    }\n\n    showValidationFailureCue() {\n        this._textInput?.classList.add(\n            this.hostConfig.makeCssClassName(\"ac-input-validation-failed\")\n        );\n    }\n\n    removeValidationFailureCue() {\n        this._textInput?.classList.remove(\n            this.hostConfig.makeCssClassName(\"ac-input-validation-failed\")\n        );\n    }\n\n    private createPlaceholderOptionWhenValueDoesNotExist(): HTMLElement | undefined {\n        if (!this.value) {\n            const placeholderOption = document.createElement(\"option\");\n            placeholderOption.selected = true;\n            placeholderOption.disabled = true;\n            placeholderOption.hidden = true;\n            placeholderOption.value = \"\";\n\n            if (this.placeholder) {\n                placeholderOption.text = this.placeholder;\n            }\n            return placeholderOption;\n        }\n        return undefined;\n    }\n\n    // Make sure `aria-current` is applied to the currently-selected item\n    private internalApplyAriaCurrent(): void {\n        if (this._selectElement) {\n            const options = this._selectElement.options;\n\n            if (options) {\n                for (const option of Array.from(options)) {\n                    if (option.selected) {\n                        option.setAttribute(\"aria-current\", \"true\");\n                    } else {\n                        option.removeAttribute(\"aria-current\");\n                    }\n                }\n            }\n        }\n    }\n\n    private renderCompoundInput(\n        cssClassName: string,\n        type: \"checkbox\" | \"radio\",\n        defaultValues: string[] | undefined\n    ): HTMLElement {\n        const element = document.createElement(\"div\");\n        element.className = this.hostConfig.makeCssClassName(\"ac-input\", cssClassName);\n        element.style.width = \"100%\";\n\n        this._toggleInputs = [];\n        this._labels = [];\n\n        for (const choice of this.choices) {\n            const input = document.createElement(\"input\");\n            input.id = Utils.generateUniqueId();\n            input.type = type;\n            input.style.margin = \"0\";\n            input.style.display = \"inline-block\";\n            input.style.verticalAlign = \"middle\";\n            input.style.flex = \"0 0 auto\";\n            input.name = this.id ? this.id : this._uniqueCategoryName;\n\n            if (this.isRequired) {\n                input.setAttribute(\"aria-required\", \"true\");\n            }\n\n            input.tabIndex = this.isDesignMode() ? -1 : 0;\n\n            if (choice.value) {\n                input.value = choice.value;\n            }\n\n            if (choice.title) {\n                input.setAttribute(\"aria-label\", choice.title);\n            }\n\n            if (defaultValues && choice.value) {\n                if (defaultValues.indexOf(choice.value) >= 0) {\n                    input.checked = true;\n                }\n            }\n\n            input.onchange = () => {\n                this.valueChanged();\n            };\n\n            this._toggleInputs.push(input);\n\n            const compoundInput = document.createElement(\"div\");\n            compoundInput.style.display = \"flex\";\n            compoundInput.style.alignItems = \"center\";\n\n            Utils.appendChild(compoundInput, input);\n\n            const label = new TextBlock();\n            label.setParent(this);\n            label.forElementId = input.id;\n            label.hostConfig = this.hostConfig;\n            label.text = choice.title ? choice.title : \"Choice \" + this._toggleInputs.length;\n            label.useMarkdown = GlobalSettings.useMarkdownInRadioButtonAndCheckbox;\n            label.wrap = this.wrap;\n\n            const labelElement = label.render();\n\n            this._labels.push(labelElement);\n\n            if (labelElement) {\n                labelElement.id = Utils.generateUniqueId();\n                labelElement.style.display = \"inline-block\";\n                labelElement.style.flex = \"1 1 auto\";\n                labelElement.style.marginLeft = \"6px\";\n                labelElement.style.verticalAlign = \"middle\";\n\n                const spacerElement = document.createElement(\"div\");\n                spacerElement.style.width = \"6px\";\n\n                Utils.appendChild(compoundInput, spacerElement);\n                Utils.appendChild(compoundInput, labelElement);\n            }\n\n            Utils.appendChild(element, compoundInput);\n        }\n\n        return element;\n    }\n\n    protected updateInputControlAriaLabelledBy() {\n        if (\n            (this.isMultiSelect || this.style === \"expanded\") &&\n            this._toggleInputs &&\n            this._labels\n        ) {\n            const labelIds: string[] = this.getAllLabelIds();\n\n            for (let i = 0; i < this._toggleInputs.length; i++) {\n                let joinedLabelIds = \"\";\n\n                // Only include the overall information for the first input\n                if (i === 0) {\n                    joinedLabelIds = labelIds.join(\" \");\n                }\n\n                const label = this._labels[i];\n\n                if (label && label.id) {\n                    joinedLabelIds += \" \" + label.id;\n                }\n\n                if (joinedLabelIds !== \"\") {\n                    this._toggleInputs[i].setAttribute(\"aria-labelledby\", joinedLabelIds);\n                } else {\n                    this._toggleInputs[i].removeAttribute(\"aria-labelledby\");\n                }\n            }\n        } else {\n            super.updateInputControlAriaLabelledBy();\n        }\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        this._uniqueCategoryName = ChoiceSetInput.getUniqueCategoryName();\n        if (this.isDynamicTypeahead()) {\n            const filteredChoiceSet = new FilteredChoiceSet(\n                ChoiceSetInput._uniqueCategoryCounter,\n                this.choices,\n                this.hostConfig\n            );\n            filteredChoiceSet.render();\n\n            if (filteredChoiceSet.textInput) {\n                this._textInput = filteredChoiceSet.textInput;\n                if (this.defaultValue) {\n                    this._textInput.value = this.defaultValue;\n                }\n                if (this.placeholder && !this._textInput.value) {\n                    this._textInput.placeholder = this.placeholder;\n                    this._textInput.setAttribute(\"aria-label\", this.placeholder);\n                }\n                this._textInput.tabIndex = this.isDesignMode() ? -1 : 0;\n                const onInputChangeEventHandler = Utils.debounce(() => {\n                    filteredChoiceSet.processChoices();\n                    this.valueChanged();\n                    if (this._textInput) {\n                        // Remove aria-label when value is not empty so narration software doesn't\n                        // read the placeholder\n                        if (this.value) {\n                            this._textInput.removeAttribute(\"placeholder\");\n                            this._textInput.removeAttribute(\"aria-label\");\n                        } else if (this.placeholder) {\n                            this._textInput.placeholder = this.placeholder;\n                            this._textInput.setAttribute(\"aria-label\", this.placeholder);\n                        }\n                    }\n                }, this.hostConfig.inputs.debounceTimeInMilliSeconds);\n                this._textInput.onclick = onInputChangeEventHandler;\n                this._textInput.oninput = onInputChangeEventHandler;\n            }\n            filteredChoiceSet.parent = this;\n            this._filteredChoiceSet = filteredChoiceSet;\n            return filteredChoiceSet.renderedElement;\n        } else if (this.isMultiSelect) {\n            // Render as a list of toggle inputs\n            return this.renderCompoundInput(\n                \"ac-choiceSetInput-multiSelect\",\n                \"checkbox\",\n                this.defaultValue\n                    ? this.defaultValue.split(this.hostConfig.choiceSetInputValueSeparator)\n                    : undefined\n            );\n        } else {\n            if (this.style === \"expanded\") {\n                // Render as a series of radio buttons\n                return this.renderCompoundInput(\n                    \"ac-choiceSetInput-expanded\",\n                    \"radio\",\n                    this.defaultValue ? [this.defaultValue] : undefined\n                );\n            } else if (this.style === \"filtered\") {\n                // Render as a text input coupled with a datalist\n                const inputContainer = document.createElement(\"div\");\n                inputContainer.style.width = \"100%\";\n\n                this._textInput = document.createElement(\"input\");\n                this._textInput.className = this.hostConfig.makeCssClassName(\n                    \"ac-input\",\n                    \"ac-multichoiceInput\",\n                    \"ac-choiceSetInput-filtered\"\n                );\n                this._textInput.type = \"text\";\n                this._textInput.style.width = \"100%\";\n                this._textInput.oninput = () => {\n                    this.valueChanged();\n\n                    if (this._textInput) {\n                        // Remove aria-label when value is not empty so narration software doesn't\n                        // read the placeholder\n                        if (this.value) {\n                            this._textInput.removeAttribute(\"placeholder\");\n                            this._textInput.removeAttribute(\"aria-label\");\n                        } else if (this.placeholder) {\n                            this._textInput.placeholder = this.placeholder;\n                            this._textInput.setAttribute(\"aria-label\", this.placeholder);\n                        }\n                    }\n                };\n\n                if (this.defaultValue) {\n                    this._textInput.value = this.defaultValue;\n                }\n\n                if (this.placeholder && !this._textInput.value) {\n                    this._textInput.placeholder = this.placeholder;\n                    this._textInput.setAttribute(\"aria-label\", this.placeholder);\n                }\n\n                this._textInput.tabIndex = this.isDesignMode() ? -1 : 0;\n\n                const dataList = document.createElement(\"datalist\");\n                dataList.id = Utils.generateUniqueId();\n\n                for (const choice of this.choices) {\n                    const option = document.createElement(\"option\");\n                    // To fix https://stackoverflow.com/questions/29882361/show-datalist-labels-but-submit-the-actual-value\n                    // value is mapped to choice.title other than choice.value\n                    if (choice.title) {\n                        option.value = choice.title;\n                        option.setAttribute(\"aria-label\", choice.title);\n                    }\n\n                    option.tabIndex = this.isDesignMode() ? -1 : 0;\n\n                    dataList.appendChild(option);\n                }\n\n                this._textInput.setAttribute(\"list\", dataList.id);\n\n                inputContainer.append(this._textInput, dataList);\n\n                return inputContainer;\n            } else {\n                // Render as a combo box\n                this._selectElement = document.createElement(\"select\");\n                this._selectElement.className = this.hostConfig.makeCssClassName(\n                    \"ac-input\",\n                    \"ac-multichoiceInput\",\n                    \"ac-choiceSetInput-compact\"\n                );\n                this._selectElement.style.width = \"100%\";\n\n                this._selectElement.tabIndex = this.isDesignMode() ? -1 : 0;\n\n                const placeholderOption = this.createPlaceholderOptionWhenValueDoesNotExist();\n\n                Utils.appendChild(this._selectElement, placeholderOption);\n\n                for (const choice of this.choices) {\n                    const option = document.createElement(\"option\");\n                    option.value = choice.value!;\n\n                    if (choice.title) {\n                        option.text = choice.title;\n                        option.setAttribute(\"aria-label\", choice.title);\n                    }\n\n                    option.tabIndex = this.isDesignMode() ? -1 : 0;\n\n                    if (choice.value === this.defaultValue) {\n                        option.selected = true;\n                    }\n\n                    Utils.appendChild(this._selectElement, option);\n                }\n\n                this._selectElement.onchange = () => {\n                    this.internalApplyAriaCurrent();\n                    this.valueChanged();\n                };\n\n                this.internalApplyAriaCurrent();\n\n                return this._selectElement;\n            }\n        }\n    }\n\n    updateVisualState(eventType: InputEventType): void {\n        if (!this.allowRevealOnHoverStyle) {\n            return;\n        }\n\n        if (!this.isMultiSelect && this.isCompact) {\n            super.updateVisualState(eventType);\n\n            if (this._selectElement && this.inputStyle === Enums.InputStyle.RevealOnHover) {\n                const hideDropDownPicker = this.shouldHideInputAdornersForRevealOnHover(this._selectElement, eventType);\n                \n                if (hideDropDownPicker) {\n                    this._selectElement.style.appearance = \"none\";\n                    this._selectElement.classList.remove(this.hostConfig.makeCssClassName(\"ac-inputStyle-revealOnHover-onfocus\"));\n                } else {\n                    this._selectElement.style.appearance = \"auto\";\n                    this._selectElement.classList.add(this.hostConfig.makeCssClassName(\"ac-inputStyle-revealOnHover-onfocus\"));\n                }\t\t\t\n            }\n        }\n    }\n\n    getJsonTypeName(): string {\n        return \"Input.ChoiceSet\";\n    }\n\n    focus() {\n        if (this._toggleInputs && (this.isMultiSelect || this.style === \"expanded\")) {\n            if (this._toggleInputs.length > 0) {\n                this._toggleInputs[0].focus();\n            }\n        } else if (this._textInput) {\n            this._textInput.focus();\n        } else {\n            super.focus();\n        }\n    }\n\n    internalValidateProperties(context: ValidationResults) {\n        super.internalValidateProperties(context);\n\n        if (this.choices.length === 0) {\n            context.addFailure(\n                this,\n                Enums.ValidationEvent.CollectionCantBeEmpty,\n                Strings.errors.choiceSetMustHaveAtLeastOneChoice()\n            );\n        }\n\n        for (const choice of this.choices) {\n            if (!choice.title || !choice.value) {\n                context.addFailure(\n                    this,\n                    Enums.ValidationEvent.PropertyCantBeNull,\n                    Strings.errors.choiceSetChoicesMustHaveTitleAndValue()\n                );\n            }\n        }\n    }\n\n    isSet(): boolean {\n        return this.value ? true : false;\n    }\n\n    isValid(): boolean {\n        if (this._textInput) {\n            if (this.value === \"\" || this.value === this.placeholder) {\n                return true;\n            }\n            for (const choice of this.choices) {\n                if (this.value === choice.value) {\n                    return true;\n                }\n            }\n            if (this.dynamicChoices) {\n                for (const choice of this.dynamicChoices) {\n                    if (this.value === choice) {\n                        return true;\n                    }\n                }\n            }\n            return false;\n        }\n\n        return super.isValid();\n    }\n\n    get value(): string | undefined {\n        if (!this.isMultiSelect) {\n            if (this._selectElement) {\n                return this._selectElement.selectedIndex > 0\n                    ? this._selectElement.value\n                    : undefined;\n            } else if (this._textInput) {\n                for (const choice of this.choices) {\n                    if (choice.title && this._textInput.value === choice.title) {\n                        return choice.value;\n                    }\n                }\n                return this._textInput.value;\n            } else if (this._toggleInputs && this._toggleInputs.length > 0) {\n                for (const toggleInput of this._toggleInputs) {\n                    if (toggleInput.checked) {\n                        return toggleInput.value;\n                    }\n                }\n            }\n\n            return undefined;\n        } else {\n            if (!this._toggleInputs || this._toggleInputs.length === 0) {\n                return undefined;\n            }\n\n            let result: string = \"\";\n\n            for (const toggleInput of this._toggleInputs) {\n                if (toggleInput.checked) {\n                    if (result !== \"\") {\n                        result += this.hostConfig.choiceSetInputValueSeparator;\n                    }\n\n                    result += toggleInput.value;\n                }\n            }\n\n            return result ? result : undefined;\n        }\n    }\n\n    get dynamicChoices() {\n        return this._filteredChoiceSet?.dynamicChoices;\n    }\n}\n\nexport class FilteredChoiceSet {\n    private _parent?: CardObject;\n    private _choiceSetId: number;\n    private _choices: Choice[];\n    private _dynamicChoices: FetchedChoice[];\n    private _visibleChoiceCount: number;\n    private _highlightedChoiceId: number;\n    private _textInput?: HTMLInputElement;\n    private _dropdown?: HTMLDivElement;\n    private _loadingIndicator?: HTMLDivElement;\n    private _errorIndicator?: HTMLDivElement;\n    private _renderedElement?: HTMLElement;\n    private _hostConfig?: HostConfig;\n\n    constructor(choiceSetId: number, choices: Choice[], hostConfig?: HostConfig) {\n        this._choiceSetId = choiceSetId;\n        this._choices = choices;\n        this._dynamicChoices = [];\n        this._visibleChoiceCount = 0;\n        this._highlightedChoiceId = -1;\n        this._hostConfig = hostConfig;\n    }\n\n    render() {\n        const choiceSetContainer = document.createElement(\"div\");\n        choiceSetContainer.className = this.hostConfig.makeCssClassName(\n            \"ac-input\",\n            \"ac-choiceSetInput-filtered-container\"\n        );\n\n        this._textInput = document.createElement(\"input\");\n        this._textInput.className = this.hostConfig.makeCssClassName(\n            \"ac-input\",\n            \"ac-choiceSetInput-filtered-textbox\"\n        );\n        this._textInput.type = \"text\";\n\n        this._textInput.onkeydown = (event) => {\n            if (event.key === \"ArrowDown\") {\n                event.preventDefault();\n                this.highlightChoice(this._highlightedChoiceId + 1);\n            } else if (event.key === \"ArrowUp\") {\n                event.preventDefault();\n                this.highlightChoice(this._highlightedChoiceId - 1);\n            } else if (event.key === \"Enter\") {\n                const choice = document.getElementById(\n                    `ac-choiceSetInput-${this._choiceSetId}-choice-${this._highlightedChoiceId}`\n                );\n                choice?.click();\n            }\n        };\n\n        this._dropdown = document.createElement(\"div\");\n        this._dropdown.className = this.hostConfig.makeCssClassName(\n            \"ac-input\",\n            \"ac-choiceSetInput-filtered-dropdown\"\n        );\n\n        choiceSetContainer.append(this._textInput, this._dropdown);\n\n        this._renderedElement = choiceSetContainer;\n    }\n\n    private createChoice(value: string, filter: string, id: number): HTMLSpanElement {\n        const choice = document.createElement(\"span\");\n        choice.className = this.hostConfig.makeCssClassName(\"ac-input\", \"ac-choiceSetInput-choice\");\n        choice.id = `ac-choiceSetInput-${this._choiceSetId}-choice-${id}`;\n        \n        const startIndex = value.indexOf(filter);\n        if (startIndex === -1) {\n            // Filter wasn't found, add the value as is\n            const valueSpan = document.createElement(\"span\");\n            valueSpan.innerText = value;\n            choice.appendChild(valueSpan);\n        } else {\n            if (startIndex > 0) {\n                // Add a span with the beginning unmatched text\n                const unmatchedBeg = value.substring(0, startIndex);\n                const unmatchedBegSpan = document.createElement(\"span\");\n                unmatchedBegSpan.innerText = unmatchedBeg;\n                choice.appendChild(unmatchedBegSpan);\n            }\n\n            // Add the matched filter with bold styling\n            const filterSpan = document.createElement(\"span\");\n            filterSpan.innerText = filter;\n            filterSpan.style.fontWeight = \"bold\";\n            choice.appendChild(filterSpan);\n\n            if (startIndex + filter.length < value.length) {\n                // Add a span with the ending unmatched text\n                const unmatchedEnd = value.substring(startIndex + filter.length);\n                const unmatchedEndSpan = document.createElement(\"span\");\n                unmatchedEndSpan.innerText = unmatchedEnd;\n                choice.appendChild(unmatchedEndSpan);\n            }\n        }\n\n        choice.tabIndex = -1;\n\n        choice.onclick = () => {\n            choice.classList.remove(\n                this.hostConfig.makeCssClassName(\"ac-choiceSetInput-choice-highlighted\")\n            );\n            this._highlightedChoiceId = -1;\n            if (this._textInput) {\n                this._textInput.value = choice.innerText;\n                this._textInput.focus();\n            }\n            if (this._dropdown) {\n                this._dropdown.classList.remove(\n                    this.hostConfig.makeCssClassName(\"ac-choiceSetInput-filtered-dropdown-open\")\n                );\n            }\n        };\n        choice.onmousemove = () => {\n            if (this._highlightedChoiceId !== id) {\n                this.highlightChoice(id, false);\n            }\n        };\n\n        return choice;\n    }\n\n    private highlightChoice(id: number, scrollIntoView: boolean = true) {\n        if (this._visibleChoiceCount > 0) {\n            const currentHighlightedChoice = document.getElementById(\n                `ac-choiceSetInput-${this._choiceSetId}-choice-${this._highlightedChoiceId}`\n            );\n            const nextHighlightedChoice = document.getElementById(\n                `ac-choiceSetInput-${this._choiceSetId}-choice-${id}`\n            );\n            if (nextHighlightedChoice) {\n                currentHighlightedChoice?.classList.remove(\n                    this.hostConfig.makeCssClassName(\"ac-choiceSetInput-choice-highlighted\")\n                );\n                nextHighlightedChoice.classList.add(\n                    this.hostConfig.makeCssClassName(\"ac-choiceSetInput-choice-highlighted\")\n                );\n                if (scrollIntoView) {\n                    nextHighlightedChoice.scrollIntoView();\n                }\n                this._highlightedChoiceId = id;\n            } else if (currentHighlightedChoice && this._highlightedChoiceId !== 0) {\n                this.highlightChoice(0);\n            } else {\n                this.highlightChoice(this._visibleChoiceCount - 1);\n            }\n        }\n    }\n\n    private filterChoices() {\n        const filter = this._textInput?.value.toLowerCase().trim() || \"\";\n        const choices = [...this._choices, ...this._dynamicChoices];\n        for (const choice of choices) {\n            if (choice.title) {\n                const matchIndex = choice.title.toLowerCase().indexOf(filter);\n                if (matchIndex !== -1) {\n                    const matchedText = choice.title.substring(\n                        matchIndex,\n                        matchIndex + filter.length\n                    );\n                    const choiceContainer = this.createChoice(\n                        choice.title,\n                        matchedText,\n                        this._visibleChoiceCount++\n                    );\n                    this._dropdown?.appendChild(choiceContainer);\n                }\n            }\n        }\n    }\n\n    private getStatusIndicator(error?: string): HTMLDivElement {\n        if (error) {\n            if (!this._errorIndicator) {\n                const errorIndicator = document.createElement(\"div\");\n                errorIndicator.className = this.hostConfig.makeCssClassName(\n                    \"ac-input\",\n                    \"ac-choiceSetInput-statusIndicator\",\n                    \"ac-choiceSetInput-errorIndicator\"\n                );\n                this._errorIndicator = errorIndicator;\n            }\n            this._errorIndicator.innerText = error;\n            return this._errorIndicator;\n        } else {\n            if (!this._loadingIndicator) {\n                const loadingIndicator = document.createElement(\"div\");\n                loadingIndicator.className = this.hostConfig.makeCssClassName(\n                    \"ac-input\",\n                    \"ac-choiceSetInput-statusIndicator\"\n                );\n                this._loadingIndicator = loadingIndicator;\n            }\n            this._loadingIndicator.innerText =\n                this._visibleChoiceCount === 0 ? \"Loading...\" : \"Loading more...\";\n            return this._loadingIndicator;\n        }\n    }\n\n    private resetDropdown() {\n        if (this._dropdown) {\n            Utils.clearElementChildren(this._dropdown);\n            this._visibleChoiceCount = 0;\n            this._highlightedChoiceId = -1;\n        }\n    }\n\n    private showDropdown() {\n        if (this._dropdown?.hasChildNodes()) {\n            this._dropdown.classList.add(\n                this.hostConfig.makeCssClassName(\"ac-choiceSetInput-filtered-dropdown-open\")\n            );\n        }\n    }\n\n    processChoices() {\n        this.resetDropdown();\n        this.filterChoices();\n        this.showDropdown();\n    }\n\n    processResponse(filter: string, fetchedChoices: FetchedChoice[]) {\n        if (filter === this._textInput?.value) {\n            this.resetDropdown();\n            this._dynamicChoices = fetchedChoices;\n            this.filterChoices();\n            if (this._visibleChoiceCount === 0) {\n                this.showErrorIndicator(filter, \"No results found\");\n            }\n        }\n    }\n\n    showLoadingIndicator() {\n        const loadingIndicator = this.getStatusIndicator();\n        this._dropdown?.appendChild(loadingIndicator);\n        this.showDropdown();\n    }\n\n    removeLoadingIndicator() {\n        if (this._loadingIndicator && this._dropdown?.contains(this._loadingIndicator)) {\n            this._dropdown?.removeChild(this._loadingIndicator);\n        }\n    }\n\n    showErrorIndicator(filter: string, error: string) {\n        if (filter === this._textInput?.value) {\n            this.processChoices();\n            const errorIndicator = this.getStatusIndicator(error);\n            this._dropdown?.appendChild(errorIndicator);\n            errorIndicator.scrollIntoView();\n        }\n    }\n\n    get dynamicChoices() {\n        return this._dynamicChoices?.map((choice) => choice.title);\n    }\n\n    get hostConfig(): HostConfig {\n        if (this._hostConfig) {\n            return this._hostConfig;\n        } else {\n            if (this.parent) {\n                return this.parent.hostConfig;\n            } else {\n                return defaultHostConfig;\n            }\n        }\n    }\n\n    set parent(value: CardObject | undefined) {\n        this._parent = value;\n    }\n\n    get parent() {\n        return this._parent;\n    }\n\n    get renderedElement() {\n        return this._renderedElement;\n    }\n\n    get textInput() {\n        return this._textInput;\n    }\n\n    get dropdown() {\n        return this._dropdown;\n    }\n}\n\nexport class NumberInput extends Input {\n    //#region Schema\n\n    static readonly valueProperty = new NumProperty(Versions.v1_0, \"value\");\n    static readonly placeholderProperty = new StringProperty(Versions.v1_0, \"placeholder\");\n    static readonly minProperty = new NumProperty(Versions.v1_0, \"min\");\n    static readonly maxProperty = new NumProperty(Versions.v1_0, \"max\");\n\n    @property(NumberInput.valueProperty)\n    defaultValue?: number;\n\n    @property(NumberInput.minProperty)\n    min?: number;\n\n    @property(NumberInput.maxProperty)\n    max?: number;\n\n    @property(NumberInput.placeholderProperty)\n    placeholder?: string;\n\n    //#endregion\n\n    private _numberInputElement: HTMLInputElement;\n\n    protected internalRender(): HTMLElement | undefined {\n        this._numberInputElement = document.createElement(\"input\");\n        this._numberInputElement.setAttribute(\"type\", \"number\");\n\n        if (this.min !== undefined) {\n            this._numberInputElement.setAttribute(\"min\", this.min.toString());\n        }\n\n        if (this.max !== undefined) {\n            this._numberInputElement.setAttribute(\"max\", this.max.toString());\n        }\n\n        this._numberInputElement.className = this.hostConfig.makeCssClassName(\n            \"ac-input\",\n            \"ac-numberInput\"\n        );\n        this._numberInputElement.style.width = \"100%\";\n\n        this._numberInputElement.tabIndex = this.isDesignMode() ? -1 : 0;\n\n        if (this.defaultValue !== undefined) {\n            this._numberInputElement.valueAsNumber = this.defaultValue;\n        }\n\n        if (this.placeholder) {\n            this._numberInputElement.placeholder = this.placeholder;\n            this._numberInputElement.setAttribute(\"aria-label\", this.placeholder);\n        }\n\n        this._numberInputElement.oninput = () => {\n            this.valueChanged();\n        };\n\n        return this._numberInputElement;\n    }\n\n    getJsonTypeName(): string {\n        return \"Input.Number\";\n    }\n\n    isSet(): boolean {\n        return this.value !== undefined && !isNaN(this.value);\n    }\n\n    isValid(): boolean {\n        if (this.value === undefined) {\n            return !this.isRequired;\n        }\n\n        let result = true;\n\n        if (this.min !== undefined) {\n            result = result && this.value >= this.min;\n        }\n\n        if (this.max !== undefined) {\n            result = result && this.value <= this.max;\n        }\n\n        return result;\n    }\n\n    get value(): number | undefined {\n        return this._numberInputElement ? this._numberInputElement.valueAsNumber : undefined;\n    }\n\n    set value(value: number | undefined) {\n        if (value && this._numberInputElement) {\n            this._numberInputElement.value = value.toString();\n        }\n    }\n}\n\nexport class DateInput extends Input {\n    //#region Schema\n\n    static readonly valueProperty = new StringProperty(Versions.v1_0, \"value\");\n    static readonly placeholderProperty = new StringProperty(Versions.v1_0, \"placeholder\");\n    static readonly minProperty = new StringProperty(Versions.v1_0, \"min\");\n    static readonly maxProperty = new StringProperty(Versions.v1_0, \"max\");\n\n    @property(DateInput.valueProperty)\n    defaultValue?: string;\n\n    @property(DateInput.minProperty)\n    min?: string;\n\n    @property(DateInput.maxProperty)\n    max?: string;\n\n    @property(DateInput.placeholderProperty)\n    placeholder?: string;\n\n    //#endregion\n\n    private _dateInputElement: HTMLInputElement;\n\n    protected internalRender(): HTMLElement | undefined {\n        this._dateInputElement = document.createElement(\"input\");\n        this._dateInputElement.setAttribute(\"type\", \"date\");\n\n        if (this.min) {\n            this._dateInputElement.setAttribute(\"min\", this.min);\n        }\n\n        if (this.max) {\n            this._dateInputElement.setAttribute(\"max\", this.max);\n        }\n\n        if (this.placeholder) {\n            this._dateInputElement.placeholder = this.placeholder;\n            this._dateInputElement.setAttribute(\"aria-label\", this.placeholder);\n        }\n\n        this._dateInputElement.tabIndex = this.isDesignMode() ? -1 : 0;\n\n        this._dateInputElement.className = this.hostConfig.makeCssClassName(\n            \"ac-input\",\n            \"ac-dateInput\"\n        );\n        this._dateInputElement.style.width = \"100%\";\n\n        this._dateInputElement.oninput = () => {\n            this.valueChanged();\n        };\n\n        if (this.defaultValue) {\n            this._dateInputElement.value = this.defaultValue;\n        }\n\n        return this._dateInputElement;\n    }\n\n    updateVisualState(eventType: InputEventType): void {\n        if (!this.allowRevealOnHoverStyle) {\n            return;\n        }\n\n        super.updateVisualState(eventType);\n\n        if (this._dateInputElement && this.inputStyle === Enums.InputStyle.RevealOnHover) {\n            const hideDatePicker = this.shouldHideInputAdornersForRevealOnHover(this._dateInputElement, eventType);\n\n            if (hideDatePicker) {\n                this._dateInputElement.classList.remove(this.hostConfig.makeCssClassName(\"ac-inputStyle-revealOnHover-onfocus\"));\n            } else {\n                this._dateInputElement.classList.add(this.hostConfig.makeCssClassName(\"ac-inputStyle-revealOnHover-onfocus\"));\n            }\n\n            updateInputAdornersVisibility(this._dateInputElement, hideDatePicker  /*hide*/);\n        }\n    }\n\n    getJsonTypeName(): string {\n        return \"Input.Date\";\n    }\n\n    isSet(): boolean {\n        return this.value ? true : false;\n    }\n\n    isValid(): boolean {\n        if (!this.value) {\n            return !this.isRequired;\n        }\n\n        const valueAsDate = new Date(this.value);\n\n        let result = true;\n\n        if (this.min) {\n            const minDate = new Date(this.min);\n\n            result = result && valueAsDate >= minDate;\n        }\n\n        if (this.max) {\n            const maxDate = new Date(this.max);\n\n            result = result && valueAsDate <= maxDate;\n        }\n\n        return result;\n    }\n\n    get value(): string | undefined {\n        return this._dateInputElement ? this._dateInputElement.value : undefined;\n    }\n}\n\nexport class TimeProperty extends CustomProperty<string | undefined> {\n    constructor(readonly targetVersion: Version, readonly name: string) {\n        super(\n            targetVersion,\n            name,\n            (\n                sender: SerializableObject,\n                prop: PropertyDefinition,\n                source: PropertyBag,\n                context: BaseSerializationContext\n            ) => {\n                const value = source[prop.name];\n\n                if (typeof value === \"string\" && value && /^[0-9]{2}:[0-9]{2}$/.test(value)) {\n                    return value;\n                }\n\n                return undefined;\n            },\n            (\n                sender: SerializableObject,\n                prop: PropertyDefinition,\n                target: PropertyBag,\n                value: string | undefined,\n                context: BaseSerializationContext\n            ) => {\n                context.serializeValue(target, prop.name, value);\n            }\n        );\n    }\n}\n\nexport class TimeInput extends Input {\n    private static convertTimeStringToDate(timeString: string): Date {\n        return new Date(\"1973-09-04T\" + timeString + \":00Z\");\n    }\n\n    //#region Schema\n\n    static readonly valueProperty = new TimeProperty(Versions.v1_0, \"value\");\n    static readonly placeholderProperty = new StringProperty(Versions.v1_0, \"placeholder\");\n    static readonly minProperty = new TimeProperty(Versions.v1_0, \"min\");\n    static readonly maxProperty = new TimeProperty(Versions.v1_0, \"max\");\n\n    @property(TimeInput.valueProperty)\n    defaultValue?: string;\n\n    @property(TimeInput.minProperty)\n    min?: string;\n\n    @property(TimeInput.maxProperty)\n    max?: string;\n\n    @property(TimeInput.placeholderProperty)\n    placeholder?: string;\n\n    //#endregion\n\n    private _timeInputElement: HTMLInputElement;\n\n    protected internalRender(): HTMLElement | undefined {\n        this._timeInputElement = document.createElement(\"input\");\n        this._timeInputElement.setAttribute(\"type\", \"time\");\n\n        if (this.min) {\n            this._timeInputElement.setAttribute(\"min\", this.min);\n        }\n\n        if (this.max) {\n            this._timeInputElement.setAttribute(\"max\", this.max);\n        }\n\n        this._timeInputElement.className = this.hostConfig.makeCssClassName(\n            \"ac-input\",\n            \"ac-timeInput\"\n        );\n        this._timeInputElement.style.width = \"100%\";\n        this._timeInputElement.oninput = () => {\n            this.valueChanged();\n        };\n\n        if (this.placeholder) {\n            this._timeInputElement.placeholder = this.placeholder;\n            this._timeInputElement.setAttribute(\"aria-label\", this.placeholder);\n        }\n\n        this._timeInputElement.tabIndex = this.isDesignMode() ? -1 : 0;\n\n        if (this.defaultValue) {\n            this._timeInputElement.value = this.defaultValue;\n        }\n\n        return this._timeInputElement;\n    }\n\n    updateVisualState(eventType: InputEventType): void {\n        if (!this.allowRevealOnHoverStyle) {\n            return;\n        }\n        \n        super.updateVisualState(eventType);\n\n        if (this._timeInputElement && this.inputStyle === Enums.InputStyle.RevealOnHover) {\n            const hideTimePicker = this.shouldHideInputAdornersForRevealOnHover(this._timeInputElement, eventType);\n\n            if (hideTimePicker) {\n                this._timeInputElement.classList.remove(this.hostConfig.makeCssClassName(\"ac-inputStyle-revealOnHover-onfocus\"));\n            } else {\n                this._timeInputElement.classList.add(this.hostConfig.makeCssClassName(\"ac-inputStyle-revealOnHover-onfocus\"));\n            }\n\n            updateInputAdornersVisibility(this._timeInputElement, hideTimePicker /*hide*/);\n        }\n    }\n\n    getJsonTypeName(): string {\n        return \"Input.Time\";\n    }\n\n    isSet(): boolean {\n        return this.value ? true : false;\n    }\n\n    isValid(): boolean {\n        if (!this.value) {\n            return !this.isRequired;\n        }\n\n        const valueAsDate = TimeInput.convertTimeStringToDate(this.value);\n\n        let result = true;\n\n        if (this.min) {\n            const minDate = TimeInput.convertTimeStringToDate(this.min);\n\n            result = result && valueAsDate >= minDate;\n        }\n\n        if (this.max) {\n            const maxDate = TimeInput.convertTimeStringToDate(this.max);\n\n            result = result && valueAsDate <= maxDate;\n        }\n\n        return result;\n    }\n\n    get value(): string | undefined {\n        return this._timeInputElement ? this._timeInputElement.value : undefined;\n    }\n}\n\nexport const enum ActionButtonState {\n    Normal,\n    Expanded,\n    Subdued\n}\n\nexport type ActionType = { new (): Action };\n\nexport abstract class Action extends CardObject {\n    //#region Schema\n\n    static readonly titleProperty = new StringProperty(Versions.v1_0, \"title\");\n    static readonly iconUrlProperty = new StringProperty(Versions.v1_1, \"iconUrl\");\n    static readonly styleProperty = new ValueSetProperty(\n        Versions.v1_2,\n        \"style\",\n        [\n            { value: Enums.ActionStyle.Default },\n            { value: Enums.ActionStyle.Positive },\n            { value: Enums.ActionStyle.Destructive }\n        ],\n        Enums.ActionStyle.Default\n    );\n    static readonly modeProperty = new ValueSetProperty(\n        Versions.v1_5,\n        \"mode\",\n        [{ value: Enums.ActionMode.Primary }, { value: Enums.ActionMode.Secondary }],\n        Enums.ActionMode.Primary\n    );\n    static readonly tooltipProperty = new StringProperty(Versions.v1_5, \"tooltip\");\n    static readonly isEnabledProperty = new BoolProperty(Versions.v1_5, \"isEnabled\", true);\n    static readonly roleProperty = new EnumProperty(Versions.v1_6, \"role\", Enums.ActionRole);\n\n    @property(Action.titleProperty)\n    title?: string;\n\n    @property(Action.iconUrlProperty)\n    iconUrl?: string;\n\n    @property(Action.styleProperty)\n    style: string = Enums.ActionStyle.Default;\n\n    @property(Action.modeProperty)\n    mode: string = Enums.ActionMode.Primary;\n\n    @property(Action.tooltipProperty)\n    tooltip?: string;\n\n    @property(Action.isEnabledProperty)\n    isEnabled: boolean;\n    \n    @property(Action.roleProperty)\n    role?: Enums.ActionRole;\n\n    //#endregion\n\n    private renderButtonContent() {\n        if (this.renderedElement) {\n            // Cache hostConfig for perf\n            const hostConfig = this.hostConfig;\n\n            const titleElement = document.createElement(\"div\");\n            titleElement.style.overflow = \"hidden\";\n            titleElement.style.textOverflow = \"ellipsis\";\n\n            if (\n                !(\n                    hostConfig.actions.iconPlacement === Enums.ActionIconPlacement.AboveTitle ||\n                    hostConfig.actions.allowTitleToWrap\n                )\n            ) {\n                titleElement.style.whiteSpace = \"nowrap\";\n            }\n\n            if (this.title) {\n                titleElement.innerText = this.title;\n            }\n\n            if (!this.iconUrl) {\n                this.renderedElement.classList.add(\"noIcon\");\n                this.renderedElement.appendChild(titleElement);\n            } else {\n                const iconElement = document.createElement(\"img\");\n                iconElement.src = this.iconUrl;\n                iconElement.style.width = hostConfig.actions.iconSize + \"px\";\n                iconElement.style.height = hostConfig.actions.iconSize + \"px\";\n                iconElement.style.flex = \"0 0 auto\";\n                iconElement.setAttribute(\"role\", \"presentation\");\n\n                if (hostConfig.actions.iconPlacement === Enums.ActionIconPlacement.AboveTitle) {\n                    this.renderedElement.classList.add(\"iconAbove\");\n                    this.renderedElement.style.flexDirection = \"column\";\n\n                    if (this.title) {\n                        iconElement.style.marginBottom = \"6px\";\n                    }\n                } else {\n                    this.renderedElement.classList.add(\"iconLeft\");\n\n                    iconElement.style.maxHeight = \"100%\";\n\n                    if (this.title) {\n                        iconElement.style.marginRight = \"6px\";\n                    }\n                }\n\n                this.renderedElement.appendChild(iconElement);\n                this.renderedElement.appendChild(titleElement);\n            }\n        }\n    }\n\n    private getParentContainer(): Container | undefined {\n        if (this.parent instanceof Container) {\n            return this.parent;\n        }\n\n        return this.parent ? this.parent.getParentContainer() : undefined;\n    }\n\n    private _state: ActionButtonState = ActionButtonState.Normal;\n    private _actionCollection?: ActionCollection; // hold the reference to its action collection\n    private _isFocusable: boolean = true;\n\n    isDesignMode(): boolean {\n        const rootElement = this.getRootObject();\n\n        return rootElement instanceof CardElement && rootElement.isDesignMode();\n    }\n\n    protected updateCssClasses() {\n        if (this.parent && this.renderedElement) {\n            const hostConfig = this.parent.hostConfig;\n\n            this.renderedElement.className = hostConfig.makeCssClassName(\n                this.isEffectivelyEnabled() ? \"ac-pushButton\" : \"ac-pushButton-disabled\"\n            );\n\n            const parentContainer = this.getParentContainer();\n\n            if (parentContainer) {\n                const parentContainerStyle = parentContainer.getEffectiveStyle();\n\n                if (parentContainerStyle) {\n                    this.renderedElement.classList.add(\"style-\" + parentContainerStyle);\n                }\n            }\n\n            this.renderedElement.tabIndex = !this.isDesignMode() && this.isFocusable ? 0 : -1;\n\n            switch (this._state) {\n                case ActionButtonState.Normal:\n                    // No additional classes needed\n                    break;\n\n                case ActionButtonState.Expanded:\n                    this.renderedElement.classList.add(hostConfig.makeCssClassName(\"expanded\"));\n                    break;\n                case ActionButtonState.Subdued:\n                    this.renderedElement.classList.add(hostConfig.makeCssClassName(\"subdued\"));\n                    break;\n            }\n\n            if (this.style && this.isEffectivelyEnabled()) {\n                if (this.style === Enums.ActionStyle.Positive) {\n                    this.renderedElement.classList.add(\n                        ...hostConfig.makeCssClassNames(\"primary\", \"style-positive\")\n                    );\n                } else {\n                    this.renderedElement.classList.add(\n                        ...hostConfig.makeCssClassNames(\"style-\" + this.style.toLowerCase())\n                    );\n                }\n            }\n        }\n    }\n\n    protected getDefaultSerializationContext(): BaseSerializationContext {\n        return new SerializationContext();\n    }\n\n    protected internalGetReferencedInputs(): Dictionary<Input> {\n        return {};\n    }\n\n    protected internalPrepareForExecution(_inputs: Dictionary<Input> | undefined) {\n        // Do nothing in base implementation\n    }\n\n    protected internalValidateInputs(referencedInputs: Dictionary<Input> | undefined): Input[] {\n        const result: Input[] = [];\n\n        if (referencedInputs) {\n            for (const key of Object.keys(referencedInputs)) {\n                const input = referencedInputs[key];\n\n                if (!input.validateValue()) {\n                    result.push(input);\n                }\n            }\n        }\n\n        return result;\n    }\n\n    protected shouldSerialize(context: SerializationContext): boolean {\n        return context.actionRegistry.findByName(this.getJsonTypeName()) !== undefined;\n    }\n\n    protected raiseExecuteActionEvent() {\n        if (this.onExecute) {\n            this.onExecute(this);\n        }\n\n        raiseExecuteActionEvent(this);\n    }\n\n    protected internalAfterExecute() {\n        let rootObject = this.getRootObject();\n\n        if (rootObject instanceof CardElement) {\n            rootObject.updateActionsEnabledState();\n        }\n    }\n\n    onExecute: (sender: Action) => void;\n\n    getHref(): string | undefined {\n        return \"\";\n    }\n\n    getAriaRole(): string {\n        let ariaRole = this.getAriaRoleFromEnum();\n        return ariaRole ?? \"button\";\n    }\n    \n    getAriaRoleFromEnum(): string | undefined {\n        switch (this.role) {\n            case Enums.ActionRole.Button:\n                return \"button\";\n            case Enums.ActionRole.Link:\n                return \"link\";\n            case Enums.ActionRole.Menu:\n                return \"menu\";\n            case Enums.ActionRole.MenuItem:\n                return \"menuitem\";\n            case Enums.ActionRole.Tab:\n                return \"tab\";\n            default:\n                return undefined;\n        }\n    }\n\n    setupElementForAccessibility(element: HTMLElement, promoteTooltipToLabel: boolean = false) {\n        element.tabIndex = this.isEffectivelyEnabled() && !this.isDesignMode() ? 0 : -1;\n\n        element.setAttribute(\"role\", this.getAriaRole());\n\n        if (element instanceof HTMLButtonElement) {\n            element.disabled = !this.isEffectivelyEnabled();\n        }\n\n        if (!this.isEffectivelyEnabled()) {\n            element.setAttribute(\"aria-disabled\", \"true\");\n        } else {\n            element.removeAttribute(\"aria-disabled\");\n            element.classList.add(this.hostConfig.makeCssClassName(\"ac-selectable\"));\n        }\n\n        if (this.title) {\n            element.setAttribute(\"aria-label\", this.title);\n            element.title = this.title;\n        } else {\n            element.removeAttribute(\"aria-label\");\n            element.removeAttribute(\"title\");\n        }\n\n        if (this.tooltip) {\t\t\t\n            if (promoteTooltipToLabel && !this.title) {\n                element.setAttribute(\"aria-label\", this.tooltip);\n            }\n            element.title = this.tooltip;\n        }\n    }\n\n    parse(source: any, context?: SerializationContext) {\n        return super.parse(source, context ? context : new SerializationContext());\n    }\n\n    render() {\n        const buttonElement = document.createElement(\"button\");\n        buttonElement.type = \"button\";\n        buttonElement.style.display = \"flex\";\n        buttonElement.style.alignItems = \"center\";\n        buttonElement.style.justifyContent = \"center\";\n        buttonElement.onclick = (e) => {\n            if (this.isEffectivelyEnabled()) {\n                e.preventDefault();\n                e.cancelBubble = true;\n\n                this.execute();\n            }\n        };\n\n        this._renderedElement = buttonElement;\n\n        this.renderButtonContent();\n        this.updateCssClasses();\n        this.setupElementForAccessibility(buttonElement);\n    }\n\n    execute() {\n        if (this._actionCollection) {\n            this._actionCollection.actionExecuted(this);\n        }\n\n        this.raiseExecuteActionEvent();\n        this.internalAfterExecute();\n    }\n\n    prepareForExecution(): boolean {\n        const referencedInputs = this.getReferencedInputs();\n        const invalidInputs = this.internalValidateInputs(referencedInputs);\n\n        if (invalidInputs.length > 0) {\n            invalidInputs[0].focus();\n\n            return false;\n        }\n\n        this.internalPrepareForExecution(referencedInputs);\n\n        return true;\n    }\n\n    remove(): boolean {\n        if (this._actionCollection) {\n            return this._actionCollection.removeAction(this);\n        }\n\n        return false;\n    }\n\n    getAllInputs(processActions: boolean = true): Input[] {\n        return [];\n    }\n\n    getAllActions(): Action[] {\n        return [this];\n    }\n\n    getResourceInformation(): IResourceInformation[] {\n        return this.iconUrl ? [{ url: this.iconUrl, mimeType: \"image\" }] : [];\n    }\n\n    getActionById(id: string): Action | undefined {\n        return this.id === id ? this : undefined;\n    }\n\n    getReferencedInputs(): Dictionary<Input> | undefined {\n        return this.internalGetReferencedInputs();\n    }\n\n    /**\n     * Validates the inputs associated with this action.\n     *\n     * @returns A list of inputs that failed validation, or an empty array if no input failed validation.\n     */\n    validateInputs(): Input[] {\n        return this.internalValidateInputs(this.getReferencedInputs());\n    }\n\n    updateEnabledState() {\n        // Do nothing in base implementation\n    }\n\n    isEffectivelyEnabled(): boolean {\n        return this.isEnabled;\n    }\n\n    get isPrimary(): boolean {\n        return this.style === Enums.ActionStyle.Positive;\n    }\n\n    set isPrimary(value: boolean) {\n        if (value) {\n            this.style = Enums.ActionStyle.Positive;\n        } else {\n            if (this.style === Enums.ActionStyle.Positive) {\n                this.style = Enums.ActionStyle.Default;\n            }\n        }\n    }\n\n    get hostConfig(): HostConfig {\n        return this.parent ? this.parent.hostConfig : defaultHostConfig;\n    }\n\n    get parent(): CardElement | undefined {\n        return <CardElement>this._parent;\n    }\n\n    get state(): ActionButtonState {\n        return this._state;\n    }\n\n    set state(value: ActionButtonState) {\n        if (this._state !== value) {\n            this._state = value;\n\n            this.updateCssClasses();\n        }\n    }\n\n    get isFocusable(): boolean {\n        return this._isFocusable;\n    }\n\n    set isFocusable(value: boolean) {\n        if (this._isFocusable !== value) {\n            this._isFocusable = value;\n\n            this.updateCssClasses();\n        }\n    }\n}\n\nexport abstract class SubmitActionBase extends Action {\n    //#region Schema\n\n    static readonly dataProperty = new PropertyDefinition(Versions.v1_0, \"data\");\n    static readonly associatedInputsProperty = new CustomProperty(\n        Versions.v1_3,\n        \"associatedInputs\",\n        (\n            sender: SerializableObject,\n            prop: PropertyDefinition,\n            source: PropertyBag,\n            context: BaseSerializationContext\n        ) => {\n            const value = source[prop.name];\n\n            if (value !== undefined && typeof value === \"string\") {\n                return value.toLowerCase() === \"none\" ? \"none\" : \"auto\";\n            }\n\n            return undefined;\n        },\n        (\n            sender: SerializableObject,\n            prop: PropertyDefinition,\n            target: PropertyBag,\n            value: string | undefined,\n            context: BaseSerializationContext\n        ) => {\n            context.serializeValue(target, prop.name, value);\n        }\n    );\n    static readonly disabledUnlessAssociatedInputsChangeProperty = new BoolProperty(\n        Versions.v1_6,\n        \"disabledUnlessAssociatedInputsChange\",\n        false\n    );\n\n    @property(SubmitActionBase.dataProperty)\n    private _originalData?: PropertyBag;\n\n    @property(SubmitActionBase.associatedInputsProperty)\n    associatedInputs?: \"auto\" | \"none\";\n\n    @property(SubmitActionBase.disabledUnlessAssociatedInputsChangeProperty)\n    disabledUnlessAssociatedInputsChange: boolean = false;\n\n    //#endregion\n\n    private _isPrepared: boolean = false;\n    private _processedData?: PropertyBag;\n    private _areReferencedInputsDirty: boolean = false;\n\n    protected internalGetReferencedInputs(): Dictionary<Input> {\n        const result: Dictionary<Input> = {};\n\n        if (this.associatedInputs !== \"none\") {\n            let current: CardElement | undefined = this.parent;\n            let inputs: Input[] = [];\n\n            while (current) {\n                inputs.push(...current.getAllInputs(false));\n\n                current = current.parent;\n            }\n\n            for (const input of inputs) {\n                if (input.id) {\n                    result[input.id] = input;\n                }\n            }\n        }\n\n        return result;\n    }\n\n    protected internalPrepareForExecution(inputs: Dictionary<Input> | undefined) {\n        if (this._originalData) {\n            this._processedData = JSON.parse(JSON.stringify(this._originalData));\n        } else {\n            this._processedData = {};\n        }\n\n        if (this._processedData && inputs) {\n            for (const key of Object.keys(inputs)) {\n                const input = inputs[key];\n\n                if (input.id && input.isSet()) {\n                    this._processedData[input.id] =\n                        typeof input.value === \"string\" ? input.value : input.value.toString();\n                }\n            }\n        }\n\n        this._isPrepared = true;\n    }\n\n    protected internalAfterExecute() {\n        if (GlobalSettings.resetInputsDirtyStateAfterActionExecution) {\n            this.resetReferencedInputsDirtyState();\n        }\n    }\n\n    resetReferencedInputsDirtyState() {\n        let referencedInputs = this.getReferencedInputs();\n\n        this._areReferencedInputsDirty = false;\n\n        if (referencedInputs) {\n            for (const key of Object.keys(referencedInputs)) {\n                const input = referencedInputs[key];\n\n                input.resetDirtyState();\n            }\n        }\n    }\n\n    updateEnabledState() {\n        this._areReferencedInputsDirty = false;\n\n        let referencedInputs = this.getReferencedInputs();\n\n        if (referencedInputs) {\n            for (const key of Object.keys(referencedInputs)) {\n                const input = referencedInputs[key];\n\n                if (input.isDirty()) {\n                    this._areReferencedInputsDirty = true;\n\n                    break;\n                }\n            }\n        }\n\n        this.updateCssClasses();\n\n        if (this._renderedElement) {\n            this.setupElementForAccessibility(this._renderedElement);\n        }\n    }\n\n    isEffectivelyEnabled(): boolean {\n        let result = super.isEffectivelyEnabled();\n\n        return this.disabledUnlessAssociatedInputsChange\n            ? result && this._areReferencedInputsDirty\n            : result;\n    }\n\n    get data(): object | undefined {\n        return this._isPrepared ? this._processedData : this._originalData;\n    }\n\n    set data(value: object | undefined) {\n        this._originalData = value;\n        this._isPrepared = false;\n    }\n}\n\nexport class SubmitAction extends SubmitActionBase {\n    // Note the \"weird\" way this field is declared is to work around a breaking\n    // change introduced in TS 3.1 wrt d.ts generation. DO NOT CHANGE\n    static readonly JsonTypeName: \"Action.Submit\" = \"Action.Submit\";\n\n    getJsonTypeName(): string {\n        return SubmitAction.JsonTypeName;\n    }\n}\n\nexport abstract class UniversalAction extends SubmitActionBase {\n    // This is the base class for all actions that can be executed via the\n    // adaptiveCards/action activity\n}\n\nexport class ExecuteAction extends UniversalAction {\n    // Note the \"weird\" way this field is declared is to work around a breaking\n    // change introduced in TS 3.1 wrt d.ts generation. DO NOT CHANGE\n    static readonly JsonTypeName: \"Action.Execute\" = \"Action.Execute\";\n\n    //#region Schema\n\n    static readonly verbProperty = new StringProperty(Versions.v1_4, \"verb\");\n\n    @property(ExecuteAction.verbProperty)\n    verb: string;\n\n    //#endregion\n\n    getJsonTypeName(): string {\n        return ExecuteAction.JsonTypeName;\n    }\n}\n\nexport class DataQuery extends UniversalAction {\n    // Note the \"weird\" way this field is declared is to work around a breaking\n    // change introduced in TS 3.1 wrt d.ts generation. DO NOT CHANGE\n    static readonly JsonTypeName: \"Data.Query\" = \"Data.Query\";\n\n    //#region Schema\n\n    static readonly datasetProperty = new StringProperty(Versions.v1_6, \"dataset\");\n    static readonly filterProperty = new StringProperty(Versions.v1_6, \"filter\");\n    static readonly countProperty = new NumProperty(Versions.v1_6, \"count\");\n    static readonly skipProperty = new NumProperty(Versions.v1_6, \"skip\");\n\n    @property(DataQuery.datasetProperty)\n    dataset: string;\n\n    @property(DataQuery.filterProperty)\n    filter: string;\n\n    @property(DataQuery.countProperty)\n    count?: number;\n\n    @property(DataQuery.skipProperty)\n    skip?: number;\n\n    //#endregion\n\n    getJsonTypeName(): string {\n        return DataQuery.JsonTypeName;\n    }\n\n    get isStandalone(): boolean {\n        return false;\n    }\n}\n\nexport class OpenUrlAction extends Action {\n    //#region Schema\n\n    static readonly urlProperty = new StringProperty(Versions.v1_0, \"url\");\n\n    @property(OpenUrlAction.urlProperty)\n    url?: string;\n\n    //#endregion\n\n    // Note the \"weird\" way this field is declared is to work around a breaking\n    // change introduced in TS 3.1 wrt d.ts generation. DO NOT CHANGE\n    static readonly JsonTypeName: \"Action.OpenUrl\" = \"Action.OpenUrl\";\n\n    getJsonTypeName(): string {\n        return OpenUrlAction.JsonTypeName;\n    }\n\n    getAriaRole(): string {\n        let ariaRole = this.getAriaRoleFromEnum();\n        return ariaRole ?? \"link\";\n    }\n\n    internalValidateProperties(context: ValidationResults) {\n        super.internalValidateProperties(context);\n\n        if (!this.url) {\n            context.addFailure(\n                this,\n                Enums.ValidationEvent.PropertyCantBeNull,\n                Strings.errors.propertyMustBeSet(\"url\")\n            );\n        }\n    }\n\n    getHref(): string | undefined {\n        return this.url;\n    }\n}\n\nexport class ToggleVisibilityAction extends Action {\n    //#region Schema\n\n    static readonly targetElementsProperty = new CustomProperty<PropertyBag>(\n        Versions.v1_2,\n        \"targetElements\",\n        (\n            sender: SerializableObject,\n            prop: PropertyDefinition,\n            source: PropertyBag,\n            context: BaseSerializationContext\n        ) => {\n            const result: PropertyBag = {};\n\n            if (Array.isArray(source[prop.name])) {\n                for (const item of source[prop.name]) {\n                    if (typeof item === \"string\") {\n                        result[item] = undefined;\n                    } else if (typeof item === \"object\") {\n                        const elementId = item[\"elementId\"];\n\n                        if (typeof elementId === \"string\") {\n                            result[elementId] = Utils.parseBool(item[\"isVisible\"]);\n                        }\n                    }\n                }\n            }\n\n            return result;\n        },\n        (\n            sender: SerializableObject,\n            prop: PropertyDefinition,\n            target: PropertyBag,\n            value: PropertyBag,\n            context: BaseSerializationContext\n        ) => {\n            const targetElements: any[] = [];\n\n            for (const id of Object.keys(value)) {\n                if (typeof value[id] === \"boolean\") {\n                    targetElements.push({\n                        elementId: id,\n                        isVisible: value[id]\n                    });\n                } else {\n                    targetElements.push(id);\n                }\n            }\n\n            context.serializeArray(target, prop.name, targetElements);\n        },\n        {},\n        (sender: SerializableObject) => {\n            return {};\n        }\n    );\n\n    @property(ToggleVisibilityAction.targetElementsProperty)\n    targetElements: { [key: string]: any } = {};\n\n    //#endregion\n\n    // Note the \"weird\" way this field is declared is to work around a breaking\n    // change introduced in TS 3.1 wrt d.ts generation. DO NOT CHANGE\n    static readonly JsonTypeName: \"Action.ToggleVisibility\" = \"Action.ToggleVisibility\";\n\n    private updateAriaControlsAttribute() {\n        // apply aria labels to make it clear which elements this action will toggle\n        if (this.targetElements) {\n            const elementIds = Object.keys(this.targetElements);\n\n            if (this._renderedElement) {\n                if (elementIds.length > 0) {\n                    this._renderedElement.setAttribute(\"aria-controls\", elementIds.join(\" \"));\n                } else {\n                    this._renderedElement.removeAttribute(\"aria-controls\");\n                }\n            }\n        }\n    }\n\n    internalValidateProperties(context: ValidationResults) {\n        super.internalValidateProperties(context);\n\n        if (!this.targetElements) {\n            context.addFailure(\n                this,\n                Enums.ValidationEvent.PropertyCantBeNull,\n                Strings.errors.propertyMustBeSet(\"targetElements\")\n            );\n        }\n    }\n\n    getJsonTypeName(): string {\n        return ToggleVisibilityAction.JsonTypeName;\n    }\n\n    render() {\n        super.render();\n\n        this.updateAriaControlsAttribute();\n    }\n\n    execute() {\n        super.execute();\n        if (this.parent) {\n            for (const elementId of Object.keys(this.targetElements)) {\n                const targetElement = this.parent.getRootElement().getElementById(elementId);\n\n                if (targetElement) {\n                    if (typeof this.targetElements[elementId] === \"boolean\") {\n                        targetElement.isVisible = this.targetElements[elementId];\n                    } else {\n                        targetElement.isVisible = !targetElement.isVisible;\n                    }\n                }\n            }\n        }\n    }\n\n    addTargetElement(elementId: string, isVisible: boolean | undefined = undefined) {\n        this.targetElements[elementId] = isVisible;\n        this.updateAriaControlsAttribute();\n    }\n\n    removeTargetElement(elementId: string) {\n        delete this.targetElements[elementId];\n        this.updateAriaControlsAttribute();\n    }\n}\n\nclass StringWithSubstitutionProperty extends PropertyDefinition {\n    parse(\n        sender: SerializableObject,\n        source: PropertyBag,\n        context: BaseSerializationContext\n    ): StringWithSubstitutions {\n        const result = new StringWithSubstitutions();\n        result.set(Utils.parseString(source[this.name]));\n\n        return result;\n    }\n\n    toJSON(\n        sender: SerializableObject,\n        target: PropertyBag,\n        value: StringWithSubstitutions,\n        context: BaseSerializationContext\n    ): void {\n        context.serializeValue(target, this.name, value.getOriginal());\n    }\n\n    constructor(readonly targetVersion: Version, readonly name: string) {\n        super(targetVersion, name, undefined, () => {\n            return new StringWithSubstitutions();\n        });\n    }\n}\n\nexport class HttpHeader extends SerializableObject {\n    //#region Schema\n\n    static readonly nameProperty = new StringProperty(Versions.v1_0, \"name\");\n    static readonly valueProperty = new StringWithSubstitutionProperty(Versions.v1_0, \"value\");\n\n    protected getSchemaKey(): string {\n        return \"HttpHeader\";\n    }\n\n    @property(HttpHeader.nameProperty)\n    name: string;\n\n    @property(HttpHeader.valueProperty)\n    private _value: StringWithSubstitutions;\n\n    //#endregion\n\n    constructor(name: string = \"\", value: string = \"\") {\n        super();\n\n        this.name = name;\n        this.value = value;\n    }\n\n    getReferencedInputs(inputs: Input[], referencedInputs: Dictionary<Input>) {\n        this._value.getReferencedInputs(inputs, referencedInputs);\n    }\n\n    prepareForExecution(inputs: Dictionary<Input>) {\n        this._value.substituteInputValues(inputs, ContentTypes.applicationXWwwFormUrlencoded);\n    }\n\n    get value(): string | undefined {\n        return this._value.get();\n    }\n\n    set value(newValue: string | undefined) {\n        this._value.set(newValue);\n    }\n}\n\nexport class HttpAction extends Action {\n    //#region Schema\n\n    static readonly urlProperty = new StringWithSubstitutionProperty(Versions.v1_0, \"url\");\n    static readonly bodyProperty = new StringWithSubstitutionProperty(Versions.v1_0, \"body\");\n    static readonly methodProperty = new StringProperty(Versions.v1_0, \"method\");\n    static readonly headersProperty = new SerializableObjectCollectionProperty(\n        Versions.v1_0,\n        \"headers\",\n        HttpHeader\n    );\n    static readonly ignoreInputValidationProperty = new BoolProperty(\n        Versions.v1_3,\n        \"ignoreInputValidation\",\n        false\n    );\n\n    @property(HttpAction.urlProperty)\n    private _url: StringWithSubstitutions;\n\n    @property(HttpAction.bodyProperty)\n    private _body: StringWithSubstitutions;\n\n    @property(HttpAction.methodProperty)\n    method?: string;\n\n    @property(HttpAction.headersProperty)\n    headers: HttpHeader[];\n\n    @property(HttpAction.ignoreInputValidationProperty)\n    private _ignoreInputValidation: boolean = false;\n\n    //#endregion\n\n    // Note the \"weird\" way this field is declared is to work around a breaking\n    // change introduced in TS 3.1 wrt d.ts generation. DO NOT CHANGE\n    static readonly JsonTypeName: \"Action.Http\" = \"Action.Http\";\n\n    protected internalGetReferencedInputs(): Dictionary<Input> {\n        const allInputs = this.parent ? this.parent.getRootElement().getAllInputs() : [];\n        const result: Dictionary<Input> = {};\n\n        this._url.getReferencedInputs(allInputs, result);\n\n        for (const header of this.headers) {\n            header.getReferencedInputs(allInputs, result);\n        }\n\n        this._body.getReferencedInputs(allInputs, result);\n\n        return result;\n    }\n\n    protected internalPrepareForExecution(inputs: Dictionary<Input> | undefined) {\n        if (inputs) {\n            this._url.substituteInputValues(inputs, ContentTypes.applicationXWwwFormUrlencoded);\n\n            let contentType = ContentTypes.applicationJson;\n\n            for (const header of this.headers) {\n                header.prepareForExecution(inputs);\n\n                if (header.name && header.name.toLowerCase() === \"content-type\") {\n                    contentType = header.value!;\n                }\n            }\n\n            this._body.substituteInputValues(inputs, contentType);\n        }\n    }\n\n    getJsonTypeName(): string {\n        return HttpAction.JsonTypeName;\n    }\n\n    internalValidateProperties(context: ValidationResults) {\n        super.internalValidateProperties(context);\n\n        if (!this.url) {\n            context.addFailure(\n                this,\n                Enums.ValidationEvent.PropertyCantBeNull,\n                Strings.errors.propertyMustBeSet(\"url\")\n            );\n        }\n\n        if (this.headers.length > 0) {\n            for (const header of this.headers) {\n                if (!header.name) {\n                    context.addFailure(\n                        this,\n                        Enums.ValidationEvent.PropertyCantBeNull,\n                        Strings.errors.actionHttpHeadersMustHaveNameAndValue()\n                    );\n                }\n            }\n        }\n    }\n\n    get ignoreInputValidation(): boolean {\n        return this._ignoreInputValidation;\n    }\n\n    set ignoreInputValidation(value: boolean) {\n        this._ignoreInputValidation = value;\n    }\n\n    get url(): string | undefined {\n        return this._url.get();\n    }\n\n    set url(value: string | undefined) {\n        this._url.set(value);\n    }\n\n    get body(): string | undefined {\n        return this._body.get();\n    }\n\n    set body(value: string | undefined) {\n        this._body.set(value);\n    }\n}\n\nexport class ShowCardAction extends Action {\n    // Note the \"weird\" way this field is declared is to work around a breaking\n    // change introduced in TS 3.1 wrt d.ts generation. DO NOT CHANGE\n    static readonly JsonTypeName: \"Action.ShowCard\" = \"Action.ShowCard\";\n\n    protected updateCssClasses() {\n        super.updateCssClasses();\n\n        if (this.renderedElement) {\n            const effectiveHostConfig = this.parent ? this.parent.hostConfig : defaultHostConfig;\n\n            this.renderedElement.classList.add(effectiveHostConfig.makeCssClassName(\"expandable\"));\n            this.renderedElement.setAttribute(\n                \"aria-expanded\",\n                (this.state === ActionButtonState.Expanded).toString()\n            );\n        }\n    }\n\n    protected internalParse(source: any, context: SerializationContext) {\n        super.internalParse(source, context);\n\n        const jsonCard = source[\"card\"];\n\n        if (jsonCard) {\n            this.card.parse(jsonCard, context);\n        } else {\n            context.logParseEvent(\n                this,\n                Enums.ValidationEvent.PropertyCantBeNull,\n                Strings.errors.showCardMustHaveCard()\n            );\n        }\n    }\n\n    protected internalToJSON(target: PropertyBag, context: SerializationContext) {\n        super.internalToJSON(target, context);\n\n        if (this.card) {\n            context.serializeValue(target, \"card\", this.card.toJSON(context));\n        }\n    }\n\n    protected raiseExecuteActionEvent() {\n        if (this.hostConfig.actions.showCard.actionMode === Enums.ShowCardActionMode.Popup) {\n            // Only raise the event in Popup mode.\n            super.raiseExecuteActionEvent();\n        }\n    }\n\n    readonly card: AdaptiveCard = new InlineAdaptiveCard();\n\n    releaseDOMResources() {\n        super.releaseDOMResources();\n\n        this.card.releaseDOMResources();\n    }\n\n    getJsonTypeName(): string {\n        return ShowCardAction.JsonTypeName;\n    }\n\n    internalValidateProperties(context: ValidationResults) {\n        super.internalValidateProperties(context);\n\n        this.card.internalValidateProperties(context);\n    }\n\n    setParent(value: CardElement) {\n        super.setParent(value);\n\n        this.card.setParent(value);\n    }\n\n    getAllInputs(processActions: boolean = true): Input[] {\n        return this.card.getAllInputs(processActions);\n    }\n\n    getAllActions(): Action[] {\n        const result = super.getAllActions();\n\n        result.push(...this.card.getAllActions());\n\n        return result;\n    }\n\n    getResourceInformation(): IResourceInformation[] {\n        let result = super.getResourceInformation();\n\n        result.push(...this.card.getResourceInformation());\n\n        return result;\n    }\n\n    getActionById(id: string): Action | undefined {\n        let result = super.getActionById(id);\n\n        if (!result) {\n            result = this.card.getActionById(id);\n        }\n\n        return result;\n    }\n}\n\nclass OverflowAction extends Action {\n    static readonly JsonTypeName: \"Action.Overflow\" = \"Action.Overflow\";\n    private _actions: Action[];\n\n    constructor(actions: Action[]) {\n        super();\n        this._actions = actions;\n\n        this.title = Strings.defaults.overflowButtonText();\n        this.tooltip = Strings.defaults.overflowButtonTooltip();\n    }\n\n    getActions(): readonly Action[] {\n        return this._actions;\n    }\n\n    getAllActions(): Action[] {\n        const result = super.getAllActions();\n\n        result.push(...this._actions);\n\n        return result;\n    }\n\n    getJsonTypeName(): string {\n        return ShowCardAction.JsonTypeName;\n    }\n\n    execute() {\n        const shouldDisplayPopupMenu = !raiseDisplayOverflowActionMenuEvent(\n            this,\n            this.renderedElement\n        );\n\n        if (shouldDisplayPopupMenu && this.renderedElement) {\n            const contextMenu = new PopupMenu();\n            contextMenu.hostConfig = this.hostConfig;\n\n            for (let i = 0; i < this._actions.length; i++) {\n                const menuItem = new MenuItem(i.toString(), this._actions[i].title ?? \"\", this._actions[i].iconUrl);\n                menuItem.isEnabled = this._actions[i].isEnabled;\n                menuItem.onClick = () => {\n                    const actionToExecute = this._actions[i];\n\n                    contextMenu.closePopup(false);\n\n                    if (actionToExecute.isEnabled) {\n                        actionToExecute.execute();\n                    }\n                };\n\n                contextMenu.items.add(menuItem);\n            }\n\n            contextMenu.onClose = () => {\n                this.renderedElement?.focus();\n                this.renderedElement?.setAttribute(\"aria-expanded\", \"false\");\n            }\n\n            this.renderedElement.setAttribute(\"aria-expanded\", \"true\");\n            contextMenu.popup(this.renderedElement);\n            contextMenu.selectedIndex = 0;\n        }\n    }\n    \n    setupElementForAccessibility(element: HTMLElement, promoteTooltipToLabel: boolean = false) {\n        super.setupElementForAccessibility(element, promoteTooltipToLabel);\n\n        element.setAttribute(\"aria-label\", Strings.defaults.overflowButtonTooltip());\n        element.setAttribute(\"aria-expanded\", \"false\");\n    }\n}\n\nclass ActionCollection {\n    private _owner: CardElement;\n    private _actionCardContainer: HTMLDivElement;\n    private _expandedAction?: ShowCardAction;\n    private _actionCard?: HTMLElement;\n\n    private isActionAllowed(action: Action): boolean {\n        const forbiddenTypes = this._owner.getForbiddenActionTypes();\n\n        if (forbiddenTypes) {\n            for (const forbiddenType of forbiddenTypes) {\n                if (action.constructor === forbiddenType) {\n                    return false;\n                }\n            }\n        }\n\n        return true;\n    }\n\n    private refreshContainer() {\n        clearElement(this._actionCardContainer);\n\n        if (!this._actionCard) {\n            this._actionCardContainer.style.marginTop = \"0px\";\n\n            return;\n        }\n\n        this._actionCardContainer.style.marginTop =\n            this.renderedActionCount > 0\n                ? this._owner.hostConfig.actions.showCard.inlineTopMargin + \"px\"\n                : \"0px\";\n\n        const padding = this._owner.getEffectivePadding();\n\n        this._owner.getImmediateSurroundingPadding(padding);\n\n        const physicalPadding =\n            this._owner.hostConfig.paddingDefinitionToSpacingDefinition(padding);\n\n        if (this._actionCard) {\n            this._actionCard.style.paddingLeft = physicalPadding.left + \"px\";\n            this._actionCard.style.paddingRight = physicalPadding.right + \"px\";\n\n            this._actionCard.style.marginLeft = \"-\" + physicalPadding.left + \"px\";\n            this._actionCard.style.marginRight = \"-\" + physicalPadding.right + \"px\";\n\n            if (physicalPadding.bottom !== 0 && !this._owner.isDesignMode()) {\n                this._actionCard.style.paddingBottom = physicalPadding.bottom + \"px\";\n                this._actionCard.style.marginBottom = \"-\" + physicalPadding.bottom + \"px\";\n            }\n\n            Utils.appendChild(this._actionCardContainer, this._actionCard);\n        }\n    }\n\n    private layoutChanged() {\n        this._owner.getRootElement().updateLayout();\n    }\n\n    private showActionCard(\n        action: ShowCardAction,\n        suppressStyle: boolean = false,\n        raiseEvent: boolean = true\n    ) {\n        (<InlineAdaptiveCard>action.card).suppressStyle = suppressStyle;\n\n        // Always re-render a ShowCard action in design mode; reuse already rendered ShowCard (if available) otherwise\n        const renderedCard =\n            action.card.renderedElement && !this._owner.isDesignMode()\n                ? action.card.renderedElement\n                : action.card.render();\n\n        this._actionCard = renderedCard;\n        this._expandedAction = action;\n\n        this.refreshContainer();\n\n        if (raiseEvent) {\n            this.layoutChanged();\n\n            raiseInlineCardExpandedEvent(action, true);\n        }\n    }\n\n    private collapseExpandedAction() {\n        for (const action of this._renderedActions) {\n            action.state = ActionButtonState.Normal;\n        }\n\n        const previouslyExpandedAction = this._expandedAction;\n\n        this._expandedAction = undefined;\n        this._actionCard = undefined;\n\n        this.refreshContainer();\n\n        if (previouslyExpandedAction) {\n            this.layoutChanged();\n\n            raiseInlineCardExpandedEvent(previouslyExpandedAction, false);\n        }\n    }\n\n    private expandShowCardAction(action: ShowCardAction, raiseEvent: boolean) {\n        let afterSelectedAction = false;\n\n        for (const renderedAction of this._renderedActions) {\n            // Remove actions after selected action from tabOrder if the actions are oriented horizontally, to skip focus directly to expanded card\n            if (\n                this._owner.hostConfig.actions.actionsOrientation == Enums.Orientation.Horizontal &&\n                afterSelectedAction\n            ) {\n                renderedAction.isFocusable = false;\n            }\n\n            if (renderedAction !== action) {\n                renderedAction.state = ActionButtonState.Subdued;\n            } else {\n                renderedAction.state = ActionButtonState.Expanded;\n\n                afterSelectedAction = true;\n\n                if (renderedAction.renderedElement) {\n                    renderedAction.renderedElement.onblur = (_e) => {\n                        for (const ra of this._renderedActions) {\n                            ra.isFocusable = true;\n                        }\n                    };\n                }\n            }\n        }\n\n        this.showActionCard(\n            action,\n            !(this._owner.isAtTheVeryLeft() && this._owner.isAtTheVeryRight()),\n            raiseEvent\n        );\n    }\n\n    private _items: Action[] = [];\n    private _overflowAction?: OverflowAction;\n    private _renderedActions: Action[] = [];\n\n    constructor(owner: CardElement) {\n        this._owner = owner;\n    }\n\n    releaseDOMResources() {\n        for (let action of this._renderedActions) {\n            action.releaseDOMResources();\n        }\n    }\n\n    actionExecuted(action: Action) {\n        if (!(action instanceof ShowCardAction)) {\n            this.collapseExpandedAction();\n        } else {\n            if (action === this._expandedAction) {\n                this.collapseExpandedAction();\n            } else if (\n                this._owner.hostConfig.actions.showCard.actionMode ===\n                Enums.ShowCardActionMode.Inline\n            ) {\n                this.expandShowCardAction(action, true);\n            }\n        }\n    }\n\n    parse(source: any, context: SerializationContext) {\n        this.clear();\n\n        if (Array.isArray(source)) {\n            for (const jsonAction of source) {\n                let forbiddenActions: string[] = [];\n\n                // If the action owner is a ContainerWithActions, we should check for forbidden actions\n                if (this._owner instanceof ContainerWithActions) {\n                    forbiddenActions = this._owner.getForbiddenActionNames();\n                }\n\n                const action = context.parseAction(\n                    this._owner,\n                    jsonAction,\n                    forbiddenActions,\n                    !this._owner.isDesignMode()\n                );\n\n                if (action) {\n                    this.addAction(action);\n                }\n            }\n        }\n    }\n\n    toJSON(target: PropertyBag, propertyName: string, context: SerializationContext): any {\n        context.serializeArray(target, propertyName, this._items);\n    }\n\n    getActionAt(id: number): Action | undefined {\n        return this._items[id];\n    }\n\n    getActionCount(): number {\n        return this._items.length;\n    }\n\n    getActionById(id: string): Action | undefined {\n        let result: Action | undefined = undefined;\n\n        for (const item of this._items) {\n            result = item.getActionById(id);\n\n            if (result) {\n                break;\n            }\n        }\n\n        return result;\n    }\n\n    validateProperties(context: ValidationResults) {\n        if (\n            this._owner.hostConfig.actions.maxActions &&\n            this._items.length > this._owner.hostConfig.actions.maxActions\n        ) {\n            context.addFailure(\n                this._owner,\n                Enums.ValidationEvent.TooManyActions,\n                Strings.errors.tooManyActions(this._owner.hostConfig.actions.maxActions)\n            );\n        }\n\n        if (this._items.length > 0 && !this._owner.hostConfig.supportsInteractivity) {\n            context.addFailure(\n                this._owner,\n                Enums.ValidationEvent.InteractivityNotAllowed,\n                Strings.errors.interactivityNotAllowed()\n            );\n        }\n\n        for (const item of this._items) {\n            if (!this.isActionAllowed(item)) {\n                context.addFailure(\n                    this._owner,\n                    Enums.ValidationEvent.ActionTypeNotAllowed,\n                    Strings.errors.actionTypeNotAllowed(item.getJsonTypeName())\n                );\n            }\n\n            item.internalValidateProperties(context);\n        }\n    }\n\n    render(orientation: Enums.Orientation): HTMLElement | undefined {\n        // Cache hostConfig for better perf\n        const hostConfig = this._owner.hostConfig;\n\n        if (!hostConfig.supportsInteractivity) {\n            return undefined;\n        }\n\n        const element = document.createElement(\"div\");\n        const maxActions = hostConfig.actions.maxActions\n            ? Math.min(hostConfig.actions.maxActions, this._items.length)\n            : this._items.length;\n\n        this._actionCardContainer = document.createElement(\"div\");\n        this._renderedActions = [];\n\n        if (\n            hostConfig.actions.preExpandSingleShowCardAction &&\n            maxActions === 1 &&\n            this._items[0] instanceof ShowCardAction &&\n            this.isActionAllowed(this._items[0])\n        ) {\n            this.showActionCard(this._items[0], true);\n            this._renderedActions.push(this._items[0]);\n        } else {\n            const buttonStrip = document.createElement(\"div\");\n            buttonStrip.className = hostConfig.makeCssClassName(\"ac-actionSet\");\n            buttonStrip.style.display = \"flex\";\n\n            if (orientation === Enums.Orientation.Horizontal) {\n                buttonStrip.style.flexDirection = \"row\";\n\n                if (\n                    this._owner.horizontalAlignment &&\n                    hostConfig.actions.actionAlignment !== Enums.ActionAlignment.Stretch\n                ) {\n                    switch (this._owner.horizontalAlignment) {\n                        case Enums.HorizontalAlignment.Center:\n                            buttonStrip.style.justifyContent = \"center\";\n                            break;\n                        case Enums.HorizontalAlignment.Right:\n                            buttonStrip.style.justifyContent = \"flex-end\";\n                            break;\n                        default:\n                            buttonStrip.style.justifyContent = \"flex-start\";\n                            break;\n                    }\n                } else {\n                    switch (hostConfig.actions.actionAlignment) {\n                        case Enums.ActionAlignment.Center:\n                            buttonStrip.style.justifyContent = \"center\";\n                            break;\n                        case Enums.ActionAlignment.Right:\n                            buttonStrip.style.justifyContent = \"flex-end\";\n                            break;\n                        default:\n                            buttonStrip.style.justifyContent = \"flex-start\";\n                            break;\n                    }\n                }\n            } else {\n                buttonStrip.style.flexDirection = \"column\";\n\n                if (\n                    this._owner.horizontalAlignment &&\n                    hostConfig.actions.actionAlignment !== Enums.ActionAlignment.Stretch\n                ) {\n                    switch (this._owner.horizontalAlignment) {\n                        case Enums.HorizontalAlignment.Center:\n                            buttonStrip.style.alignItems = \"center\";\n                            break;\n                        case Enums.HorizontalAlignment.Right:\n                            buttonStrip.style.alignItems = \"flex-end\";\n                            break;\n                        default:\n                            buttonStrip.style.alignItems = \"flex-start\";\n                            break;\n                    }\n                } else {\n                    switch (hostConfig.actions.actionAlignment) {\n                        case Enums.ActionAlignment.Center:\n                            buttonStrip.style.alignItems = \"center\";\n                            break;\n                        case Enums.ActionAlignment.Right:\n                            buttonStrip.style.alignItems = \"flex-end\";\n                            break;\n                        case Enums.ActionAlignment.Stretch:\n                            buttonStrip.style.alignItems = \"stretch\";\n                            break;\n                        default:\n                            buttonStrip.style.alignItems = \"flex-start\";\n                            break;\n                    }\n                }\n            }\n\n            const allowedActions = this._items.filter(this.isActionAllowed.bind(this));\n\n            let primaryActions: Action[] = [];\n            const secondaryActions: Action[] = [];\n\n            if (!this._owner.isDesignMode()) {\n                allowedActions.forEach((action) =>\n                    action.mode === Enums.ActionMode.Secondary\n                        ? secondaryActions.push(action)\n                        : primaryActions.push(action)\n                );\n\n                // If primaryActions.length > maxActions, extra actions are moved to overflow\n                const overflowPrimaryActions = primaryActions.splice(hostConfig.actions.maxActions);\n\n                if (GlobalSettings.allowMoreThanMaxActionsInOverflowMenu) {\n                    secondaryActions.push(...overflowPrimaryActions);\n                }\n\n                let shouldRenderOverflowActionButton = true;\n\n                if (secondaryActions.length > 0) {\n                    if (!this._overflowAction) {\n                        this._overflowAction = new OverflowAction(secondaryActions);\n                        this._overflowAction.setParent(this._owner);\n                        this._overflowAction[\"_actionCollection\"] = this;\n                    }\n\n                    const isRootAction = this._owner instanceof AdaptiveCard && !this._owner.parent;\n                    shouldRenderOverflowActionButton = !raiseRenderOverflowActionsEvent(\n                        this._overflowAction,\n                        isRootAction\n                    );\n                }\n\n                if (this._overflowAction && shouldRenderOverflowActionButton) {\n                    primaryActions.push(this._overflowAction);\n                }\n            } else {\n                primaryActions = allowedActions;\n            }\n\n            for (let i = 0; i < primaryActions.length; i++) {\n                const action = primaryActions[i];\n                action.render();\n\n                if (action.renderedElement) {\n                    if (\n                        hostConfig.actions.actionsOrientation === Enums.Orientation.Horizontal &&\n                        hostConfig.actions.actionAlignment === Enums.ActionAlignment.Stretch\n                    ) {\n                        action.renderedElement.style.flex = \"0 1 100%\";\n                    } else {\n                        action.renderedElement.style.flex = \"0 1 auto\";\n                    }\n\n                    buttonStrip.appendChild(action.renderedElement);\n\n                    this._renderedActions.push(action);\n\n                    if (i < primaryActions.length - 1 && hostConfig.actions.buttonSpacing > 0) {\n                        const spacer = document.createElement(\"div\");\n\n                        if (orientation === Enums.Orientation.Horizontal) {\n                            spacer.style.flex = \"0 0 auto\";\n                            spacer.style.width = hostConfig.actions.buttonSpacing + \"px\";\n                        } else {\n                            spacer.style.height = hostConfig.actions.buttonSpacing + \"px\";\n                        }\n\n                        Utils.appendChild(buttonStrip, spacer);\n                    }\n                }\n            }\n\n            const buttonStripContainer = document.createElement(\"div\");\n            buttonStripContainer.style.overflow = \"hidden\";\n            buttonStripContainer.appendChild(buttonStrip);\n\n            Utils.appendChild(element, buttonStripContainer);\n        }\n\n        Utils.appendChild(element, this._actionCardContainer);\n\n        for (const renderedAction of this._renderedActions) {\n            if (renderedAction.state === ActionButtonState.Expanded) {\n                this.expandShowCardAction(<ShowCardAction>renderedAction, false);\n\n                break;\n            }\n        }\n\n        return this._renderedActions.length > 0 ? element : undefined;\n    }\n\n    addAction(action: Action) {\n        if (!action) {\n            throw new Error(\"The action parameter cannot be null.\");\n        }\n\n        if ((!action.parent || action.parent === this._owner) && this._items.indexOf(action) < 0) {\n            this._items.push(action);\n\n            if (!action.parent) {\n                action.setParent(this._owner);\n            }\n\n            action[\"_actionCollection\"] = this;\n        } else {\n            throw new Error(Strings.errors.actionAlreadyParented());\n        }\n    }\n\n    removeAction(action: Action): boolean {\n        if (this.expandedAction && this._expandedAction === action) {\n            this.collapseExpandedAction();\n        }\n\n        const actionIndex = this._items.indexOf(action);\n\n        if (actionIndex >= 0) {\n            this._items.splice(actionIndex, 1);\n\n            action.setParent(undefined);\n\n            action[\"_actionCollection\"] = undefined;\n\n            for (let i = 0; i < this._renderedActions.length; i++) {\n                if (this._renderedActions[i] === action) {\n                    this._renderedActions.splice(i, 1);\n\n                    break;\n                }\n            }\n\n            return true;\n        }\n\n        return false;\n    }\n\n    clear() {\n        this._items = [];\n        this._renderedActions = [];\n        this._expandedAction = undefined;\n    }\n\n    getAllInputs(processActions: boolean = true): Input[] {\n        let result: Input[] = [];\n\n        if (processActions) {\n            for (const action of this._items) {\n                result.push(...action.getAllInputs());\n            }\n        }\n\n        return result;\n    }\n\n    getResourceInformation(): IResourceInformation[] {\n        let result: IResourceInformation[] = [];\n\n        for (const action of this._items) {\n            result.push(...action.getResourceInformation());\n        }\n\n        return result;\n    }\n\n    get renderedActionCount(): number {\n        return this._renderedActions.length;\n    }\n\n    get expandedAction(): ShowCardAction | undefined {\n        return this._expandedAction;\n    }\n}\n\nexport class ActionSet extends CardElement {\n    //#region Schema\n\n    static readonly orientationProperty = new EnumProperty(\n        Versions.v1_1,\n        \"orientation\",\n        Enums.Orientation\n    );\n\n    @property(ActionSet.orientationProperty)\n    orientation?: Enums.Orientation;\n\n    //#endregion\n\n    private _actionCollection: ActionCollection;\n\n    protected internalParse(source: any, context: SerializationContext) {\n        super.internalParse(source, context);\n\n        this._actionCollection.parse(source[\"actions\"], context);\n    }\n\n    protected internalToJSON(target: PropertyBag, context: SerializationContext) {\n        super.internalToJSON(target, context);\n\n        this._actionCollection.toJSON(target, \"actions\", context);\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        return this._actionCollection.render(\n            this.orientation !== undefined\n                ? this.orientation\n                : this.hostConfig.actions.actionsOrientation\n        );\n    }\n\n    constructor() {\n        super();\n\n        this._actionCollection = new ActionCollection(this);\n    }\n\n    releaseDOMResources() {\n        super.releaseDOMResources();\n\n        this._actionCollection.releaseDOMResources();\n    }\n\n    isBleedingAtBottom(): boolean {\n        if (this._actionCollection.renderedActionCount === 0) {\n            return super.isBleedingAtBottom();\n        } else {\n            if (this._actionCollection.getActionCount() === 1) {\n                return (\n                    this._actionCollection.expandedAction !== undefined &&\n                    !this.hostConfig.actions.preExpandSingleShowCardAction\n                );\n            } else {\n                return this._actionCollection.expandedAction !== undefined;\n            }\n        }\n    }\n\n    getJsonTypeName(): string {\n        return \"ActionSet\";\n    }\n\n    getActionCount(): number {\n        return this._actionCollection.getActionCount();\n    }\n\n    getActionAt(index: number): Action | undefined {\n        if (index >= 0 && index < this.getActionCount()) {\n            return this._actionCollection.getActionAt(index);\n        } else {\n            return super.getActionAt(index);\n        }\n    }\n\n    getActionById(id: string): Action | undefined {\n        const result: Action | undefined = this._actionCollection.getActionById(id);\n\n        return result ? result : super.getActionById(id);\n    }\n\n    getAllActions(): Action[] {\n        const result = super.getAllActions();\n\n        for (let i = 0; i < this.getActionCount(); i++) {\n            let action = this.getActionAt(i);\n\n            if (action) {\n                result.push(action);\n            }\n        }\n\n        return result;\n    }\n\n    internalValidateProperties(context: ValidationResults) {\n        super.internalValidateProperties(context);\n\n        this._actionCollection.validateProperties(context);\n    }\n\n    addAction(action: Action) {\n        this._actionCollection.addAction(action);\n    }\n\n    getAllInputs(processActions: boolean = true): Input[] {\n        return processActions ? this._actionCollection.getAllInputs() : [];\n    }\n\n    getResourceInformation(): IResourceInformation[] {\n        return this._actionCollection.getResourceInformation();\n    }\n\n    /**\n     * @inheritdoc\n     */\n    findDOMNodeOwner(node: Node): CardObject | undefined {\n        let target: CardObject | undefined = undefined;\n\n        for (let i = 0; i < this.getActionCount(); i++) {\n            const action = this.getActionAt(i);\n\n            if (action) {\n                // recur through each Action\n                target = action.findDOMNodeOwner(node);\n\n                if (target) {\n                    return target;\n                }\n            }\n        }\n\n        // if not found in any Action, defer to parent implementation\n        return super.findDOMNodeOwner(node);\n    }\n\n    getElementById(id: string): CardElement | undefined {\n        let result = super.getElementById(id);\n\n        if (!result) {\n            result = this.getElementByIdFromAction(id);\n        }\n\n        return result;\n    }\n\n    get isInteractive(): boolean {\n        return true;\n    }\n}\n\nexport class ContainerStyleProperty extends ValueSetProperty {\n    constructor(\n        readonly targetVersion: Version,\n        readonly name: string,\n        readonly defaultValue?: string,\n        readonly onGetInitialValue?: (sender: SerializableObject) => string\n    ) {\n        super(\n            targetVersion,\n            name,\n            [\n                { value: Enums.ContainerStyle.Default },\n                { value: Enums.ContainerStyle.Emphasis },\n                { targetVersion: Versions.v1_2, value: Enums.ContainerStyle.Accent },\n                { targetVersion: Versions.v1_2, value: Enums.ContainerStyle.Good },\n                { targetVersion: Versions.v1_2, value: Enums.ContainerStyle.Attention },\n                { targetVersion: Versions.v1_2, value: Enums.ContainerStyle.Warning }\n            ],\n            defaultValue,\n            onGetInitialValue\n        );\n    }\n}\n\nexport abstract class StylableCardElementContainer extends CardElementContainer {\n    //#region Schema\n\n    static readonly styleProperty = new ContainerStyleProperty(Versions.v1_0, \"style\");\n\n    @property(StylableCardElementContainer.styleProperty)\n    get style(): string | undefined {\n        if (this.allowCustomStyle) {\n            const style = this.getValue(StylableCardElementContainer.styleProperty);\n\n            if (style && this.hostConfig.containerStyles.getStyleByName(style)) {\n                return style;\n            }\n        }\n\n        return undefined;\n    }\n\n    set style(value: string | undefined) {\n        this.setValue(StylableCardElementContainer.styleProperty, value);\n    }\n\n    //#endregion\n\n    protected get allowCustomStyle(): boolean {\n        return true;\n    }\n\n    protected get hasExplicitStyle(): boolean {\n        return this.getValue(StylableCardElementContainer.styleProperty) !== undefined;\n    }\n\n    protected applyBorder() {\n        // No border in base implementation\n    }\n\n    protected applyBackground() {\n        if (this.renderedElement) {\n            const styleDefinition = this.hostConfig.containerStyles.getStyleByName(\n                this.style,\n                this.hostConfig.containerStyles.getStyleByName(this.defaultStyle)\n            );\n\n            if (styleDefinition.backgroundColor) {\n                const bgColor = Utils.stringToCssColor(styleDefinition.backgroundColor);\n                if (bgColor) {\n                    this.renderedElement.style.backgroundColor = bgColor;\n                }\n            }\n        }\n    }\n\n    protected applyPadding() {\n        super.applyPadding();\n\n        if (!this.renderedElement) {\n            return;\n        }\n\n        let physicalPadding = new SpacingDefinition();\n\n        if (this.getEffectivePadding()) {\n            physicalPadding = this.hostConfig.paddingDefinitionToSpacingDefinition(\n                this.getEffectivePadding()\n            );\n        }\n\n        this.renderedElement.style.paddingTop = physicalPadding.top + \"px\";\n        this.renderedElement.style.paddingRight = physicalPadding.right + \"px\";\n        this.renderedElement.style.paddingBottom = physicalPadding.bottom + \"px\";\n        this.renderedElement.style.paddingLeft = physicalPadding.left + \"px\";\n\n        if (this.isBleeding()) {\n            // Bleed into the first parent that does have padding\n            const padding = new PaddingDefinition();\n\n            this.getImmediateSurroundingPadding(padding);\n\n            const surroundingPadding =\n                this.hostConfig.paddingDefinitionToSpacingDefinition(padding);\n\n            this.renderedElement.style.marginRight = \"-\" + surroundingPadding.right + \"px\";\n            this.renderedElement.style.marginLeft = \"-\" + surroundingPadding.left + \"px\";\n\n            if (!this.isDesignMode()) {\n                this.renderedElement.style.marginTop = \"-\" + surroundingPadding.top + \"px\";\n                this.renderedElement.style.marginBottom = \"-\" + surroundingPadding.bottom + \"px\";\n            }\n\n            if (\n                this.separatorElement &&\n                this.separatorOrientation === Enums.Orientation.Horizontal\n            ) {\n                this.separatorElement.style.marginLeft = \"-\" + surroundingPadding.left + \"px\";\n                this.separatorElement.style.marginRight = \"-\" + surroundingPadding.right + \"px\";\n            }\n        } else {\n            this.renderedElement.style.marginRight = \"0\";\n            this.renderedElement.style.marginLeft = \"0\";\n            this.renderedElement.style.marginTop = \"0\";\n            this.renderedElement.style.marginBottom = \"0\";\n\n            if (\n                this.separatorElement &&\n                this.separatorOrientation === Enums.Orientation.Horizontal\n            ) {\n                this.separatorElement.style.marginRight = \"0\";\n                this.separatorElement.style.marginLeft = \"0\";\n            }\n        }\n    }\n\n    protected getHasBackground(ignoreBackgroundImages: boolean = false): boolean {\n        let currentElement: CardElement | undefined = this.parent;\n\n        while (currentElement) {\n            let currentElementHasBackgroundImage: boolean = false;\n\n            if (ignoreBackgroundImages) {\n                currentElementHasBackgroundImage = false;\n            } else {\n                currentElementHasBackgroundImage =\n                    currentElement instanceof Container\n                        ? currentElement.backgroundImage.isValid()\n                        : false;\n            }\n\n            if (currentElement instanceof StylableCardElementContainer) {\n                if (\n                    this.hasExplicitStyle &&\n                    (currentElement.getEffectiveStyle() !== this.getEffectiveStyle() ||\n                        currentElementHasBackgroundImage)\n                ) {\n                    return true;\n                }\n            }\n\n            currentElement = currentElement.parent;\n        }\n\n        return false;\n    }\n\n    protected getDefaultPadding(): PaddingDefinition {\n        return this.getHasBackground() || this.getHasBorder()\n            ? new PaddingDefinition(\n                  Enums.Spacing.Padding,\n                  Enums.Spacing.Padding,\n                  Enums.Spacing.Padding,\n                  Enums.Spacing.Padding\n              )\n            : super.getDefaultPadding();\n    }\n\n    internalValidateProperties(context: ValidationResults) {\n        super.internalValidateProperties(context);\n\n        const explicitStyle = this.getValue(StylableCardElementContainer.styleProperty);\n\n        if (explicitStyle !== undefined) {\n            const styleDefinition = this.hostConfig.containerStyles.getStyleByName(explicitStyle);\n\n            if (!styleDefinition) {\n                context.addFailure(\n                    this,\n                    Enums.ValidationEvent.InvalidPropertyValue,\n                    Strings.errors.invalidPropertyValue(explicitStyle, \"style\")\n                );\n            }\n        }\n    }\n\n    render(): HTMLElement | undefined {\n        const renderedElement = super.render();\n\n        if (renderedElement && this.getHasBackground()) {\n            this.applyBackground();\n        }\n\n        this.applyBorder();\n\n        return renderedElement;\n    }\n\n    getEffectiveStyle(): string {\n        const effectiveStyle = this.style;\n\n        return effectiveStyle ? effectiveStyle : super.getEffectiveStyle();\n    }\n}\n\nexport abstract class ContainerBase extends StylableCardElementContainer {\n    //#region Schema\n\n    static readonly bleedProperty = new BoolProperty(Versions.v1_2, \"bleed\", false);\n    static readonly minHeightProperty = new PixelSizeProperty(Versions.v1_2, \"minHeight\");\n\n    @property(ContainerBase.bleedProperty)\n    private _bleed: boolean = false;\n\n    @property(ContainerBase.minHeightProperty)\n    minPixelHeight?: number;\n\n    //#endregion\n\n    protected adjustRenderedElementSize(renderedElement: HTMLElement) {\n        super.adjustRenderedElementSize(renderedElement);\n\n        if (this.minPixelHeight) {\n            renderedElement.style.minHeight = this.minPixelHeight + \"px\";\n        }\n    }\n\n    protected getHasExpandedAction(): boolean {\n        return false;\n    }\n\n    protected getBleed(): boolean {\n        return this._bleed;\n    }\n\n    protected setBleed(value: boolean) {\n        this._bleed = value;\n    }\n\n    protected get renderedActionCount(): number {\n        return 0;\n    }\n\n    isBleeding(): boolean {\n        return (this.getHasBackground() || this.hostConfig.alwaysAllowBleed) && this.getBleed();\n    }\n}\n\nexport class BackgroundImage extends SerializableObject {\n    //#region Schema\n\n    static readonly urlProperty = new StringProperty(Versions.v1_0, \"url\");\n    static readonly fillModeProperty = new EnumProperty(\n        Versions.v1_2,\n        \"fillMode\",\n        Enums.FillMode,\n        Enums.FillMode.Cover\n    );\n    static readonly horizontalAlignmentProperty = new EnumProperty(\n        Versions.v1_2,\n        \"horizontalAlignment\",\n        Enums.HorizontalAlignment,\n        Enums.HorizontalAlignment.Left\n    );\n    static readonly verticalAlignmentProperty = new EnumProperty(\n        Versions.v1_2,\n        \"verticalAlignment\",\n        Enums.VerticalAlignment,\n        Enums.VerticalAlignment.Top\n    );\n\n    @property(BackgroundImage.urlProperty)\n    url?: string;\n\n    @property(BackgroundImage.fillModeProperty)\n    fillMode: Enums.FillMode;\n\n    @property(BackgroundImage.horizontalAlignmentProperty)\n    horizontalAlignment: Enums.HorizontalAlignment;\n\n    @property(BackgroundImage.verticalAlignmentProperty)\n    verticalAlignment: Enums.VerticalAlignment;\n\n    //#endregion\n\n    protected getSchemaKey(): string {\n        return \"BackgroundImage\";\n    }\n\n    protected internalParse(source: any, context: BaseSerializationContext) {\n        if (typeof source === \"string\") {\n            this.resetDefaultValues();\n            this.url = source;\n        } else {\n            return super.internalParse(source, context);\n        }\n    }\n\n    apply(element: CardElement) {\n        if (this.url && element.renderedElement) {\n            element.renderedElement.style.backgroundImage =\n                \"url('\" +\n                element.preProcessPropertyValue(BackgroundImage.urlProperty, this.url) +\n                \"')\";\n\n            switch (this.fillMode) {\n                case Enums.FillMode.Repeat:\n                    element.renderedElement.style.backgroundRepeat = \"repeat\";\n                    break;\n                case Enums.FillMode.RepeatHorizontally:\n                    element.renderedElement.style.backgroundRepeat = \"repeat-x\";\n                    break;\n                case Enums.FillMode.RepeatVertically:\n                    element.renderedElement.style.backgroundRepeat = \"repeat-y\";\n                    break;\n                case Enums.FillMode.Cover:\n                default:\n                    element.renderedElement.style.backgroundRepeat = \"no-repeat\";\n                    element.renderedElement.style.backgroundSize = \"cover\";\n                    break;\n            }\n\n            switch (this.horizontalAlignment) {\n                case Enums.HorizontalAlignment.Left:\n                    break;\n                case Enums.HorizontalAlignment.Center:\n                    element.renderedElement.style.backgroundPositionX = \"center\";\n                    break;\n                case Enums.HorizontalAlignment.Right:\n                    element.renderedElement.style.backgroundPositionX = \"right\";\n                    break;\n            }\n\n            switch (this.verticalAlignment) {\n                case Enums.VerticalAlignment.Top:\n                    break;\n                case Enums.VerticalAlignment.Center:\n                    element.renderedElement.style.backgroundPositionY = \"center\";\n                    break;\n                case Enums.VerticalAlignment.Bottom:\n                    element.renderedElement.style.backgroundPositionY = \"bottom\";\n                    break;\n            }\n        }\n    }\n\n    isValid(): boolean {\n        return this.url ? true : false;\n    }\n}\n\nexport class Container extends ContainerBase {\n    //#region Schema\n    static readonly backgroundImageProperty = new SerializableObjectProperty(\n        Versions.v1_0,\n        \"backgroundImage\",\n        BackgroundImage\n    );\n    static readonly verticalContentAlignmentProperty = new EnumProperty(\n        Versions.v1_1,\n        \"verticalContentAlignment\",\n        Enums.VerticalAlignment\n    );\n    static readonly rtlProperty = new BoolProperty(Versions.v1_0, \"rtl\");\n\n    @property(Container.backgroundImageProperty)\n    get backgroundImage(): BackgroundImage {\n        return this.getValue(Container.backgroundImageProperty);\n    }\n\n    @property(Container.verticalContentAlignmentProperty)\n    verticalContentAlignment?: Enums.VerticalAlignment;\n\n    @property(Container.rtlProperty)\n    rtl?: boolean;\n\n    //#endregion\n\n    private _items: CardElement[] = [];\n    private _renderedItems: CardElement[] = [];\n\n    protected insertItemAt(item: CardElement, index: number, forceInsert: boolean) {\n        if (!item.parent || forceInsert) {\n            if (item.isStandalone) {\n                if (index < 0 || index >= this._items.length) {\n                    this._items.push(item);\n                } else {\n                    this._items.splice(index, 0, item);\n                }\n\n                item.setParent(this);\n            } else {\n                throw new Error(Strings.errors.elementTypeNotStandalone(item.getJsonTypeName()));\n            }\n        } else {\n            throw new Error(Strings.errors.elementAlreadyParented());\n        }\n    }\n\n    protected getItemsCollectionPropertyName(): string {\n        return \"items\";\n    }\n\n    protected applyBackground() {\n        if (this.backgroundImage.isValid() && this.renderedElement) {\n            this.backgroundImage.apply(this);\n        }\n\n        super.applyBackground();\n    }\n\n    protected applyRTL(element: HTMLElement) {\n        if (this.rtl !== undefined) {\n            element.dir = this.rtl ? \"rtl\" : \"ltr\";\n        }\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        this._renderedItems = [];\n\n        // Cache hostConfig to avoid walking the parent hierarchy several times\n        const hostConfig = this.hostConfig;\n\n        const element = document.createElement(\"div\");\n\n        this.applyRTL(element);\n\n        element.classList.add(hostConfig.makeCssClassName(\"ac-container\"));\n        element.style.display = \"flex\";\n        element.style.flexDirection = \"column\";\n\n        if (GlobalSettings.useAdvancedCardBottomTruncation) {\n            // Forces the container to be at least as tall as its content.\n            //\n            // Fixes a quirk in Chrome where, for nested flex elements, the\n            // inner element's height would never exceed the outer element's\n            // height. This caused overflow truncation to break -- containers\n            // would always be measured as not overflowing, since their heights\n            // were constrained by their parents as opposed to truly reflecting\n            // the height of their content.\n            //\n            // See the \"Browser Rendering Notes\" section of this answer:\n            // https://stackoverflow.com/questions/36247140/why-doesnt-flex-item-shrink-past-content-size\n            element.style.minHeight = \"-webkit-min-content\";\n        }\n\n        switch (this.getEffectiveVerticalContentAlignment()) {\n            case Enums.VerticalAlignment.Center:\n                element.style.justifyContent = \"center\";\n                break;\n            case Enums.VerticalAlignment.Bottom:\n                element.style.justifyContent = \"flex-end\";\n                break;\n            default:\n                element.style.justifyContent = \"flex-start\";\n                break;\n        }\n\n        if (this._items.length > 0) {\n            for (const item of this._items) {\n                const renderedItem = this.isElementAllowed(item) ? item.render() : undefined;\n\n                if (renderedItem) {\n                    if (this._renderedItems.length > 0 && item.separatorElement) {\n                        item.separatorElement.style.flex = \"0 0 auto\";\n\n                        Utils.appendChild(element, item.separatorElement);\n                    }\n\n                    Utils.appendChild(element, renderedItem);\n\n                    this._renderedItems.push(item);\n                }\n            }\n        } else {\n            if (this.isDesignMode()) {\n                const placeholderElement = this.createPlaceholderElement();\n                placeholderElement.style.width = \"100%\";\n                placeholderElement.style.height = \"100%\";\n\n                element.appendChild(placeholderElement);\n            }\n        }\n\n        return element;\n    }\n\n    protected truncateOverflow(maxHeight: number): boolean {\n        if (this.renderedElement) {\n            // Add 1 to account for rounding differences between browsers\n            const boundary = this.renderedElement.offsetTop + maxHeight + 1;\n\n            const handleElement = (cardElement: CardElement) => {\n                const elt = cardElement.renderedElement;\n\n                if (elt) {\n                    switch (Utils.getFitStatus(elt, boundary)) {\n                        case Enums.ContainerFitStatus.FullyInContainer:\n                            const sizeChanged = cardElement[\"resetOverflow\"]();\n                            // If the element's size changed after resetting content,\n                            // we have to check if it still fits fully in the card\n                            if (sizeChanged) {\n                                handleElement(cardElement);\n                            }\n                            break;\n                        case Enums.ContainerFitStatus.Overflowing:\n                            const containerMaxHeight = boundary - elt.offsetTop;\n                            cardElement[\"handleOverflow\"](containerMaxHeight);\n                            break;\n                        case Enums.ContainerFitStatus.FullyOutOfContainer:\n                            cardElement[\"handleOverflow\"](0);\n                            break;\n                    }\n                }\n            };\n\n            for (const item of this._items) {\n                handleElement(item);\n            }\n\n            return true;\n        }\n\n        return false;\n    }\n\n    protected undoOverflowTruncation() {\n        for (const item of this._items) {\n            item[\"resetOverflow\"]();\n        }\n    }\n\n    protected getHasBackground(ignoreBackgroundImages: boolean = false): boolean {\n        let result = ignoreBackgroundImages ? false : this.backgroundImage.isValid();\n\n        return result || super.getHasBackground(ignoreBackgroundImages);\n    }\n\n    protected internalParse(source: any, context: SerializationContext) {\n        super.internalParse(source, context);\n\n        this.clear();\n        this.setShouldFallback(false);\n\n        let jsonItems = source[this.getItemsCollectionPropertyName()];\n\n        if (Array.isArray(jsonItems)) {\n            for (const item of jsonItems) {\n                const element = context.parseElement(\n                    this,\n                    item,\n                    this.forbiddenChildElements(),\n                    !this.isDesignMode()\n                );\n\n                if (element) {\n                    this.insertItemAt(element, -1, true);\n                }\n            }\n        }\n    }\n\n    protected internalToJSON(target: PropertyBag, context: SerializationContext) {\n        super.internalToJSON(target, context);\n\n        const collectionPropertyName = this.getItemsCollectionPropertyName();\n\n        context.serializeArray(target, collectionPropertyName, this._items);\n    }\n\n    protected get isSelectable(): boolean {\n        return true;\n    }\n\n    getEffectivePadding(): PaddingDefinition {\n        if (\n            GlobalSettings.removePaddingFromContainersWithBackgroundImage &&\n            !this.getHasBackground(true)\n        ) {\n            return new PaddingDefinition();\n        }\n\n        return super.getEffectivePadding();\n    }\n\n    getEffectiveVerticalContentAlignment(): Enums.VerticalAlignment {\n        if (this.verticalContentAlignment !== undefined) {\n            return this.verticalContentAlignment;\n        }\n\n        const parentContainer = this.getParentContainer();\n\n        return parentContainer\n            ? parentContainer.getEffectiveVerticalContentAlignment()\n            : Enums.VerticalAlignment.Top;\n    }\n\n    getItemCount(): number {\n        return this._items.length;\n    }\n\n    getItemAt(index: number): CardElement {\n        return this._items[index];\n    }\n\n    getFirstVisibleRenderedItem(): CardElement | undefined {\n        if (this.renderedElement && this._renderedItems && this._renderedItems.length > 0) {\n            for (const item of this._renderedItems) {\n                if (item.isVisible) {\n                    return item;\n                }\n            }\n        }\n\n        return undefined;\n    }\n\n    getLastVisibleRenderedItem(): CardElement | undefined {\n        if (this.renderedElement && this._renderedItems && this._renderedItems.length > 0) {\n            for (let i = this._renderedItems.length - 1; i >= 0; i--) {\n                if (this._renderedItems[i].isVisible) {\n                    return this._renderedItems[i];\n                }\n            }\n        }\n\n        return undefined;\n    }\n\n    getJsonTypeName(): string {\n        return \"Container\";\n    }\n\n    isFirstElement(element: CardElement): boolean {\n        const designMode = this.isDesignMode();\n\n        for (const item of this._items) {\n            if (item.isVisible || designMode) {\n                return item === element;\n            }\n        }\n\n        return false;\n    }\n\n    isLastElement(element: CardElement): boolean {\n        const designMode = this.isDesignMode();\n\n        for (let i = this._items.length - 1; i >= 0; i--) {\n            if (this._items[i].isVisible || designMode) {\n                return this._items[i] === element;\n            }\n        }\n\n        return false;\n    }\n\n    isRtl(): boolean {\n        if (this.rtl !== undefined) {\n            return this.rtl;\n        } else {\n            const parentContainer = this.getParentContainer();\n\n            return parentContainer ? parentContainer.isRtl() : false;\n        }\n    }\n\n    isBleedingAtTop(): boolean {\n        const firstRenderedItem = this.getFirstVisibleRenderedItem();\n\n        return (\n            this.isBleeding() || (firstRenderedItem ? firstRenderedItem.isBleedingAtTop() : false)\n        );\n    }\n\n    isBleedingAtBottom(): boolean {\n        const lastRenderedItem = this.getLastVisibleRenderedItem();\n\n        return (\n            this.isBleeding() ||\n            (lastRenderedItem\n                ? lastRenderedItem.isBleedingAtBottom() &&\n                  lastRenderedItem.getEffectiveStyle() === this.getEffectiveStyle()\n                : false)\n        );\n    }\n\n    indexOf(cardElement: CardElement): number {\n        return this._items.indexOf(cardElement);\n    }\n\n    addItem(item: CardElement) {\n        this.insertItemAt(item, -1, false);\n    }\n\n    insertItemBefore(item: CardElement, insertBefore: CardElement) {\n        this.insertItemAt(item, this._items.indexOf(insertBefore), false);\n    }\n\n    insertItemAfter(item: CardElement, insertAfter: CardElement) {\n        this.insertItemAt(item, this._items.indexOf(insertAfter) + 1, false);\n    }\n\n    removeItem(item: CardElement): boolean {\n        const itemIndex = this._items.indexOf(item);\n\n        if (itemIndex >= 0) {\n            this._items.splice(itemIndex, 1);\n\n            item.setParent(undefined);\n\n            this.updateLayout();\n\n            return true;\n        }\n\n        return false;\n    }\n\n    clear() {\n        this._items = [];\n        this._renderedItems = [];\n    }\n\n    getResourceInformation(): IResourceInformation[] {\n        const result = super.getResourceInformation();\n\n        if (this.backgroundImage.isValid()) {\n            result.push({\n                // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion -- validated by `isValid()`\n                url: this.backgroundImage.url!,\n                mimeType: \"image\"\n            });\n        }\n\n        return result;\n    }\n\n    getActionById(id: string): Action | undefined {\n        let result: Action | undefined = super.getActionById(id);\n\n        if (!result) {\n            if (this.selectAction) {\n                result = this.selectAction.getActionById(id);\n            }\n\n            if (!result) {\n                for (const item of this._items) {\n                    result = item.getActionById(id);\n\n                    if (result) {\n                        break;\n                    }\n                }\n            }\n        }\n\n        return result;\n    }\n\n    get padding(): PaddingDefinition | undefined {\n        return this.getPadding();\n    }\n\n    set padding(value: PaddingDefinition | undefined) {\n        this.setPadding(value);\n    }\n\n    get selectAction(): Action | undefined {\n        return this._selectAction;\n    }\n\n    set selectAction(value: Action | undefined) {\n        this._selectAction = value;\n    }\n\n    get bleed(): boolean {\n        return this.getBleed();\n    }\n\n    set bleed(value: boolean) {\n        this.setBleed(value);\n    }\n}\n\nexport type ColumnWidth = SizeAndUnit | \"auto\" | \"stretch\";\n\nexport class Column extends Container {\n    //#region Schema\n\n    static readonly widthProperty = new CustomProperty<ColumnWidth>(\n        Versions.v1_0,\n        \"width\",\n        (\n            sender: SerializableObject,\n            prop: PropertyDefinition,\n            source: PropertyBag,\n            context: BaseSerializationContext\n        ) => {\n            let result: ColumnWidth = prop.defaultValue;\n            const value = source[prop.name];\n            let invalidWidth = false;\n\n            if (typeof value === \"number\" && !isNaN(value)) {\n                result = new SizeAndUnit(value, Enums.SizeUnit.Weight);\n            } else if (value === \"auto\" || value === \"stretch\") {\n                result = value;\n            } else if (typeof value === \"string\") {\n                try {\n                    result = SizeAndUnit.parse(value);\n\n                    if (\n                        result.unit === Enums.SizeUnit.Pixel &&\n                        prop.targetVersion.compareTo(context.targetVersion) > 0\n                    ) {\n                        invalidWidth = true;\n                    }\n                } catch (e) {\n                    invalidWidth = true;\n                }\n            } else {\n                invalidWidth = true;\n            }\n\n            if (invalidWidth) {\n                context.logParseEvent(\n                    sender,\n                    Enums.ValidationEvent.InvalidPropertyValue,\n                    Strings.errors.invalidColumnWidth(value)\n                );\n\n                result = \"auto\";\n            }\n\n            return result;\n        },\n        (\n            sender: SerializableObject,\n            property: PropertyDefinition,\n            target: PropertyBag,\n            value: ColumnWidth,\n            context: BaseSerializationContext\n        ) => {\n            if (value instanceof SizeAndUnit) {\n                if (value.unit === Enums.SizeUnit.Pixel) {\n                    context.serializeValue(target, \"width\", value.physicalSize + \"px\");\n                } else {\n                    context.serializeNumber(target, \"width\", value.physicalSize);\n                }\n            } else {\n                context.serializeValue(target, \"width\", value);\n            }\n        },\n        \"stretch\"\n    );\n\n    @property(Column.widthProperty)\n    width: ColumnWidth = \"stretch\";\n\n    //#endregion\n\n    private _computedWeight: number = 0;\n\n    protected adjustRenderedElementSize(renderedElement: HTMLElement) {\n        const minDesignTimeColumnHeight = 20;\n\n        if (this.isDesignMode()) {\n            renderedElement.style.minWidth = \"20px\";\n            renderedElement.style.minHeight =\n                (!this.minPixelHeight\n                    ? minDesignTimeColumnHeight\n                    : Math.max(this.minPixelHeight, minDesignTimeColumnHeight)) + \"px\";\n        } else {\n            renderedElement.style.minWidth = \"0\";\n\n            if (this.minPixelHeight) {\n                renderedElement.style.minHeight = this.minPixelHeight + \"px\";\n            }\n        }\n\n        if (this.width === \"auto\") {\n            renderedElement.style.flex = \"0 1 auto\";\n        } else if (this.width === \"stretch\") {\n            renderedElement.style.flex = \"1 1 50px\";\n        } else if (this.width instanceof SizeAndUnit) {\n            if (this.width.unit === Enums.SizeUnit.Pixel) {\n                renderedElement.style.flex = \"0 0 auto\";\n                renderedElement.style.width = this.width.physicalSize + \"px\";\n            } else {\n                renderedElement.style.flex =\n                    \"1 1 \" +\n                    (this._computedWeight > 0 ? this._computedWeight : this.width.physicalSize) +\n                    \"%\";\n            }\n        }\n    }\n\n    protected shouldSerialize(_context: SerializationContext): boolean {\n        return true;\n    }\n\n    protected get separatorOrientation(): Enums.Orientation {\n        return Enums.Orientation.Vertical;\n    }\n\n    constructor(width: ColumnWidth = \"stretch\") {\n        super();\n\n        this.width = width;\n    }\n\n    getJsonTypeName(): string {\n        return \"Column\";\n    }\n\n    get hasVisibleSeparator(): boolean {\n        if (this.parent && this.parent instanceof ColumnSet) {\n            return this.separatorElement !== undefined && !this.parent.isLeftMostElement(this);\n        } else {\n            return false;\n        }\n    }\n\n    get isStandalone(): boolean {\n        return false;\n    }\n}\n\nexport class ColumnSet extends ContainerBase {\n    private _columns: Column[] = [];\n    private _renderedColumns: Column[];\n\n    private createColumnInstance(source: any, context: SerializationContext): Column | undefined {\n        return context.parseCardObject<Column>(\n            this,\n            source,\n            [],\n            !this.isDesignMode(),\n            (typeName: string) => {\n                return !typeName || typeName === \"Column\" ? new Column() : undefined;\n            },\n            (typeName: string, _errorType: Enums.TypeErrorType) => {\n                context.logParseEvent(\n                    undefined,\n                    Enums.ValidationEvent.ElementTypeNotAllowed,\n                    Strings.errors.elementTypeNotAllowed(typeName)\n                );\n            }\n        );\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        this._renderedColumns = [];\n\n        if (this._columns.length > 0) {\n            // Cache hostConfig to avoid walking the parent hierarchy several times\n            const hostConfig = this.hostConfig;\n\n            const element = document.createElement(\"div\");\n            element.className = hostConfig.makeCssClassName(\"ac-columnSet\");\n            element.style.display = \"flex\";\n\n            if (GlobalSettings.useAdvancedCardBottomTruncation) {\n                // See comment in Container.internalRender()\n                element.style.minHeight = \"-webkit-min-content\";\n            }\n\n            switch (this.getEffectiveHorizontalAlignment()) {\n                case Enums.HorizontalAlignment.Center:\n                    element.style.justifyContent = \"center\";\n                    break;\n                case Enums.HorizontalAlignment.Right:\n                    element.style.justifyContent = \"flex-end\";\n                    break;\n                default:\n                    element.style.justifyContent = \"flex-start\";\n                    break;\n            }\n\n            let totalWeight: number = 0;\n\n            for (const column of this._columns) {\n                if (\n                    column.width instanceof SizeAndUnit &&\n                    column.width.unit === Enums.SizeUnit.Weight\n                ) {\n                    totalWeight += column.width.physicalSize;\n                }\n            }\n\n            for (const column of this._columns) {\n                if (\n                    column.width instanceof SizeAndUnit &&\n                    column.width.unit === Enums.SizeUnit.Weight &&\n                    totalWeight > 0\n                ) {\n                    const computedWeight = (100 / totalWeight) * column.width.physicalSize;\n\n                    // Best way to emulate \"internal\" access I know of\n                    column[\"_computedWeight\"] = computedWeight;\n                }\n\n                const renderedColumn = column.render();\n\n                if (renderedColumn) {\n                    if (this._renderedColumns.length > 0 && column.separatorElement) {\n                        column.separatorElement.style.flex = \"0 0 auto\";\n\n                        Utils.appendChild(element, column.separatorElement);\n                    }\n\n                    Utils.appendChild(element, renderedColumn);\n\n                    this._renderedColumns.push(column);\n                }\n            }\n\n            return this._renderedColumns.length > 0 ? element : undefined;\n        } else {\n            return undefined;\n        }\n    }\n\n    protected truncateOverflow(maxHeight: number): boolean {\n        for (const column of this._columns) {\n            column[\"handleOverflow\"](maxHeight);\n        }\n\n        return true;\n    }\n\n    protected undoOverflowTruncation() {\n        for (const column of this._columns) {\n            column[\"resetOverflow\"]();\n        }\n    }\n\n    protected get isSelectable(): boolean {\n        return true;\n    }\n\n    protected internalParse(source: any, context: SerializationContext) {\n        super.internalParse(source, context);\n\n        this._columns = [];\n        this._renderedColumns = [];\n\n        const jsonColumns = source[\"columns\"];\n\n        if (Array.isArray(jsonColumns)) {\n            for (const item of jsonColumns) {\n                const column = this.createColumnInstance(item, context);\n\n                if (column) {\n                    this._columns.push(column);\n                }\n            }\n        }\n    }\n\n    protected internalToJSON(target: PropertyBag, context: SerializationContext) {\n        super.internalToJSON(target, context);\n\n        context.serializeArray(target, \"columns\", this._columns);\n    }\n\n    isFirstElement(element: CardElement): boolean {\n        for (const column of this._columns) {\n            if (column.isVisible) {\n                return column === element;\n            }\n        }\n\n        return false;\n    }\n\n    isBleedingAtTop(): boolean {\n        if (this.isBleeding()) {\n            return true;\n        }\n\n        if (this._renderedColumns && this._renderedColumns.length > 0) {\n            for (const column of this._columns) {\n                if (column.isBleedingAtTop()) {\n                    return true;\n                }\n            }\n        }\n\n        return false;\n    }\n\n    isBleedingAtBottom(): boolean {\n        if (this.isBleeding()) {\n            return true;\n        }\n\n        if (this._renderedColumns && this._renderedColumns.length > 0) {\n            for (const column of this._columns) {\n                if (column.isBleedingAtBottom()) {\n                    return true;\n                }\n            }\n        }\n\n        return false;\n    }\n\n    getItemCount(): number {\n        return this._columns.length;\n    }\n\n    getFirstVisibleRenderedItem(): CardElement | undefined {\n        if (this.renderedElement && this._renderedColumns && this._renderedColumns.length > 0) {\n            return this._renderedColumns[0];\n        } else {\n            return undefined;\n        }\n    }\n\n    getLastVisibleRenderedItem(): CardElement | undefined {\n        if (this.renderedElement && this._renderedColumns && this._renderedColumns.length > 0) {\n            return this._renderedColumns[this._renderedColumns.length - 1];\n        } else {\n            return undefined;\n        }\n    }\n\n    getColumnAt(index: number): Column {\n        return this._columns[index];\n    }\n\n    getItemAt(index: number): CardElement {\n        return this.getColumnAt(index);\n    }\n\n    getJsonTypeName(): string {\n        return \"ColumnSet\";\n    }\n\n    internalValidateProperties(context: ValidationResults) {\n        super.internalValidateProperties(context);\n\n        let weightedColumns: number = 0;\n        let stretchedColumns: number = 0;\n\n        for (const column of this._columns) {\n            if (typeof column.width === \"number\") {\n                weightedColumns++;\n            } else if (column.width === \"stretch\") {\n                stretchedColumns++;\n            }\n        }\n\n        if (weightedColumns > 0 && stretchedColumns > 0) {\n            context.addFailure(\n                this,\n                Enums.ValidationEvent.Hint,\n                Strings.hints.dontUseWeightedAndStrecthedColumnsInSameSet()\n            );\n        }\n    }\n\n    addColumn(column: Column) {\n        if (!column.parent) {\n            this._columns.push(column);\n\n            column.setParent(this);\n        } else {\n            throw new Error(Strings.errors.columnAlreadyBelongsToAnotherSet());\n        }\n    }\n\n    removeItem(item: CardElement): boolean {\n        if (item instanceof Column) {\n            const itemIndex = this._columns.indexOf(item);\n\n            if (itemIndex >= 0) {\n                this._columns.splice(itemIndex, 1);\n\n                item.setParent(undefined);\n\n                this.updateLayout();\n\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    indexOf(cardElement: CardElement): number {\n        return cardElement instanceof Column ? this._columns.indexOf(cardElement) : -1;\n    }\n\n    isLeftMostElement(element: CardElement): boolean {\n        return this._columns.indexOf(<Column>element) === 0;\n    }\n\n    isRightMostElement(element: CardElement): boolean {\n        return this._columns.indexOf(<Column>element) === this._columns.length - 1;\n    }\n\n    isTopElement(element: CardElement): boolean {\n        return this._columns.indexOf(<Column>element) >= 0;\n    }\n\n    isBottomElement(element: CardElement): boolean {\n        return this._columns.indexOf(<Column>element) >= 0;\n    }\n\n    getActionById(id: string): Action | undefined {\n        let result: Action | undefined = undefined;\n\n        for (const column of this._columns) {\n            result = column.getActionById(id);\n\n            if (result) {\n                break;\n            }\n        }\n\n        return result;\n    }\n\n    get bleed(): boolean {\n        return this.getBleed();\n    }\n\n    set bleed(value: boolean) {\n        this.setBleed(value);\n    }\n\n    get padding(): PaddingDefinition | undefined {\n        return this.getPadding();\n    }\n\n    set padding(value: PaddingDefinition | undefined) {\n        this.setPadding(value);\n    }\n\n    get selectAction(): Action | undefined {\n        return this._selectAction;\n    }\n\n    set selectAction(value: Action | undefined) {\n        this._selectAction = value;\n    }\n}\n\nfunction raiseImageLoadedEvent(image: Image) {\n    const card = image.getRootElement() as AdaptiveCard;\n    const onImageLoadedHandler =\n        card && card.onImageLoaded ? card.onImageLoaded : AdaptiveCard.onImageLoaded;\n\n    if (onImageLoadedHandler) {\n        onImageLoadedHandler(image);\n    }\n}\n\nfunction raiseAnchorClickedEvent(\n    element: CardElement,\n    anchor: HTMLAnchorElement,\n    ev?: MouseEvent\n): boolean {\n    const card = element.getRootElement() as AdaptiveCard;\n    const onAnchorClickedHandler =\n        card && card.onAnchorClicked ? card.onAnchorClicked : AdaptiveCard.onAnchorClicked;\n\n    return onAnchorClickedHandler !== undefined\n        ? onAnchorClickedHandler(element, anchor, ev)\n        : false;\n}\n\nfunction raiseExecuteActionEvent(action: Action) {\n    const card = action.parent ? (action.parent.getRootElement() as AdaptiveCard) : undefined;\n    const onExecuteActionHandler =\n        card && card.onExecuteAction ? card.onExecuteAction : AdaptiveCard.onExecuteAction;\n\n    if (action.prepareForExecution() && onExecuteActionHandler) {\n        onExecuteActionHandler(action);\n    }\n}\n\nfunction raiseInlineCardExpandedEvent(action: ShowCardAction, isExpanded: boolean) {\n    const card = action.parent ? (action.parent.getRootElement() as AdaptiveCard) : undefined;\n    const onInlineCardExpandedHandler =\n        card && card.onInlineCardExpanded\n            ? card.onInlineCardExpanded\n            : AdaptiveCard.onInlineCardExpanded;\n\n    if (onInlineCardExpandedHandler) {\n        onInlineCardExpandedHandler(action, isExpanded);\n    }\n}\n\nfunction raiseInputValueChangedEvent(input: Input) {\n    const card = input.getRootElement() as AdaptiveCard;\n    const onInputValueChangedHandler =\n        card && card.onInputValueChanged\n            ? card.onInputValueChanged\n            : AdaptiveCard.onInputValueChanged;\n\n    if (onInputValueChangedHandler) {\n        onInputValueChangedHandler(input);\n    }\n}\n\nfunction raiseElementVisibilityChangedEvent(\n    element: CardElement,\n    shouldUpdateLayout: boolean = true\n) {\n    const rootElement = element.getRootElement();\n\n    if (shouldUpdateLayout) {\n        rootElement.updateLayout();\n    }\n\n    const card = rootElement as AdaptiveCard;\n    const onElementVisibilityChangedHandler =\n        card && card.onElementVisibilityChanged\n            ? card.onElementVisibilityChanged\n            : AdaptiveCard.onElementVisibilityChanged;\n\n    if (onElementVisibilityChangedHandler !== undefined) {\n        onElementVisibilityChangedHandler(element);\n    }\n}\n\nfunction updateInputAdornersVisibility(input: HTMLInputElement, hide: boolean) {\n    if (!!hide) {\n        // hides the time/date picker icon\n        input.readOnly = true;\n        // hides the cross button icon\n        input.required = true;\n    } else {\n         // shows the time/date picker icon\n         input.readOnly = false;\n         // shows the cross button icon\n         input.required = false;\n    }\n    \n}\n\n/**\n * @returns return false to continue with default context menu; return true to skip SDK default context menu\n */\nfunction raiseDisplayOverflowActionMenuEvent(\n    action: OverflowAction,\n    target?: HTMLElement\n): boolean {\n    const card = action.parent ? (action.parent.getRootElement() as AdaptiveCard) : undefined;\n    const onDisplayOverflowActionMenuHandler =\n        card && card.onDisplayOverflowActionMenu\n            ? card.onDisplayOverflowActionMenu\n            : AdaptiveCard.onDisplayOverflowActionMenu;\n\n    return onDisplayOverflowActionMenuHandler !== undefined\n        ? onDisplayOverflowActionMenuHandler(action.getActions(), target)\n        : false;\n}\n\n/**\n * @returns return false to continue with default action button; return true to skip SDK default action button\n */\nfunction raiseRenderOverflowActionsEvent(\n    action: OverflowAction,\n    isAtRootLevelActions: boolean\n): boolean {\n    const card = action.parent ? (action.parent.getRootElement() as AdaptiveCard) : undefined;\n    const onRenderOverflowActionsHandler =\n        card && card.onRenderOverflowActions\n            ? card.onRenderOverflowActions\n            : AdaptiveCard.onRenderOverflowActions;\n\n    return onRenderOverflowActionsHandler !== undefined\n        ? onRenderOverflowActionsHandler(action.getActions(), isAtRootLevelActions)\n        : false;\n}\n\nexport abstract class ContainerWithActions extends Container {\n    private _actionCollection: ActionCollection;\n\n    protected internalParse(source: any, context: SerializationContext) {\n        super.internalParse(source, context);\n\n        this.parseActions(source, context);\n    }\n\n    protected parseActions(source: any, context: SerializationContext) {\n        this._actionCollection.parse(source[\"actions\"], context);\n    }\n\n    protected internalToJSON(target: PropertyBag, context: SerializationContext) {\n        super.internalToJSON(target, context);\n\n        this._actionCollection.toJSON(target, \"actions\", context);\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        const element = super.internalRender();\n\n        if (element) {\n            const renderedActions = this._actionCollection.render(\n                this.hostConfig.actions.actionsOrientation\n            );\n\n            if (renderedActions) {\n                Utils.appendChild(\n                    element,\n                    renderSeparation(\n                        this.hostConfig,\n                        {\n                            spacing: this.hostConfig.getEffectiveSpacing(\n                                this.hostConfig.actions.spacing\n                            )\n                        },\n                        Enums.Orientation.Horizontal\n                    )\n                );\n                Utils.appendChild(element, renderedActions);\n            }\n\n            if (this.renderIfEmpty) {\n                return element;\n            } else {\n                return element.children.length > 0 ? element : undefined;\n            }\n        } else {\n            return undefined;\n        }\n    }\n\n    protected getHasExpandedAction(): boolean {\n        if (this.renderedActionCount === 0) {\n            return false;\n        } else if (this.renderedActionCount === 1) {\n            return (\n                this._actionCollection.expandedAction !== undefined &&\n                !this.hostConfig.actions.preExpandSingleShowCardAction\n            );\n        } else {\n            return this._actionCollection.expandedAction !== undefined;\n        }\n    }\n\n    protected get renderedActionCount(): number {\n        return this._actionCollection.renderedActionCount;\n    }\n\n    protected get renderIfEmpty(): boolean {\n        return false;\n    }\n\n    constructor() {\n        super();\n\n        this._actionCollection = new ActionCollection(this);\n    }\n\n    releaseDOMResources() {\n        super.releaseDOMResources();\n\n        this._actionCollection.releaseDOMResources();\n    }\n\n    getActionCount(): number {\n        return this._actionCollection.getActionCount();\n    }\n\n    getActionAt(index: number): Action | undefined {\n        if (index >= 0 && index < this.getActionCount()) {\n            return this._actionCollection.getActionAt(index);\n        } else {\n            return super.getActionAt(index);\n        }\n    }\n\n    getActionById(id: string): Action | undefined {\n        const result: Action | undefined = this._actionCollection.getActionById(id);\n\n        return result ? result : super.getActionById(id);\n    }\n\n    internalValidateProperties(context: ValidationResults) {\n        super.internalValidateProperties(context);\n\n        if (this._actionCollection) {\n            this._actionCollection.validateProperties(context);\n        }\n    }\n\n    isLastElement(element: CardElement): boolean {\n        return super.isLastElement(element) && this._actionCollection.getActionCount() === 0;\n    }\n\n    addAction(action: Action) {\n        this._actionCollection.addAction(action);\n    }\n\n    clear() {\n        super.clear();\n\n        this._actionCollection.clear();\n    }\n\n    getAllInputs(processActions: boolean = true): Input[] {\n        let result = super.getAllInputs(processActions);\n\n        if (processActions) {\n            result.push(...this._actionCollection.getAllInputs(processActions));\n        }\n\n        return result;\n    }\n\n    getResourceInformation(): IResourceInformation[] {\n        let result = super.getResourceInformation();\n\n        result.push(...this._actionCollection.getResourceInformation());\n\n        return result;\n    }\n\n    isBleedingAtBottom(): boolean {\n        if (this._actionCollection.renderedActionCount === 0) {\n            return super.isBleedingAtBottom();\n        } else {\n            if (this._actionCollection.getActionCount() === 1) {\n                return (\n                    this._actionCollection.expandedAction !== undefined &&\n                    !this.hostConfig.actions.preExpandSingleShowCardAction\n                );\n            } else {\n                return this._actionCollection.expandedAction !== undefined;\n            }\n        }\n    }\n\n    getForbiddenActionNames(): string[] {\n        return [];\n    }\n    \n    getElementById(id: string): CardElement | undefined {\n        let result = super.getElementById(id);\n\n        if (!result) {\n            result = this.getElementByIdFromAction(id);\n        }\n\n        return result;\n    }\n\n    get isStandalone(): boolean {\n        return false;\n    }\n}\n\nexport interface IMarkdownProcessingResult {\n    didProcess: boolean;\n    outputHtml?: any;\n}\n\nexport class RefreshActionProperty extends PropertyDefinition {\n    parse(\n        sender: RefreshDefinition,\n        source: PropertyBag,\n        context: SerializationContext\n    ): ExecuteAction | undefined {\n        const action = context.parseAction(sender.parent, source[this.name], [], false);\n\n        if (action !== undefined) {\n            if (action instanceof ExecuteAction) {\n                return action;\n            }\n\n            context.logParseEvent(\n                sender,\n                Enums.ValidationEvent.ActionTypeNotAllowed,\n                Strings.errors.actionTypeNotAllowed(action.getJsonTypeName())\n            );\n        }\n\n        context.logParseEvent(\n            sender,\n            Enums.ValidationEvent.PropertyCantBeNull,\n            Strings.errors.propertyMustBeSet(\"action\")\n        );\n\n        return undefined;\n    }\n\n    toJSON(\n        sender: SerializableObject,\n        target: PropertyBag,\n        value: ExecuteAction | undefined,\n        context: SerializationContext\n    ) {\n        context.serializeValue(\n            target,\n            this.name,\n            value ? value.toJSON(context) : undefined,\n            undefined,\n            true\n        );\n    }\n\n    constructor(readonly targetVersion: Version, readonly name: string) {\n        super(targetVersion, name, undefined);\n    }\n}\n\nexport class RefreshDefinition extends SerializableObject {\n    //#region Schema\n\n    static readonly actionProperty = new RefreshActionProperty(Versions.v1_4, \"action\");\n    static readonly userIdsProperty = new StringArrayProperty(Versions.v1_4, \"userIds\");\n\n    @property(RefreshDefinition.actionProperty)\n    get action(): ExecuteAction {\n        return this.getValue(RefreshDefinition.actionProperty);\n    }\n\n    set action(value: ExecuteAction) {\n        this.setValue(RefreshDefinition.actionProperty, value);\n\n        if (value) {\n            value.setParent(this.parent);\n        }\n    }\n\n    @property(RefreshDefinition.userIdsProperty)\n    userIds?: string[];\n\n    protected getSchemaKey(): string {\n        return \"RefreshDefinition\";\n    }\n\n    //#endregion\n\n    parent: CardElement;\n}\n\nexport class AuthCardButton extends SerializableObject {\n    //#region Schema\n\n    static readonly typeProperty = new StringProperty(Versions.v1_4, \"type\");\n    static readonly titleProperty = new StringProperty(Versions.v1_4, \"title\");\n    static readonly imageProperty = new StringProperty(Versions.v1_4, \"image\");\n    static readonly valueProperty = new StringProperty(Versions.v1_4, \"value\");\n\n    protected getSchemaKey(): string {\n        return \"AuthCardButton\";\n    }\n\n    //#endregion\n\n    @property(AuthCardButton.typeProperty)\n    type: string;\n\n    @property(AuthCardButton.titleProperty)\n    title?: string;\n\n    @property(AuthCardButton.imageProperty)\n    image?: string;\n\n    @property(AuthCardButton.valueProperty)\n    value: string;\n}\n\nexport class TokenExchangeResource extends SerializableObject {\n    //#region Schema\n\n    static readonly idProperty = new StringProperty(Versions.v1_4, \"id\");\n    static readonly uriProperty = new StringProperty(Versions.v1_4, \"uri\");\n    static readonly providerIdProperty = new StringProperty(Versions.v1_4, \"providerId\");\n\n    protected getSchemaKey(): string {\n        return \"TokenExchangeResource\";\n    }\n\n    //#endregion\n\n    @property(TokenExchangeResource.idProperty)\n    id?: string;\n\n    @property(TokenExchangeResource.uriProperty)\n    uri?: string;\n\n    @property(TokenExchangeResource.providerIdProperty)\n    providerId?: string;\n}\n\nexport class Authentication extends SerializableObject {\n    //#region Schema\n\n    static readonly textProperty = new StringProperty(Versions.v1_4, \"text\");\n    static readonly connectionNameProperty = new StringProperty(Versions.v1_4, \"connectionName\");\n    static readonly buttonsProperty = new SerializableObjectCollectionProperty(\n        Versions.v1_4,\n        \"buttons\",\n        AuthCardButton\n    );\n    static readonly tokenExchangeResourceProperty = new SerializableObjectProperty(\n        Versions.v1_4,\n        \"tokenExchangeResource\",\n        TokenExchangeResource,\n        true\n    );\n\n    protected getSchemaKey(): string {\n        return \"Authentication\";\n    }\n\n    //#endregion\n\n    @property(Authentication.textProperty)\n    text?: string;\n\n    @property(Authentication.connectionNameProperty)\n    connectionName?: string;\n\n    @property(Authentication.buttonsProperty)\n    buttons: AuthCardButton[];\n\n    @property(Authentication.tokenExchangeResourceProperty)\n    tokenExchangeResource?: TokenExchangeResource;\n}\n\n// @dynamic\nexport class AdaptiveCard extends ContainerWithActions {\n    static readonly schemaUrl = \"http://adaptivecards.io/schemas/adaptive-card.json\";\n\n    //#region Schema\n\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    protected static readonly $schemaProperty = new CustomProperty<string>(\n        Versions.v1_0,\n        \"$schema\",\n        (\n            sender: SerializableObject,\n            property: PropertyDefinition,\n            source: PropertyBag,\n            context: BaseSerializationContext\n        ) => {\n            return AdaptiveCard.schemaUrl;\n        },\n        (\n            sender: SerializableObject,\n            prop: PropertyDefinition,\n            target: PropertyBag,\n            value: Versions | undefined,\n            context: BaseSerializationContext\n        ) => {\n            context.serializeValue(target, prop.name, AdaptiveCard.schemaUrl);\n        }\n    );\n\n    static readonly versionProperty = new CustomProperty<Version | undefined>(\n        Versions.v1_0,\n        \"version\",\n        (\n            sender: SerializableObject,\n            prop: PropertyDefinition,\n            source: PropertyBag,\n            context: BaseSerializationContext\n        ) => {\n            let version = Version.parse(source[prop.name], context);\n\n            if (version === undefined) {\n                version = Versions.latest;\n\n                context.logParseEvent(\n                    sender,\n                    Enums.ValidationEvent.InvalidPropertyValue,\n                    Strings.errors.invalidCardVersion(version.toString())\n                );\n            }\n\n            return version;\n        },\n        (\n            sender: SerializableObject,\n            prop: PropertyDefinition,\n            target: PropertyBag,\n            value: Version | undefined,\n            context: BaseSerializationContext\n        ) => {\n            if (value !== undefined) {\n                context.serializeValue(target, prop.name, value.toString());\n            }\n        },\n        Versions.v1_0\n    );\n\n    static readonly fallbackTextProperty = new StringProperty(Versions.v1_0, \"fallbackText\");\n    static readonly speakProperty = new StringProperty(Versions.v1_0, \"speak\");\n    static readonly refreshProperty = new SerializableObjectProperty(\n        Versions.v1_4,\n        \"refresh\",\n        RefreshDefinition,\n        true\n    );\n    static readonly authenticationProperty = new SerializableObjectProperty(\n        Versions.v1_4,\n        \"authentication\",\n        Authentication,\n        true\n    );\n\n    @property(AdaptiveCard.versionProperty)\n    version: Version;\n\n    @property(AdaptiveCard.fallbackTextProperty)\n    fallbackText?: string;\n\n    @property(AdaptiveCard.speakProperty)\n    speak?: string;\n\n    @property(AdaptiveCard.refreshProperty)\n    get refresh(): RefreshDefinition | undefined {\n        return this.getValue(AdaptiveCard.refreshProperty);\n    }\n\n    set refresh(value: RefreshDefinition | undefined) {\n        this.setValue(AdaptiveCard.refreshProperty, value);\n\n        if (value) {\n            value.parent = this;\n        }\n    }\n\n    @property(AdaptiveCard.authenticationProperty)\n    authentication?: Authentication;\n\n    //#endregion\n\n    private static _haveWarnedAboutNoMarkdownProcessing = false;\n\n    static onAnchorClicked?: (\n        element: CardElement,\n        anchor: HTMLAnchorElement,\n        ev?: MouseEvent\n    ) => boolean;\n    static onExecuteAction?: (action: Action) => void;\n    static onElementVisibilityChanged?: (element: CardElement) => void;\n    static onImageLoaded?: (image: Image) => void;\n    static onInlineCardExpanded?: (action: ShowCardAction, isExpanded: boolean) => void;\n    static onInputValueChanged?: (input: Input) => void;\n    static onCarouselEvent?: (carouselEvent: CarouselEvent) => void;\n    static onProcessMarkdown?: (text: string, result: IMarkdownProcessingResult) => void;\n    static onDisplayOverflowActionMenu?: (\n        actions: readonly Action[],\n        target?: HTMLElement\n    ) => boolean;\n    static onRenderOverflowActions?: (\n        actions: readonly Action[],\n        isRootLevelActions: boolean\n    ) => boolean;\n\n    static get processMarkdown(): (text: string) => string {\n        throw new Error(Strings.errors.processMarkdownEventRemoved());\n    }\n\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    static set processMarkdown(_value: (text: string) => string) {\n        throw new Error(Strings.errors.processMarkdownEventRemoved());\n    }\n\n    static applyMarkdown(text: string): IMarkdownProcessingResult {\n        const result: IMarkdownProcessingResult = {\n            didProcess: false\n        };\n\n        if (AdaptiveCard.onProcessMarkdown) {\n            AdaptiveCard.onProcessMarkdown(text, result);\n        } else if ((<any>window).markdownit) {\n            // Check for markdownit\n            const markdownIt: any = (<any>window).markdownit;\n            result.outputHtml = markdownIt().render(text);\n            result.didProcess = true;\n        } else if (!AdaptiveCard._haveWarnedAboutNoMarkdownProcessing) {\n            // eslint-disable-next-line no-console\n            console.warn(Strings.errors.markdownProcessingNotEnabled);\n            AdaptiveCard._haveWarnedAboutNoMarkdownProcessing = true;\n        }\n\n        return result;\n    }\n\n    private _fallbackCard?: AdaptiveCard;\n\n    private isVersionSupported(): boolean {\n        if (this.bypassVersionCheck) {\n            return true;\n        } else {\n            const unsupportedVersion: boolean =\n                !this.version ||\n                !this.version.isValid ||\n                this.maxVersion.major < this.version.major ||\n                (this.maxVersion.major === this.version.major &&\n                    this.maxVersion.minor < this.version.minor);\n\n            return !unsupportedVersion;\n        }\n    }\n\n    protected getDefaultSerializationContext(): BaseSerializationContext {\n        return new SerializationContext(this.version);\n    }\n\n    protected getItemsCollectionPropertyName(): string {\n        return \"body\";\n    }\n\n    protected internalParse(source: any, context: SerializationContext) {\n        this._fallbackCard = undefined;\n\n        const fallbackElement = context.parseElement(\n            undefined,\n            source[\"fallback\"],\n            this.forbiddenChildElements(),\n            !this.isDesignMode()\n        );\n\n        if (fallbackElement) {\n            this._fallbackCard = new AdaptiveCard();\n            this._fallbackCard.addItem(fallbackElement);\n        }\n\n        super.internalParse(source, context);\n    }\n\n    protected internalToJSON(target: PropertyBag, context: SerializationContext) {\n        this.setValue(AdaptiveCard.versionProperty, context.targetVersion);\n\n        super.internalToJSON(target, context);\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        const renderedElement = super.internalRender();\n\n        if (GlobalSettings.useAdvancedCardBottomTruncation && renderedElement) {\n            // Unlike containers, the root card element should be allowed to\n            // be shorter than its content (otherwise the overflow truncation\n            // logic would never get triggered)\n            renderedElement.style.removeProperty(\"minHeight\");\n        }\n\n        return renderedElement;\n    }\n\n    protected getHasBackground(ignoreBackgroundImages: boolean = false): boolean {\n        return true;\n    }\n\n    protected getDefaultPadding(): PaddingDefinition {\n        return new PaddingDefinition(\n            Enums.Spacing.Padding,\n            Enums.Spacing.Padding,\n            Enums.Spacing.Padding,\n            Enums.Spacing.Padding\n        );\n    }\n\n    protected shouldSerialize(_context: SerializationContext): boolean {\n        return true;\n    }\n\n    protected get renderIfEmpty(): boolean {\n        return true;\n    }\n\n    protected get bypassVersionCheck(): boolean {\n        return false;\n    }\n\n    protected get allowCustomStyle() {\n        return this.hostConfig.adaptiveCard && this.hostConfig.adaptiveCard.allowCustomStyle;\n    }\n\n    protected get hasBackground(): boolean {\n        return true;\n    }\n\n    onAnchorClicked?: (element: CardElement, anchor: HTMLAnchorElement, ev?: MouseEvent) => boolean;\n    onExecuteAction?: (action: Action) => void;\n    onElementVisibilityChanged?: (element: CardElement) => void;\n    onImageLoaded?: (image: Image) => void;\n    onInlineCardExpanded?: (action: ShowCardAction, isExpanded: boolean) => void;\n    onInputValueChanged?: (input: Input) => void;\n    onCarouselEvent?: (carouselEvent: CarouselEvent) => void;\n    onDisplayOverflowActionMenu?: (actions: readonly Action[], target?: HTMLElement) => boolean;\n    onRenderOverflowActions?: (actions: readonly Action[], isRootLevelActions: boolean) => boolean;\n\n    designMode: boolean = false;\n\n    getJsonTypeName(): string {\n        return \"AdaptiveCard\";\n    }\n\n    internalValidateProperties(context: ValidationResults) {\n        super.internalValidateProperties(context);\n\n        if (this.getValue(CardElement.typeNameProperty) !== \"AdaptiveCard\") {\n            context.addFailure(\n                this,\n                Enums.ValidationEvent.MissingCardType,\n                Strings.errors.invalidCardType()\n            );\n        }\n\n        if (!this.bypassVersionCheck && !this.version) {\n            context.addFailure(\n                this,\n                Enums.ValidationEvent.PropertyCantBeNull,\n                Strings.errors.propertyMustBeSet(\"version\")\n            );\n        } else if (!this.isVersionSupported()) {\n            context.addFailure(\n                this,\n                Enums.ValidationEvent.UnsupportedCardVersion,\n                Strings.errors.unsupportedCardVersion(\n                    this.version.toString(),\n                    this.maxVersion.toString()\n                )\n            );\n        }\n    }\n\n    render(target?: HTMLElement): HTMLElement | undefined {\n        let renderedCard: HTMLElement | undefined;\n\n        if (this.shouldFallback() && this._fallbackCard) {\n            this._fallbackCard.hostConfig = this.hostConfig;\n\n            renderedCard = this._fallbackCard.render();\n        } else {\n            renderedCard = super.render();\n\n            if (renderedCard) {\n                renderedCard.classList.add(this.hostConfig.makeCssClassName(\"ac-adaptiveCard\"));\n\n                // Having a tabIndex on the root container for a card can mess up accessibility in some scenarios.\n                // However, we've shipped this behavior before, and so can't just turn it off in a point release. For\n                // now, to unblock accessibility scenarios for our customers, we've got an option to turn it off. In a\n                // future release, we should strongly consider flipping the default such that we *don't* emit a tabIndex\n                // by default.\n                if (GlobalSettings.setTabIndexAtCardRoot) {\n                    renderedCard.tabIndex = 0;\n                }\n\n                if (this.speak) {\n                    renderedCard.setAttribute(\"aria-label\", this.speak);\n                }\n\n                renderedCard.onmouseenter = (ev: MouseEvent) => {\n                    this.updateInputsVisualState(true /* hover */);\n                };\n\n                renderedCard.onmouseleave = (ev: MouseEvent) => {\n                    this.updateInputsVisualState(false /* hover */);\n                };\n\n                this.getRootElement().updateActionsEnabledState();\n            }\n        }\n\n        if (target) {\n            Utils.appendChild(target, renderedCard);\n\n            this.updateLayout();\n        }\n\n        const inputElements = this.getAllInputs();\n        document.onclick = (event) => {\n            inputElements.forEach((input) => {\n                if (\n                    input instanceof ChoiceSetInput &&\n                    !input.renderedElement?.contains(event.target as Node)\n                ) {\n                    input\n                        .getDropdownElement()\n                        ?.classList.remove(\n                            this.hostConfig.makeCssClassName(\n                                \"ac-choiceSetInput-filtered-dropdown-open\"\n                            )\n                        );\n                }\n            });\n        };\n\n        return renderedCard;\n    }\n\n    updateLayout(processChildren: boolean = true) {\n        super.updateLayout(processChildren);\n\n        if (GlobalSettings.useAdvancedCardBottomTruncation && this.isDisplayed()) {\n            const padding = this.hostConfig.getEffectiveSpacing(Enums.Spacing.Default);\n\n            // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion\n            this[\"handleOverflow\"](this.renderedElement!.offsetHeight - padding);\n        }\n    }\n\n    shouldFallback(): boolean {\n        return super.shouldFallback() || !this.isVersionSupported();\n    }\n\n    get hasVisibleSeparator(): boolean {\n        return false;\n    }\n}\n\nclass InlineAdaptiveCard extends AdaptiveCard {\n    //#region Schema\n\n    protected getSchemaKey(): string {\n        return \"InlineAdaptiveCard\";\n    }\n\n    protected populateSchema(schema: SerializableObjectSchema) {\n        super.populateSchema(schema);\n\n        schema.remove(AdaptiveCard.$schemaProperty, AdaptiveCard.versionProperty);\n    }\n\n    //#endregion\n\n    protected getDefaultPadding(): PaddingDefinition {\n        return new PaddingDefinition(\n            this.suppressStyle ? Enums.Spacing.None : Enums.Spacing.Padding,\n            Enums.Spacing.Padding,\n            this.suppressStyle ? Enums.Spacing.None : Enums.Spacing.Padding,\n            Enums.Spacing.Padding\n        );\n    }\n\n    protected get bypassVersionCheck(): boolean {\n        return true;\n    }\n\n    protected get defaultStyle(): string {\n        if (this.suppressStyle) {\n            return Enums.ContainerStyle.Default;\n        } else {\n            return this.hostConfig.actions.showCard.style\n                ? this.hostConfig.actions.showCard.style\n                : Enums.ContainerStyle.Emphasis;\n        }\n    }\n\n    suppressStyle: boolean = false;\n\n    render(target?: HTMLElement): HTMLElement | undefined {\n        const renderedCard = super.render(target);\n\n        if (renderedCard) {\n            renderedCard.setAttribute(\"aria-live\", \"polite\");\n            renderedCard.removeAttribute(\"tabindex\");\n        }\n\n        return renderedCard;\n    }\n}\n\nexport class SerializationContext extends BaseSerializationContext {\n    private _elementRegistry?: CardObjectRegistry<CardElement>;\n    private _actionRegistry?: CardObjectRegistry<Action>;\n\n    private _forbiddenTypes: Set<string> = new Set<string>();\n    private internalParseCardObject<T extends CardObject>(\n        parent: CardElement | undefined,\n        source: any,\n        forbiddenTypes: Set<string>,\n        allowFallback: boolean,\n        createInstanceCallback: (typeName: string | undefined) => T | undefined,\n        logParseEvent: (typeName: string | undefined, errorType: Enums.TypeErrorType) => void\n    ): T | undefined {\n        let result: T | undefined = undefined;\n\n        if (source && typeof source === \"object\") {\n            const oldForbiddenTypes = new Set<string>();\n            this._forbiddenTypes.forEach((type) => {\n                oldForbiddenTypes.add(type);\n            });\n            forbiddenTypes.forEach((type) => {\n                this._forbiddenTypes.add(type);\n            });\n\n            const typeName = Utils.parseString(source[\"type\"]);\n\n            if (typeName && this._forbiddenTypes.has(typeName)) {\n                logParseEvent(typeName, Enums.TypeErrorType.ForbiddenType);\n            } else {\n                let tryToFallback = false;\n\n                result = createInstanceCallback(typeName);\n\n                if (!result) {\n                    tryToFallback = GlobalSettings.enableFallback && allowFallback;\n\n                    logParseEvent(typeName, Enums.TypeErrorType.UnknownType);\n                } else {\n                    result.setParent(parent);\n                    result.parse(source, this);\n\n                    tryToFallback =\n                        GlobalSettings.enableFallback && allowFallback && result.shouldFallback();\n                }\n\n                if (tryToFallback) {\n                    const fallback = source[\"fallback\"];\n\n                    if (!fallback && parent) {\n                        parent.setShouldFallback(true);\n                    }\n                    if (typeof fallback === \"string\" && fallback.toLowerCase() === \"drop\") {\n                        result = undefined;\n                    } else if (typeof fallback === \"object\") {\n                        result = this.internalParseCardObject<T>(\n                            parent,\n                            fallback,\n                            forbiddenTypes,\n                            true,\n                            createInstanceCallback,\n                            logParseEvent\n                        );\n                    }\n                }\n            }\n\n            this._forbiddenTypes = oldForbiddenTypes;\n        }\n\n        return result;\n    }\n\n    protected cardObjectParsed(o: SerializableObject, source: any) {\n        if (o instanceof Action && this.onParseAction) {\n            this.onParseAction(o, source, this);\n        } else if (o instanceof CardElement && this.onParseElement) {\n            this.onParseElement(o, source, this);\n        }\n    }\n\n    onParseAction?: (action: Action, source: any, context: SerializationContext) => void;\n    onParseElement?: (element: CardElement, source: any, context: SerializationContext) => void;\n\n    shouldSerialize(o: SerializableObject): boolean {\n        if (o instanceof Action) {\n            return this.actionRegistry.findByName(o.getJsonTypeName()) !== undefined;\n        } else if (o instanceof CardElement) {\n            return this.elementRegistry.findByName(o.getJsonTypeName()) !== undefined;\n        } else {\n            return true;\n        }\n    }\n\n    parseCardObject<T extends CardObject>(\n        parent: CardElement | undefined,\n        source: any,\n        forbiddenTypeNames: string[],\n        allowFallback: boolean,\n        createInstanceCallback: (typeName: string) => T | undefined,\n        logParseEvent: (typeName: string, errorType: Enums.TypeErrorType) => void\n    ): T | undefined {\n        const forbiddenTypes = new Set<string>(forbiddenTypeNames);\n        const result = this.internalParseCardObject(\n            parent,\n            source,\n            forbiddenTypes,\n            allowFallback,\n            createInstanceCallback,\n            logParseEvent\n        );\n\n        if (result !== undefined) {\n            this.cardObjectParsed(result, source);\n        }\n\n        return result;\n    }\n\n    parseElement(\n        parent: CardElement | undefined,\n        source: any,\n        forbiddenTypes: string[],\n        allowFallback: boolean\n    ): CardElement | undefined {\n        return this.parseCardObject<CardElement>(\n            parent,\n            source,\n            forbiddenTypes,\n            allowFallback,\n            (typeName: string) => {\n                return this.elementRegistry.createInstance(typeName, this.targetVersion);\n            },\n            (typeName: string, errorType: Enums.TypeErrorType) => {\n                if (errorType === Enums.TypeErrorType.UnknownType) {\n                    this.logParseEvent(\n                        undefined,\n                        Enums.ValidationEvent.UnknownElementType,\n                        Strings.errors.unknownElementType(typeName)\n                    );\n                } else {\n                    this.logParseEvent(\n                        undefined,\n                        Enums.ValidationEvent.ElementTypeNotAllowed,\n                        Strings.errors.elementTypeNotAllowed(typeName)\n                    );\n                }\n            }\n        );\n    }\n\n    parseAction(\n        parent: CardElement,\n        source: any,\n        forbiddenActionTypes: string[],\n        allowFallback: boolean\n    ): Action | undefined {\n        return this.parseCardObject<Action>(\n            parent,\n            source,\n            forbiddenActionTypes,\n            allowFallback,\n            (typeName: string) => {\n                return this.actionRegistry.createInstance(typeName, this.targetVersion);\n            },\n            (typeName: string, errorType: Enums.TypeErrorType) => {\n                if (errorType === Enums.TypeErrorType.UnknownType) {\n                    this.logParseEvent(\n                        undefined,\n                        Enums.ValidationEvent.UnknownActionType,\n                        Strings.errors.unknownActionType(typeName)\n                    );\n                } else {\n                    this.logParseEvent(\n                        undefined,\n                        Enums.ValidationEvent.ActionTypeNotAllowed,\n                        Strings.errors.actionTypeNotAllowed(typeName)\n                    );\n                }\n            }\n        );\n    }\n\n    get elementRegistry(): CardObjectRegistry<CardElement> {\n        return this._elementRegistry ?? GlobalRegistry.elements;\n    }\n\n    // Not using a property setter here because the setter should accept \"undefined\"\n    // whereas the getter should never return undefined.\n    setElementRegistry(value: CardObjectRegistry<CardElement> | undefined) {\n        this._elementRegistry = value;\n    }\n\n    get actionRegistry(): CardObjectRegistry<Action> {\n        return this._actionRegistry ?? GlobalRegistry.actions;\n    }\n\n    // Not using a property setter here because the setter should accept \"undefined\"\n    // whereas the getter should never return undefined.\n    setActionRegistry(value: CardObjectRegistry<Action> | undefined) {\n        this._actionRegistry = value;\n    }\n}\n\nGlobalRegistry.defaultElements.register(\"Container\", Container);\nGlobalRegistry.defaultElements.register(\"TextBlock\", TextBlock);\nGlobalRegistry.defaultElements.register(\"RichTextBlock\", RichTextBlock, Versions.v1_2);\nGlobalRegistry.defaultElements.register(\"TextRun\", TextRun, Versions.v1_2);\nGlobalRegistry.defaultElements.register(\"Image\", Image);\nGlobalRegistry.defaultElements.register(\"ImageSet\", ImageSet);\nGlobalRegistry.defaultElements.register(\"Media\", Media, Versions.v1_1);\nGlobalRegistry.defaultElements.register(\"FactSet\", FactSet);\nGlobalRegistry.defaultElements.register(\"ColumnSet\", ColumnSet);\nGlobalRegistry.defaultElements.register(\"ActionSet\", ActionSet, Versions.v1_2);\nGlobalRegistry.defaultElements.register(\"Input.Text\", TextInput);\nGlobalRegistry.defaultElements.register(\"Input.Date\", DateInput);\nGlobalRegistry.defaultElements.register(\"Input.Time\", TimeInput);\nGlobalRegistry.defaultElements.register(\"Input.Number\", NumberInput);\nGlobalRegistry.defaultElements.register(\"Input.ChoiceSet\", ChoiceSetInput);\nGlobalRegistry.defaultElements.register(\"Input.Toggle\", ToggleInput);\n\nGlobalRegistry.defaultActions.register(OpenUrlAction.JsonTypeName, OpenUrlAction);\nGlobalRegistry.defaultActions.register(SubmitAction.JsonTypeName, SubmitAction);\nGlobalRegistry.defaultActions.register(ShowCardAction.JsonTypeName, ShowCardAction);\nGlobalRegistry.defaultActions.register(\n    ToggleVisibilityAction.JsonTypeName,\n    ToggleVisibilityAction,\n    Versions.v1_2\n);\nGlobalRegistry.defaultActions.register(ExecuteAction.JsonTypeName, ExecuteAction, Versions.v1_4);\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport * as Enums from \"./enums\";\nimport { Strings } from \"./strings\";\nimport { Dictionary, GlobalSettings } from \"./shared\";\nimport { HostConfig } from \"./host-config\";\nimport { HostCapabilities } from \"./host-capabilities\";\nimport {\n    Versions,\n    property,\n    SerializableObject,\n    StringProperty,\n    SerializableObjectProperty,\n    IValidationEvent,\n    PropertyDefinition\n} from \"./serialization\";\n\nexport class ValidationResults {\n    readonly allIds: Dictionary<number> = {};\n    readonly validationEvents: IValidationEvent[] = [];\n\n    addFailure(cardObject: CardObject, event: Enums.ValidationEvent, message: string) {\n        this.validationEvents.push({\n            phase: Enums.ValidationPhase.Validation,\n            source: cardObject,\n            event: event,\n            message: message\n        });\n    }\n}\n\nexport type CardObjectType = { new (): CardObject };\n\nexport abstract class CardObject extends SerializableObject {\n    //#region Schema\n\n    static readonly typeNameProperty = new StringProperty(\n        Versions.v1_0,\n        \"type\",\n        undefined,\n        undefined,\n        undefined,\n        (sender: object) => {\n            return (<CardObject>sender).getJsonTypeName();\n        }\n    );\n    static readonly idProperty = new StringProperty(Versions.v1_0, \"id\");\n    static readonly requiresProperty = new SerializableObjectProperty(\n        Versions.v1_2,\n        \"requires\",\n        HostCapabilities,\n        false,\n        new HostCapabilities()\n    );\n\n    protected getSchemaKey(): string {\n        return this.getJsonTypeName();\n    }\n\n    @property(CardObject.idProperty)\n    id?: string;\n\n    @property(CardObject.requiresProperty)\n    get requires(): HostCapabilities {\n        return this.getValue(CardObject.requiresProperty);\n    }\n\n    //#endregion\n\n    private _shouldFallback: boolean = false;\n\n    protected _parent?: CardObject;\n    protected _renderedElement?: HTMLElement;\n\n    /**\n     * Checks if this CardObject contains the given DOM Node.\n     * @param node The DOM Node to look for.\n     * @returns `true` if the DOM Node was found, `false` otherwise.\n     */\n    protected contains(node: Node): boolean {\n        if (this._renderedElement) {\n            return this._renderedElement.contains(node);\n        }\n\n        return false;\n    }\n\n    onPreProcessPropertyValue?: (\n        sender: CardObject,\n        property: PropertyDefinition,\n        value: any\n    ) => any;\n\n    abstract getJsonTypeName(): string;\n\n    abstract get hostConfig(): HostConfig;\n\n    preProcessPropertyValue(prop: PropertyDefinition, propertyValue?: any): any {\n        const value = propertyValue === undefined ? this.getValue(prop) : propertyValue;\n\n        if (GlobalSettings.allowPreProcessingPropertyValues) {\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            let currentObject: CardObject | undefined = this;\n\n            while (currentObject && !currentObject.onPreProcessPropertyValue) {\n                currentObject = currentObject.parent;\n            }\n\n            if (currentObject && currentObject.onPreProcessPropertyValue) {\n                return currentObject.onPreProcessPropertyValue(this, prop, value);\n            }\n        }\n\n        return value;\n    }\n\n    setParent(value: CardObject | undefined) {\n        this._parent = value;\n    }\n\n    setShouldFallback(value: boolean) {\n        this._shouldFallback = value;\n    }\n\n    shouldFallback(): boolean {\n        return this._shouldFallback || !this.requires.areAllMet(this.hostConfig.hostCapabilities);\n    }\n\n    getRootObject(): CardObject {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        let currentObject: CardObject = this;\n\n        while (currentObject.parent) {\n            currentObject = currentObject.parent;\n        }\n\n        return currentObject;\n    }\n\n    internalValidateProperties(context: ValidationResults) {\n        if (this.id) {\n            if (context.allIds.hasOwnProperty(this.id)) {\n                if (context.allIds[this.id] === 1) {\n                    context.addFailure(\n                        this,\n                        Enums.ValidationEvent.DuplicateId,\n                        Strings.errors.duplicateId(this.id)\n                    );\n                }\n\n                context.allIds[this.id] += 1;\n            } else {\n                context.allIds[this.id] = 1;\n            }\n        }\n    }\n\n    validateProperties(): ValidationResults {\n        const result = new ValidationResults();\n\n        this.internalValidateProperties(result);\n\n        return result;\n    }\n\n    /**\n     * Recursively searches this CardObject and any children to find the\n     * innermost CardObject that owns the given DOM Node.\n     *\n     * @param node The DOM Node to look for.\n     *\n     * @returns The owner of the given DOM Node, or `undefined` if no owner was found.\n     */\n    findDOMNodeOwner(node: Node): CardObject | undefined {\n        // default implementation for CardObjects with no associated children\n        return this.contains(node) ? this : undefined;\n    }\n\n    releaseDOMResources() {\n        // Do nothing in base implementation\n    }\n\n    get parent(): CardObject | undefined {\n        return this._parent;\n    }\n\n    get renderedElement(): HTMLElement | undefined {\n        return this._renderedElement;\n    }\n}\n","// Copyright (C) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport {\n    AdaptiveCard,\n    ActionType,\n    CardElement,\n    Container,\n    SerializationContext,\n    ShowCardAction,\n    ToggleVisibilityAction\n} from \"./card-elements\";\nimport * as Enums from \"./enums\";\nimport {\n    BoolProperty,\n    NumProperty,\n    EnumProperty,\n    property,\n    PropertyBag,\n    SerializableObjectSchema,\n    Versions,\n    PixelSizeProperty\n} from \"./serialization\";\nimport { GlobalRegistry } from \"./registry\";\nimport { TypeErrorType, ValidationEvent } from \"./enums\";\nimport { Strings } from \"./strings\";\nimport {\n    Swiper,\n    A11y,\n    Autoplay,\n    History,\n    Keyboard,\n    Navigation,\n    Pagination,\n    Scrollbar,\n    SwiperOptions\n} from \"swiper\";\nimport * as Utils from \"./utils\";\nimport { GlobalSettings } from \"./shared\";\n\n// Note: to function correctly, consumers need to have CSS from swiper/css, swiper/css/pagination, and\n// swiper/css/navigation\n\nexport class CarouselPage extends Container {\n    //#region Schema\n    protected populateSchema(schema: SerializableObjectSchema) {\n        super.populateSchema(schema);\n\n        // `style`, `bleed`, `isVisible` are not supported in CarouselPage\n        schema.remove(Container.styleProperty);\n        schema.remove(Container.bleedProperty);\n        schema.remove(Container.isVisibleProperty);\n    }\n    //#endregion\n\n    protected internalRender(): HTMLElement | undefined {\n        const carouselSlide: HTMLElement = document.createElement(\"div\");\n        carouselSlide.className = this.hostConfig.makeCssClassName(\"swiper-slide\");\n        // `isRtl()` will set the correct value of rtl by reading the value from the parents\n        this.rtl = this.isRtl();\n        const renderedElement = super.internalRender();\n        Utils.appendChild(carouselSlide, renderedElement);\n        return carouselSlide;\n    }\n\n    getForbiddenActionTypes(): ActionType[] {\n        return [ShowCardAction, ToggleVisibilityAction];\n    }\n\n    getForbiddenChildElements(): string[] {\n        return this.forbiddenChildElements();\n    }\n\n    protected forbiddenChildElements(): string[] {\n        return [\n            ToggleVisibilityAction.JsonTypeName,\n            ShowCardAction.JsonTypeName,\n            \"Media\",\n            \"ActionSet\",\n            \"Input.Text\",\n            \"Input.Date\",\n            \"Input.Time\",\n            \"Input.Number\",\n            \"Input.ChoiceSet\",\n            \"Input.Toggle\",\n            \"Carousel\",\n            ...super.forbiddenChildElements()\n        ];\n    }\n\n    protected internalParse(source: any, context: SerializationContext) {\n        super.internalParse(source, context);\n\n        this.setShouldFallback(false);\n    }\n\n    protected shouldSerialize(_context: SerializationContext): boolean {\n        return true;\n    }\n\n    getJsonTypeName(): string {\n        return \"CarouselPage\";\n    }\n\n    get isStandalone(): boolean {\n        return false;\n    }\n\n    get hasVisibleSeparator(): boolean {\n        return false;\n    }\n}\n\nexport class Carousel extends Container {\n    //#region Schema\n    protected populateSchema(schema: SerializableObjectSchema) {\n        super.populateSchema(schema);\n\n        // `style`, `bleed`, `isVisible` are not supported in Carousel\n        schema.remove(Container.styleProperty);\n        schema.remove(Container.bleedProperty);\n        schema.remove(Container.isVisibleProperty);\n    }\n\n    static readonly timerProperty = new NumProperty(Versions.v1_6, \"timer\", undefined);\n    @property(Carousel.timerProperty)\n    get timer(): number | undefined {\n        let timer = this.getValue(Carousel.timerProperty);\n\n        if (timer && timer < this.hostConfig.carousel.minAutoplayDelay) {\n            console.warn(Strings.errors.tooLittleTimeDelay);\n            timer = this.hostConfig.carousel.minAutoplayDelay;\n        }\n\n        return timer;\n    }\n\n    set timer(value: number | undefined) {\n        if (value && value < this.hostConfig.carousel.minAutoplayDelay) {\n            console.warn(Strings.errors.tooLittleTimeDelay);\n            this.setValue(Carousel.timerProperty, this.hostConfig.carousel.minAutoplayDelay);\n        } else {\n            this.setValue(Carousel.timerProperty, value);\n        }\n    }\n\n    static readonly initialPageProperty = new NumProperty(Versions.v1_6, \"initialPage\", 0);\n    @property(Carousel.initialPageProperty)\n    get initialPageIndex(): number {\n        return this.getValue(Carousel.initialPageProperty); \n    }\n\n    set initialPageIndex(value: number) { \n        if (this.isValidParsedPageIndex(value)) { \n            this.setValue(Carousel.initialPageProperty, value);\n        } else { \n            console.warn(Strings.errors.invalidInitialPageIndex(value));\n            this.setValue(Carousel.initialPageProperty, 0); \n        }\n    }\n\n    static readonly loopProperty = new BoolProperty(Versions.v1_6, \"loop\", true);\n    @property(Carousel.loopProperty)\n    carouselLoop: boolean = true;\n    \n    static readonly orientationProperty = new EnumProperty(\n        Versions.v1_6,\n        \"orientation\",\n        Enums.Orientation,\n        Enums.Orientation.Horizontal\n    );\n    @property(Carousel.orientationProperty)\n    carouselOrientation: Enums.Orientation = Enums.Orientation.Horizontal; \n\n    static readonly carouselHeightProperty = new PixelSizeProperty(\n        Versions.v1_6,\n        \"heightInPixels\"\n    );\n    @property(Carousel.carouselHeightProperty)\n    carouselHeight?: number;\n    \n    private isValidParsedPageIndex(index: number) : boolean {\n        return this._pages ? this.isValidPageIndex(index, this._pages.length) : false;\n    }\n\n    private isValidRenderedPageIndex(index: number) : boolean {\n        return this._renderedPages ? this.isValidPageIndex(index, this._renderedPages.length) : false;\n    }\n\n    private isValidPageIndex(index: number, collectionSize: number) {\n        return (collectionSize > 0 && 0 <= index && index < collectionSize);\n    }\n\n    //#endregion\n\n    get previousEventType(): Enums.CarouselInteractionEvent {\n        return this._previousEventType;\n    }\n\n    set previousEventType(eventType: Enums.CarouselInteractionEvent) {\n        this._previousEventType = eventType;\n    }\n\n    private _pages: CarouselPage[] = [];\n    private _renderedPages: CarouselPage[];\n    private _carouselPageContainer: HTMLElement;\n    private _containerForAdorners: HTMLElement;\n    private _currentIndex: number = 0;\n    private _previousEventType: Enums.CarouselInteractionEvent = Enums.CarouselInteractionEvent.Pagination;\n    private _observer: ResizeObserver | null;\n    private _carousel: Swiper | null;\n\n    // Question: Why do we place this on the Carousel instead of the CarouselPage?\n    protected forbiddenChildElements(): string[] {\n        return [\n            ToggleVisibilityAction.JsonTypeName,\n            ShowCardAction.JsonTypeName,\n            \"Media\",\n            \"ActionSet\",\n            \"Input.Text\",\n            \"Input.Date\",\n            \"Input.Time\",\n            \"Input.Number\",\n            \"Input.ChoiceSet\",\n            \"Input.Toggle\",\n            ...super.forbiddenChildElements()\n        ];\n    }\n\n    protected adjustRenderedElementSize(renderedElement: HTMLElement) {\n        super.adjustRenderedElementSize(renderedElement);\n        if (this.height == \"stretch\" && this._containerForAdorners !== undefined) { \n            this._containerForAdorners.style.height = \"100%\";\n        }\n\n        // Assign the explicit height to carouselPageContainer if given\n        if (this.carouselHeight) {\n            this._carouselPageContainer.style.height = this.carouselHeight + \"px\";\n        }\n    }\n\n    getJsonTypeName(): string {\n        return \"Carousel\";\n    }\n\n    getItemCount(): number {\n        return this._pages.length;\n    }\n\n    getItemAt(index: number): CardElement {\n        return this._pages[index];\n    }\n\n    addPage(page: CarouselPage) {\n        this._pages.push(page);\n        page.setParent(this);\n    }\n\n    removeItem(item: CardElement): boolean {\n        if (item instanceof CarouselPage) {\n            const itemIndex = this._pages.indexOf(item);\n\n            if (itemIndex >= 0) {\n                this._pages.splice(itemIndex, 1);\n\n                item.setParent(undefined);\n\n                this.updateLayout();\n\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    getFirstVisibleRenderedItem(): CardElement | undefined {\n        if (this.renderedElement && this._renderedPages?.length > 0) {\n            return this._renderedPages[0];\n        } else {\n            return undefined;\n        }\n    }\n\n    getLastVisibleRenderedItem(): CardElement | undefined {\n        if (this.renderedElement && this._renderedPages?.length > 0) {\n            return this._renderedPages[this._renderedPages.length - 1];\n        } else {\n            return undefined;\n        }\n    }\n\n    get currentPageId(): string | undefined {\n        if (this._carousel?.slides?.length) {\n            const activeSlide = this._carousel.slides[this._carousel.activeIndex] as HTMLElement;\n            return activeSlide.id;\n        }\n        return undefined;\n    }\n\n    get currentPageIndex(): number | undefined {\n        return this._carousel?.realIndex;\n    }\n\n    protected internalParse(source: any, context: SerializationContext) {\n        super.internalParse(source, context);\n\n        this._pages = [];\n\n        const jsonPages = source[\"pages\"];\n        if (Array.isArray(jsonPages)) {\n            for (const item of jsonPages) {\n                const page = this.createCarouselPageInstance(item, context);\n                if (page) {\n                    this._pages.push(page);\n                }\n            }\n        }\n\n        // everything is parsed do validate on initial page index\n        this.validateParsing(context);\n    }\n\n    private validateParsing(context: SerializationContext) {\n        if (!this.isValidParsedPageIndex(this.initialPageIndex)) {\n            context.logParseEvent(\n                this,\n                Enums.ValidationEvent.InvalidPropertyValue,\n                Strings.errors.invalidInitialPageIndex(this.initialPageIndex)\n            );\n        }\n    }\n\n    protected internalToJSON(target: PropertyBag, context: SerializationContext) {\n        super.internalToJSON(target, context);\n\n        context.serializeArray(target, \"pages\", this._pages);\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        this._renderedPages = [];\n\n        if (this._pages.length <= 0) {\n            return undefined;\n        }\n\n        this.validateOrientationProperties();\n\n        const cardLevelContainer: HTMLElement = document.createElement(\"div\");\n        cardLevelContainer.className = this.hostConfig.makeCssClassName(\"ac-carousel-card-level-container\");\n\n        const carouselContainer: HTMLElement = document.createElement(\"div\");\n        carouselContainer.className = this.hostConfig.makeCssClassName(\"swiper\", \"ac-carousel\");\n        this._carouselPageContainer = carouselContainer;\n\n        const containerForAdorners: HTMLElement = document.createElement(\"div\");\n        containerForAdorners.className = this.hostConfig.makeCssClassName(\"ac-carousel-container\");\n        this._containerForAdorners = containerForAdorners;\n\n        cardLevelContainer.appendChild(containerForAdorners);\n\n        const carouselWrapper: HTMLElement = document.createElement(\"div\");\n        carouselWrapper.className = this.hostConfig.makeCssClassName(\n            \"swiper-wrapper\",\n            \"ac-carousel-card-container\"\n        );\n        carouselWrapper.style.display = \"flex\";\n\n        switch (this.getEffectiveVerticalContentAlignment()) {\n            case Enums.VerticalAlignment.Top:\n                carouselWrapper.style.alignItems = \"flex-start\";\n                break;\n            case Enums.VerticalAlignment.Bottom:\n                carouselWrapper.style.alignItems = \"flex-end\";\n                break;\n            default:\n                carouselWrapper.style.alignItems = \"center\";\n                break;\n        }\n\n        if (GlobalSettings.useAdvancedCardBottomTruncation) {\n            // Forces the container to be at least as tall as its content.\n            //\n            // Fixes a quirk in Chrome where, for nested flex elements, the\n            // inner element's height would never exceed the outer element's\n            // height. This caused overflow truncation to break -- containers\n            // would always be measured as not overflowing, since their heights\n            // were constrained by their parents as opposed to truly reflecting\n            // the height of their content.\n            //\n            // See the \"Browser Rendering Notes\" section of this answer:\n            // https://stackoverflow.com/questions/36247140/why-doesnt-flex-item-shrink-past-content-size\n            carouselWrapper.style.minHeight = \"-webkit-min-content\";\n        }\n\n        const navigationContainer: HTMLElement = document.createElement(\"div\");\n        navigationContainer.className = this.hostConfig.makeCssClassName(\"ac-carousel-navigation\");\n\n        const prevElementDiv: HTMLElement = document.createElement(\"div\");\n        prevElementDiv.className = this.hostConfig.makeCssClassName(\n            \"swiper-button-prev\"\n        );\n\n        const nextElementDiv: HTMLElement = document.createElement(\"div\");\n        nextElementDiv.className = this.hostConfig.makeCssClassName(\n            \"swiper-button-next\"\n        );\n\n        if (this.carouselOrientation === Enums.Orientation.Horizontal) {\n            this.updateCssForHorizontalCarousel(prevElementDiv, nextElementDiv);\n        } else {\n            this.updateCssForVerticalCarousel(navigationContainer, prevElementDiv, nextElementDiv);\n        }\n\n        const pagination: HTMLElement = document.createElement(\"div\");\n        pagination.className = this.hostConfig.makeCssClassName(\n            \"swiper-pagination\",\n            \"ac-carousel-pagination\"\n        );\n\n        navigationContainer.appendChild(prevElementDiv);\n        Utils.addCancelSelectActionEventHandler(prevElementDiv);\n\n        navigationContainer.appendChild(pagination);\n        Utils.addCancelSelectActionEventHandler(pagination);\n\n        navigationContainer.appendChild(nextElementDiv);\n        Utils.addCancelSelectActionEventHandler(nextElementDiv);\n\n        if (this.isDesignMode()) {\n            // If we are in design mode, we need to ensure these elements are in front of the peers\n            prevElementDiv.style.zIndex = \"20\";\n            nextElementDiv.style.zIndex = \"20\";\n            pagination.style.zIndex = \"20\";\n        }\n\n        const requestedNumberOfPages: number = Math.min(\n            this._pages.length,\n            this.hostConfig.carousel.maxCarouselPages\n        );\n        if (this._pages.length > this.hostConfig.carousel.maxCarouselPages) {\n            console.warn(Strings.errors.tooManyCarouselPages);\n        }\n\n        if (this._pages.length > 0) {\n            for (let i = 0; i < requestedNumberOfPages; i++) {\n                const page = this._pages[i];\n                const renderedItem = this.isElementAllowed(page) ? page.render() : undefined;\n                renderedItem?.classList.add(\"ac-carousel-page\");\n                renderedItem?.children[0]?.classList.add(\"ac-carousel-page-container\");\n\n                if (renderedItem) {\n                    Utils.appendChild(carouselWrapper, renderedItem);\n                    this._renderedPages.push(page);\n                }\n            }\n        }\n\n        carouselContainer.appendChild(carouselWrapper);\n\n        carouselContainer.tabIndex = this.isDesignMode() ? -1 : 0;\n\n        containerForAdorners.appendChild(carouselContainer);\n        containerForAdorners.appendChild(navigationContainer);\n\n        // `isRtl()` will set the correct value of rtl by reading the value from the parents\n        this.rtl = this.isRtl();\n        this.applyRTL(pagination);\n\n        if (!this.isDesignMode()) {\n            if (this.isValidRenderedPageIndex(this.initialPageIndex)) {\n                this._currentIndex = this.initialPageIndex;\n            } else {\n                console.warn(Strings.errors.invalidInitialPageIndex(this.initialPageIndex));\n                this._currentIndex = 0\n            }\n        }\n\n        this.initializeCarouselControl(\n            carouselContainer,\n            nextElementDiv,\n            prevElementDiv,\n            pagination,\n            this.rtl\n        );\n\n        return this._renderedPages.length > 0 ? cardLevelContainer : undefined;\n    }\n\n    applyRTL(pagination: HTMLElement) {\n        super.applyRTL(this._carouselPageContainer);\n        if (this.rtl) {\n            pagination.classList.add(this.hostConfig.makeCssClassName(\n                \"ac-carousel-pagination-rtl\"\n            ));\n        }\n    }\n\n    validateOrientationProperties() {\n        if (!this.carouselHeight) {\n            this.carouselOrientation = Enums.Orientation.Horizontal;\n        }\n    }\n\n    updateCssForHorizontalCarousel(\n        prevElementDiv: HTMLElement,\n        nextElementDiv: HTMLElement\n    ) {\n        prevElementDiv.classList.add(this.hostConfig.makeCssClassName(\n            \"ac-carousel-left\"\n        ));\n        nextElementDiv.classList.add(this.hostConfig.makeCssClassName(\n            \"ac-carousel-right\"\n        ));\n    }\n\n    updateCssForVerticalCarousel(\n        navigationContainer: HTMLElement,\n        prevElementDiv: HTMLElement,\n        nextElementDiv: HTMLElement\n    ) {\n        this._containerForAdorners.classList.add(this.hostConfig.makeCssClassName(\n            \"ac-carousel-container-vertical\"\n        ));\n        navigationContainer.classList.add(this.hostConfig.makeCssClassName(\n            \"ac-carousel-navigation-vertical\"\n        ))\n\n        prevElementDiv.classList.add(this.hostConfig.makeCssClassName(\n            \"ac-carousel-up\"\n        ));\n        nextElementDiv.classList.add(this.hostConfig.makeCssClassName(\n            \"ac-carousel-down\"\n        ));\n    }\n\n    private initializeCarouselControl(\n        carouselContainer: HTMLElement,\n        nextElement: HTMLElement,\n        prevElement: HTMLElement,\n        paginationElement: HTMLElement,\n        rtl: boolean | undefined\n    ): void {\n\n        const nextElementAdjustedForRtl = (rtl === undefined || !rtl ? nextElement : prevElement);\n        const prevElementAdjustedForRtl = (rtl === undefined || !rtl ? prevElement : nextElement);\n\n        const prevElementAdjustedForOrientation = (Enums.Orientation.Horizontal === this.carouselOrientation) ? prevElementAdjustedForRtl : prevElement;\n        const nextElementAdjustedForOrientation = (Enums.Orientation.Horizontal === this.carouselOrientation) ? nextElementAdjustedForRtl : nextElement;\n\n        const swiperOptions: SwiperOptions = {\n            loop: !this.isDesignMode() && this.carouselLoop,\n            modules: [Navigation, Pagination, Scrollbar, A11y, History, Keyboard],\n            pagination: {\n                el: paginationElement,\n                clickable: true\n            },\n            navigation: {\n                prevEl: prevElementAdjustedForOrientation,\n                nextEl: nextElementAdjustedForOrientation\n            },\n            a11y: {\n                enabled: true\n            },\n            keyboard: {\n                enabled: false,\n                onlyInViewport: true\n            },\n            direction: this.carouselOrientation === Enums.Orientation.Horizontal ? \"horizontal\" : \"vertical\",\n            resizeObserver: false,\n            initialSlide: this._currentIndex\n        };\n\n        if (this.timer && !this.isDesignMode()) {\n            swiperOptions.modules?.push(Autoplay);\n            swiperOptions.autoplay = { delay: this.timer, pauseOnMouseEnter: true };\n        }\n\n        const carousel: Swiper = new Swiper(carouselContainer, swiperOptions);\n\n        // While the 'pauseOnMouseEnter' option should resume autoplay on\n        // mouse exit it doesn't do it, so adding custom events to handle it\n\n        carouselContainer.addEventListener(\"mouseenter\", function (_event) {\n            carousel.autoplay?.stop();\n        });\n\n        carouselContainer.addEventListener(\"mouseleave\", function (_event) {\n            carousel.autoplay?.start();\n        });\n\n        carousel.on('navigationNext',  (swiper: Swiper) => {\n            this.raiseCarouselEvent(Enums.CarouselInteractionEvent.NavigationNext);\n        });\n\n        carousel.on('navigationPrev',  (swiper: Swiper) => {\n            this.raiseCarouselEvent(Enums.CarouselInteractionEvent.NavigationPrevious);\n        });\n\n        carousel.on('slideChangeTransitionEnd',  (swiper: Swiper) => {\n            this.currentIndex = swiper.realIndex;\n            this.raiseCarouselEvent(Enums.CarouselInteractionEvent.Pagination); \n        });\n\n        carousel.on('autoplay',  () => {\n            this.raiseCarouselEvent(Enums.CarouselInteractionEvent.Autoplay);\n        });\n\n        carousel.on('paginationRender', (swiper, paginationEl) => {\n            swiper.pagination.bullets.forEach((bullet, index) => {\n                bullet.addEventListener(\"keypress\", function(event : KeyboardEvent) {\n                    if (event.key == \"Enter\") {\n                        event.preventDefault();\n                        swiper.slideTo(index + 1);\n                    }\n                });\n            });\n        });\n\n        carousel.on('destroy', () => {\n            this.destroyResizeObserver();\n        });\n\n        prevElement.title = prevElement.ariaLabel ?? Strings.defaults.carouselNavigationPreviousTooltip();\n\n        nextElement.title = nextElement.ariaLabel ?? Strings.defaults.carouselNavigationNextTooltip();\n\n        this._carousel = carousel;\n\n        this.createResizeObserver();\n    }\n\n    private createCarouselPageInstance(\n        source: any,\n        context: SerializationContext\n    ): CarouselPage | undefined {\n        return context.parseCardObject<CarouselPage>(\n            this,\n            source,\n            this.forbiddenChildElements(),\n            !this.isDesignMode(),\n            (typeName: string) => {\n                return !typeName || typeName === \"CarouselPage\" ? new CarouselPage() : undefined;\n            },\n            (typeName: string, _errorType: TypeErrorType) => {\n                context.logParseEvent(\n                    undefined,\n                    ValidationEvent.ElementTypeNotAllowed,\n                    Strings.errors.elementTypeNotAllowed(typeName)\n                );\n            }\n        );\n    }\n\n    slideTo(index: number) {\n        this._carousel?.slideTo(index);\n    }\n\n    get carouselPageContainer() {\n        return this._carouselPageContainer;\n    }\n\n    get currentIndex(): number {\n        return this._currentIndex;\n    }\n\n    set currentIndex(currentIndex: number) {\n        this._currentIndex = currentIndex;\n    }\n\n    private createCarouselEvent (type : Enums.CarouselInteractionEvent): CarouselEvent\n    {\n        let currentPageId : string | undefined;\n        if (this.currentPageIndex != undefined) {\n            currentPageId = this.getItemAt(this.currentPageIndex).id;\n        }\n        return new CarouselEvent(type, this.id, currentPageId, this.currentPageIndex);   \n    }\n\n    private raiseCarouselEvent(eventType : Enums.CarouselInteractionEvent) {\n        const card = this.parent ? (this.parent.getRootElement() as AdaptiveCard) : undefined;\n        const onCarouselEventHandler = \n            card && card.onCarouselEvent\n                ? card.onCarouselEvent\n                : AdaptiveCard.onCarouselEvent;\n        // pagination event is triggered on slide transition end event \n        if (onCarouselEventHandler && eventType == Enums.CarouselInteractionEvent.Pagination) {\n        // returns the event type that causes slide transition\n            onCarouselEventHandler(this.createCarouselEvent(this.previousEventType));\n        }\n        this.previousEventType = eventType;\n    }\n\n    /// Swiper version 8 added requestAnimationFrame() call in its resize observer code\n    /// The new call causes flickering issue,\n    /// We've copied resize observer code from Swiper version 7 with some modifications\n    private createResizeObserver() : void {\n\n        if (!this.checkIfCarouselInValidStateForResizeEvent()) {\n            return;\n        }\n\n        this._observer = new ResizeObserver((entries) => {\n            const width = this._carousel?.width;\n            const height = this._carousel?.height;\n            let newWidth = width;\n            let newHeight = height;\n            entries.forEach(({ contentBoxSize, contentRect, target }) => {\n            if (target && target !== this._carousel?.el) {\n                return;\n            }\n\n            newWidth = contentRect\n                ? contentRect.width\n                : (contentBoxSize[0] || contentBoxSize).inlineSize;\n\n            newHeight = contentRect\n                ? contentRect.height\n                : (contentBoxSize[0] || contentBoxSize).blockSize;\n            });\n\n            if (newWidth !== width || newHeight !== height) {\n                if (this.checkIfCarouselInValidStateForResizeEvent()) {\n                    this._carousel?.emit('beforeResize');\n                    this._carousel?.emit('resize');\n                }\n            }\n\n        });\n\n        this._observer.observe(this._carousel?.el!);\n    }\n\n    private destroyResizeObserver(): void {\n        if (this._observer && this._observer.unobserve && this._carousel?.el) {\n            this._observer.unobserve(this._carousel.el);\n            this._observer = null;\n        }\n    };\n\n    private checkIfCarouselInValidStateForResizeEvent()\n    {\n        return this._carousel && !this._carousel.destroyed;\n    }\n}\n\nexport class CarouselEvent {\n    constructor(public type : Enums.CarouselInteractionEvent,\n        public carouselId : string | undefined,\n        public activeCarouselPageId : string | undefined,\n        public activeCarouselPageIndex : number | undefined) {}\n}\n\nGlobalRegistry.defaultElements.register(\n    \"Carousel\",\n    Carousel,\n    Versions.v1_6\n);\n\n","// Copyright (C) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport { ActivityResponse, IActivityRequest } from \"./activity-request\";\n\nexport abstract class ChannelAdapter {\n    abstract sendRequestAsync(request: IActivityRequest): Promise<ActivityResponse>;\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nexport class Collection<TItem> {\n    private _items: Array<TItem> = [];\n\n    onItemAdded: (item: TItem) => void;\n    onItemRemoved: (item: TItem) => void;\n\n    get(index: number): TItem {\n        return this._items[index];\n    }\n\n    add(item: TItem) {\n        this._items.push(item);\n\n        if (this.onItemAdded) {\n            this.onItemAdded(item);\n        }\n    }\n\n    remove(item: TItem) {\n        const i = this._items.indexOf(item);\n\n        if (i >= 0) {\n            this._items = this._items.splice(i, 1);\n\n            if (this.onItemRemoved) {\n                this.onItemRemoved(item);\n            }\n        }\n    }\n\n    indexOf(item: TItem): number {\n        return this._items.indexOf(item);\n    }\n\n    get length(): number {\n        return this._items.length;\n    }\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\n// eslint-disable-next-line @typescript-eslint/no-extraneous-class\nexport class Constants {\n    static readonly keys = {\n        tab: \"Tab\",\n        enter: \"Enter\",\n        escape: \"Escape\",\n        space: \" \",\n        up: \"ArrowUp\",\n        down: \"ArrowDown\",\n        delete: \"Delete\"\n    } as const;\n}\n","// Copyright (C) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nexport * from \"./menu-item\";\nexport * from \"./popup-menu\";\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport { defaultHostConfig, HostConfig } from \"../host-config\";\nimport { Constants } from \"./constants\";\n\nexport class MenuItem {\n    private _hostConfig?: HostConfig;\n    private _element: HTMLElement;\n    private _value: string;\n    private _iconUrl: string | undefined;\n    private _isEnabled: boolean = true;\n\n    private click() {\n        if (this.isEnabled && this.onClick) {\n            this.onClick(this);\n        }\n    }\n\n    private updateCssClasses() {\n        if (this._element) {\n            const effectiveHostConfig = this._hostConfig ? this._hostConfig : defaultHostConfig;\n\n            this._element.className = effectiveHostConfig.makeCssClassName(\"ac-ctrl\");\n            this._element.classList.add(\n                effectiveHostConfig.makeCssClassName(\n                    this.isEnabled ? \"ac-ctrl-dropdown-item\" : \"ac-ctrl-dropdown-item-disabled\"\n                )\n            );\n\n            if (!this.isEnabled) {\n                this._element.classList.add(effectiveHostConfig.makeCssClassName(\"ac-disabled\"));\n            }\n        }\n    }\n\n    readonly key: string;\n\n    onClick?: (item: MenuItem) => void;\n\n    constructor(key: string, value: string, iconUrl?: string) {\n        this.key = key;\n        this._value = value;\n        this._iconUrl = iconUrl;\n    }\n\n    toString(): string {\n        return this.value;\n    }\n\n    render(hostConfig?: HostConfig): HTMLElement {\n        this._hostConfig = hostConfig;\n\n        if (!this._element) {\n            this._element = document.createElement(\"span\");\n            this._element.setAttribute(\"role\", \"menuitem\");\n            this._element.style.display = \"flex\";\n            this._element.style.alignItems = \"center\";\n            this._element.style.justifyContent = \"left\";\n\n            if (!this.isEnabled) {\n                this._element.setAttribute(\"aria-disabled\", \"true\");\n            }\n\n            if (this._iconUrl && this._hostConfig?.actions.showIconInOverflow) {\n                const iconSize = this._hostConfig?.actions.iconSize ?? 16;\n\n                const iconElement = document.createElement(\"img\");\n                iconElement.style.width = iconSize + \"px\";\n                iconElement.style.height = iconSize + \"px\";\n                iconElement.style.marginRight = \"6px\";\n                iconElement.setAttribute(\"role\", \"presentation\");\n                iconElement.src = this._iconUrl;\n                this._element.appendChild(iconElement);\n            }\n\n            const textElement = document.createElement(\"span\");\n            textElement.style.flex = \"0 1 auto\";\n            textElement.innerText = this.value;\n            this._element.appendChild(textElement);\n\n            this._element.setAttribute(\"aria-current\", \"false\");\n            this._element.onmouseup = (_e) => {\n                this.click();\n            };\n            this._element.onkeydown = (e) => {\n                if (e.key === Constants.keys.enter) {\n                    e.stopPropagation();\n                    e.preventDefault();\n                    this.click();\n                }\n            };\n\n            this.updateCssClasses();\n        }\n\n        return this._element;\n    }\n\n    get value(): string {\n        return this._value;\n    }\n\n    set value(newValue: string) {\n        this._value = newValue;\n\n        if (this._element) {\n            this._element.innerText = newValue;\n        }\n    }\n\n    get isEnabled(): boolean {\n        return this._isEnabled;\n    }\n\n    set isEnabled(value: boolean) {\n        if (this._isEnabled !== value) {\n            this._isEnabled = value;\n\n            this.updateCssClasses();\n        }\n    }\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport { Constants } from \"./constants\";\nimport * as Utils from \"../utils\";\nimport { defaultHostConfig, HostConfig } from \"../host-config\";\n\nexport abstract class PopupControl {\n    private _isOpen: boolean = false;\n    private _overlayElement: HTMLElement;\n    private _popupElement: HTMLElement;\n    private _hostConfig?: HostConfig;\n\n    protected abstract renderContent(): HTMLElement;\n\n    onClose: (popupControl: PopupControl, wasCancelled: boolean) => void;\n\n    keyDown(e: KeyboardEvent) {\n        switch (e.key) {\n            case Constants.keys.escape:\n                this.closePopup(true);\n\n                break;\n        }\n    }\n\n    render(_rootElementBounds: ClientRect): HTMLElement {\n        const element = document.createElement(\"div\");\n        element.tabIndex = 0;\n        element.className = this.hostConfig.makeCssClassName(\"ac-ctrl\", \"ac-ctrl-popup-container\");\n        element.setAttribute(\"role\", \"dialog\");\n        element.setAttribute(\"aria-modal\", \"true\");\n        element.onkeydown = (e) => {\n            this.keyDown(e);\n\n            return !e.cancelBubble;\n        };\n\n        element.appendChild(this.renderContent());\n\n        return element;\n    }\n\n    focus() {\n        if (this._popupElement) {\n            (<HTMLElement>this._popupElement.firstElementChild).focus();\n        }\n    }\n\n    popup(rootElement: HTMLElement) {\n        if (!this._isOpen) {\n            this._overlayElement = document.createElement(\"div\");\n            this._overlayElement.className = this.hostConfig.makeCssClassName(\"ac-ctrl-overlay\");\n            this._overlayElement.tabIndex = 0;\n            this._overlayElement.style.width = document.documentElement.scrollWidth + \"px\";\n            this._overlayElement.style.height = document.documentElement.scrollHeight + \"px\";\n            this._overlayElement.onfocus = (_e) => {\n                this.closePopup(true);\n            };\n\n            document.body.appendChild(this._overlayElement);\n\n            const rootElementBounds = rootElement.getBoundingClientRect();\n\n            this._popupElement = this.render(rootElementBounds);\n            this._popupElement.classList.remove(\n                ...this.hostConfig.makeCssClassNames(\n                    \"ac-ctrl-slide\",\n                    \"ac-ctrl-slideLeftToRight\",\n                    \"ac-ctrl-slideRightToLeft\",\n                    \"ac-ctrl-slideTopToBottom\",\n                    \"ac-ctrl-slideRightToLeft\"\n                )\n            );\n\n            window.addEventListener(\"resize\", (_e) => {\n                this.closePopup(true);\n            });\n\n            const rootElementLabel = rootElement.getAttribute(\"aria-label\");\n            if (rootElementLabel) {\n                this._popupElement.setAttribute(\"aria-label\", rootElementLabel);\n            }\n\n            this._overlayElement.appendChild(this._popupElement);\n\n            const popupElementBounds = this._popupElement.getBoundingClientRect();\n\n            const availableSpaceBelow = window.innerHeight - rootElementBounds.bottom;\n            const availableSpaceAbove = rootElementBounds.top;\n            const availableSpaceRight = window.innerWidth - rootElementBounds.right;\n            const availableSpaceLeft = rootElementBounds.left;\n\n            let left = rootElementBounds.left + Utils.getScrollX();\n            let top;\n\n            if (\n                availableSpaceAbove < popupElementBounds.height &&\n                availableSpaceBelow < popupElementBounds.height\n            ) {\n                // Not enough space above or below root element\n                const actualPopupHeight = Math.min(popupElementBounds.height, window.innerHeight);\n\n                this._popupElement.style.maxHeight = actualPopupHeight + \"px\";\n\n                if (actualPopupHeight < popupElementBounds.height) {\n                    top = Utils.getScrollY();\n                } else {\n                    top =\n                        Utils.getScrollY() +\n                        rootElementBounds.top +\n                        (rootElementBounds.height - actualPopupHeight) / 2;\n                }\n\n                if (\n                    availableSpaceLeft < popupElementBounds.width &&\n                    availableSpaceRight < popupElementBounds.width\n                ) {\n                    // Not enough space left or right of root element\n                    const actualPopupWidth = Math.min(popupElementBounds.width, window.innerWidth);\n\n                    this._popupElement.style.maxWidth = actualPopupWidth + \"px\";\n\n                    if (actualPopupWidth < popupElementBounds.width) {\n                        left = Utils.getScrollX();\n                    } else {\n                        left =\n                            Utils.getScrollX() +\n                            rootElementBounds.left +\n                            (rootElementBounds.width - actualPopupWidth) / 2;\n                    }\n                } else {\n                    // Enough space on the left or right of the root element\n                    if (availableSpaceRight >= popupElementBounds.width) {\n                        left = Utils.getScrollX() + rootElementBounds.right;\n\n                        this._popupElement.classList.add(\n                            ...this.hostConfig.makeCssClassNames(\n                                \"ac-ctrl-slide\",\n                                \"ac-ctrl-slideLeftToRight\"\n                            )\n                        );\n                    } else {\n                        left =\n                            Utils.getScrollX() + rootElementBounds.left - popupElementBounds.width;\n\n                        this._popupElement.classList.add(\n                            ...this.hostConfig.makeCssClassNames(\n                                \"ac-ctrl-slide\",\n                                \"ac-ctrl-slideRightToLeft\"\n                            )\n                        );\n                    }\n                }\n            } else {\n                // Enough space above or below root element\n                if (availableSpaceBelow >= popupElementBounds.height) {\n                    top = Utils.getScrollY() + rootElementBounds.bottom;\n\n                    this._popupElement.classList.add(\n                        ...this.hostConfig.makeCssClassNames(\n                            \"ac-ctrl-slide\",\n                            \"ac-ctrl-slideTopToBottom\"\n                        )\n                    );\n                } else {\n                    top = Utils.getScrollY() + rootElementBounds.top - popupElementBounds.height;\n\n                    this._popupElement.classList.add(\n                        ...this.hostConfig.makeCssClassNames(\n                            \"ac-ctrl-slide\",\n                            \"ac-ctrl-slideBottomToTop\"\n                        )\n                    );\n                }\n\n                if (availableSpaceRight < popupElementBounds.width) {\n                    left = Utils.getScrollX() + rootElementBounds.right - popupElementBounds.width;\n                }\n            }\n\n            this._popupElement.style.left = left + \"px\";\n            this._popupElement.style.top = top + \"px\";\n\n            this._popupElement.focus();\n\n            this._isOpen = true;\n        }\n    }\n\n    closePopup(wasCancelled: boolean) {\n        if (this._isOpen) {\n            document.body.removeChild(this._overlayElement);\n\n            this._isOpen = false;\n\n            if (this.onClose) {\n                this.onClose(this, wasCancelled);\n            }\n        }\n    }\n\n    get hostConfig(): HostConfig {\n        return this._hostConfig ? this._hostConfig : defaultHostConfig;\n    }\n\n    set hostConfig(value: HostConfig) {\n        this._hostConfig = value;\n    }\n\n    get isOpen(): boolean {\n        return this._isOpen;\n    }\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport { Constants } from \"./constants\";\nimport { Collection } from \"./collection\";\nimport { PopupControl } from \"./popup-control\";\nimport { MenuItem } from \"./menu-item\";\n\nexport class PopupMenu extends PopupControl {\n    private _items: Collection<MenuItem> = new Collection<MenuItem>();\n    private _renderedItems: Array<HTMLElement> = [];\n    private _selectedIndex: number = -1;\n\n    protected renderContent(): HTMLElement {\n        const element = document.createElement(\"div\");\n        element.className = this.hostConfig.makeCssClassName(\"ac-ctrl ac-popup\");\n        element.setAttribute(\"role\", \"menu\");\n\n        for (let i = 0; i < this._items.length; i++) {\n            const renderedItem = this._items.get(i).render(this.hostConfig);\n            renderedItem.tabIndex = 0;\n\n            element.appendChild(renderedItem);\n\n            if (i == 0)\n            {\n                renderedItem.setAttribute(\"aria-expanded\", \"true\");\n            }\n\n            if (i === this.selectedIndex) {\n                renderedItem.focus();\n            }\n\n            this._renderedItems.push(renderedItem);\n        }\n\n        return element;\n    }\n\n    keyDown(e: KeyboardEvent) {\n        super.keyDown(e);\n\n        let selectedItemIndex = this._selectedIndex;\n\n        switch (e.key) {\n            case Constants.keys.tab:\n                this.closePopup(true);\n\n                break;\n            /*\n            case Constants.keys.enter:\n                if (this.selectedIndex >= 0) {\n                    this.selectedIndex = this.selectedIndex;\n\n                    this.close();\n                }\n\n                break;\n            */\n            case Constants.keys.up:\n                if (selectedItemIndex <= 0) {\n                    selectedItemIndex = this._renderedItems.length - 1;\n                } else {\n                    selectedItemIndex--;\n\n                    if (selectedItemIndex < 0) {\n                        selectedItemIndex = this._renderedItems.length - 1;\n                    }\n                }\n\n                this.selectedIndex = selectedItemIndex;\n                this.removeAriaExpanded(selectedItemIndex);\n\n                e.cancelBubble = true;\n\n                break;\n            case Constants.keys.down:\n                if (selectedItemIndex < 0) {\n                    selectedItemIndex = 0;\n                } else {\n                    selectedItemIndex++;\n\n                    if (selectedItemIndex >= this._renderedItems.length) {\n                        selectedItemIndex = 0;\n                    }\n                    this.removeAriaExpanded(selectedItemIndex);\n                }\n\n                this.selectedIndex = selectedItemIndex;\n\n                e.cancelBubble = true;\n\n                break;\n        }\n    }\n\n    get items(): Collection<MenuItem> {\n        return this._items;\n    }\n\n    get selectedIndex(): number {\n        return this._selectedIndex;\n    }\n\n    set selectedIndex(index: number) {\n        if (index >= 0 && index < this._renderedItems.length) {\n            this._renderedItems[index].focus();\n\n            this._selectedIndex = index;\n        }\n    }\n\n    // remove aria-expanded attribute from menu item\n    private removeAriaExpanded(index: number) {\n        if (this._renderedItems[index].getAttribute(\"aria-expanded\") === \"true\") {\n            this._renderedItems[index].removeAttribute(\"aria-expanded\");\n        }\n    }\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\n/*\n    This should really be a string enum, e.g.\n\n        export enum ContainerStyle {\n            Default = \"default\",\n            Emphasis = \"emphasis\"\n        }\n\n    However, some hosts do not use a version of TypeScript\n    recent enough to understand string enums. This is\n    a compatible construct that does not require using\n    a more recent version of TypeScript.\n\n    Also note the \"weird\" way these readonly fields are declared is to work around\n    a breaking change introduced in TS 3.1 wrt d.ts generation. DO NOT CHANGE\n    and adopt this syntax for all other static readonly fields.\n*/\n/* eslint-disable @typescript-eslint/no-extraneous-class, @typescript-eslint/naming-convention */\nexport class ContainerStyle {\n    static readonly Default: \"default\" = \"default\";\n    static readonly Emphasis: \"emphasis\" = \"emphasis\";\n    static readonly Accent: \"accent\" = \"accent\";\n    static readonly Good: \"good\" = \"good\";\n    static readonly Attention: \"attention\" = \"attention\";\n    static readonly Warning: \"warning\" = \"warning\";\n}\n\nexport class ActionStyle {\n    static readonly Default: \"default\" = \"default\";\n    static readonly Positive: \"positive\" = \"positive\";\n    static readonly Destructive: \"destructive\" = \"destructive\";\n}\n\nexport class ActionMode {\n    static readonly Primary: \"primary\" = \"primary\";\n    static readonly Secondary: \"secondary\" = \"secondary\";\n}\n/* eslint-enable @typescript-eslint/no-extraneous-class, @typescript-eslint/naming-convention */\n\nexport enum Size {\n    Auto,\n    Stretch,\n    Small,\n    Medium,\n    Large\n}\n\nexport enum ImageSize {\n    Small,\n    Medium,\n    Large\n}\n\nexport enum ImageSetPresentationStyle {\n    Default,\n    Stacked,\n    Grid\n}\n\nexport enum SizeUnit {\n    Weight,\n    Pixel\n}\n\nexport enum TextSize {\n    Small,\n    Default,\n    Medium,\n    Large,\n    ExtraLarge\n}\n\nexport enum InputStyle {\n    RevealOnHover,\n    Default\n}\n\nexport enum TextWeight {\n    Lighter,\n    Default,\n    Bolder\n}\n\nexport enum FontType {\n    Default,\n    Monospace\n}\n\nexport enum Spacing {\n    None,\n    Small,\n    Default,\n    Medium,\n    Large,\n    ExtraLarge,\n    Padding\n}\n\nexport enum TextColor {\n    Default,\n    Dark,\n    Light,\n    Accent,\n    Good,\n    Warning,\n    Attention\n}\n\nexport enum HorizontalAlignment {\n    Left,\n    Center,\n    Right\n}\n\nexport enum VerticalAlignment {\n    Top,\n    Center,\n    Bottom\n}\n\nexport enum ActionAlignment {\n    Left,\n    Center,\n    Right,\n    Stretch\n}\n\nexport enum ImageStyle {\n    Default,\n    Person\n}\n\nexport enum ShowCardActionMode {\n    Inline,\n    Popup\n}\n\nexport enum Orientation {\n    Horizontal,\n    Vertical\n}\n\nexport enum FillMode {\n    Cover,\n    RepeatHorizontally,\n    RepeatVertically,\n    Repeat\n}\n\nexport enum ActionIconPlacement {\n    LeftOfTitle,\n    AboveTitle\n}\n\nexport enum InputTextStyle {\n    Text,\n    Tel,\n    Url,\n    Email,\n    Password\n}\n\nexport enum InputLabelPosition {\n    Inline,\n    Above\n}\n\nexport enum ValidationPhase {\n    Parse,\n    ToJSON,\n    Validation\n}\n\nexport enum ValidationEvent {\n    Hint,\n    ActionTypeNotAllowed,\n    CollectionCantBeEmpty,\n    Deprecated,\n    ElementTypeNotAllowed,\n    InteractivityNotAllowed,\n    InvalidPropertyValue,\n    MissingCardType,\n    PropertyCantBeNull,\n    TooManyActions,\n    UnknownActionType,\n    UnknownElementType,\n    UnsupportedCardVersion,\n    DuplicateId,\n    UnsupportedProperty,\n    RequiredInputsShouldHaveLabel,\n    RequiredInputsShouldHaveErrorMessage,\n    Other\n}\n\nexport enum ContainerFitStatus {\n    FullyInContainer,\n    Overflowing,\n    FullyOutOfContainer\n}\n\nexport enum TypeErrorType {\n    UnknownType,\n    ForbiddenType\n}\n\nexport enum RefreshMode {\n    Disabled,\n    Manual,\n    Automatic\n}\n\nexport enum LogLevel {\n    Info,\n    Warning,\n    Error\n}\n\nexport enum CarouselInteractionEvent {\n    NavigationNext,\n    NavigationPrevious,\n    Pagination,\n    Autoplay\n}\n\nexport enum ActionRole {\n    Button,\n    Link,\n    Tab,\n    Menu,\n    MenuItem\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport {\n    TargetVersion,\n    Version,\n    SerializableObject,\n    BaseSerializationContext,\n    PropertyBag\n} from \"./serialization\";\n\nexport class HostCapabilities extends SerializableObject {\n    private _capabilities: { [key: string]: TargetVersion } = {};\n\n    protected getSchemaKey(): string {\n        return \"HostCapabilities\";\n    }\n\n    protected internalParse(source: any, context: BaseSerializationContext) {\n        super.internalParse(source, context);\n\n        if (source) {\n            // eslint-disable-next-line guard-for-in\n            for (const name in source) {\n                const jsonVersion = source[name];\n\n                if (typeof jsonVersion === \"string\") {\n                    if (jsonVersion === \"*\") {\n                        this.addCapability(name, \"*\");\n                    } else {\n                        const version = Version.parse(jsonVersion, context);\n\n                        if (version?.isValid) {\n                            this.addCapability(name, version);\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    protected internalToJSON(target: PropertyBag, context: BaseSerializationContext) {\n        super.internalToJSON(target, context);\n\n        // eslint-disable-next-line guard-for-in\n        for (const key in this._capabilities) {\n            target[key] = this._capabilities[key];\n        }\n    }\n\n    addCapability(name: string, version: TargetVersion) {\n        this._capabilities[name] = version;\n    }\n\n    removeCapability(name: string) {\n        delete this._capabilities[name];\n    }\n\n    clear() {\n        this._capabilities = {};\n    }\n\n    hasCapability(name: string, version: TargetVersion): boolean {\n        if (this._capabilities.hasOwnProperty(name)) {\n            if (version === \"*\" || this._capabilities[name] === \"*\") {\n                return true;\n            }\n\n            return version.compareTo(<Version>this._capabilities[name]) <= 0;\n        }\n\n        return false;\n    }\n\n    areAllMet(hostCapabilities: HostCapabilities): boolean {\n        for (const capabilityName in this._capabilities) {\n            if (\n                !hostCapabilities.hasCapability(capabilityName, this._capabilities[capabilityName])\n            ) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport * as Enums from \"./enums\";\nimport * as Utils from \"./utils\";\nimport * as Shared from \"./shared\";\nimport { HostCapabilities } from \"./host-capabilities\";\n\nfunction parseHostConfigEnum(\n    targetEnum: { [s: number]: string },\n    value: string | number,\n    defaultValue: number\n): number {\n    if (typeof value === \"string\") {\n        const parsedValue = Utils.parseEnum(targetEnum, value, defaultValue);\n\n        return parsedValue !== undefined ? parsedValue : defaultValue;\n    } else if (typeof value === \"number\") {\n        return value;\n    } else {\n        return defaultValue;\n    }\n}\n\nexport class ColorDefinition {\n    default: string = \"#000000\";\n    subtle: string = \"#666666\";\n\n    constructor(defaultColor?: string, subtleColor?: string) {\n        if (defaultColor) {\n            this.default = defaultColor;\n        }\n\n        if (subtleColor) {\n            this.subtle = subtleColor;\n        }\n    }\n\n    parse(obj?: any) {\n        if (obj) {\n            this.default = obj[\"default\"] || this.default;\n            this.subtle = obj[\"subtle\"] || this.subtle;\n        }\n    }\n}\n\nexport class TextColorDefinition extends ColorDefinition {\n    readonly highlightColors = new ColorDefinition(\"#22000000\", \"#11000000\");\n\n    parse(obj?: any) {\n        super.parse(obj);\n\n        if (obj) {\n            this.highlightColors.parse(obj[\"highlightColors\"]);\n        }\n    }\n}\n\nexport class AdaptiveCardConfig {\n    allowCustomStyle: boolean = false;\n\n    constructor(obj?: any) {\n        if (obj) {\n            this.allowCustomStyle = obj[\"allowCustomStyle\"] || this.allowCustomStyle;\n        }\n    }\n}\n\nexport class ImageSetConfig {\n    imageSize: Enums.Size = Enums.Size.Medium;\n    maxImageHeight: number = 100;\n\n    constructor(obj?: any) {\n        if (obj) {\n            this.imageSize = obj[\"imageSize\"] != null ? obj[\"imageSize\"] : this.imageSize;\n            this.maxImageHeight = Utils.parseNumber(obj[\"maxImageHeight\"], 100)!;\n        }\n    }\n\n    toJSON() {\n        return {\n            imageSize: Enums.Size[this.imageSize],\n            maxImageHeight: this.maxImageHeight\n        };\n    }\n}\n\nexport class MediaConfig {\n    defaultPoster?: string;\n    allowInlinePlayback: boolean = true;\n\n    constructor(obj?: any) {\n        if (obj) {\n            this.defaultPoster = obj[\"defaultPoster\"];\n            this.allowInlinePlayback = obj[\"allowInlinePlayback\"] || this.allowInlinePlayback;\n        }\n    }\n\n    toJSON() {\n        return {\n            defaultPoster: this.defaultPoster,\n            allowInlinePlayback: this.allowInlinePlayback\n        };\n    }\n}\n\nexport class TableConfig {\n    cellSpacing: number = 8;\n\n    constructor(obj?: any) {\n        if (obj) {\n            this.cellSpacing =\n                obj.cellSpacing && typeof obj.cellSpacing === \"number\"\n                    ? obj.cellSpacing\n                    : this.cellSpacing;\n        }\n    }\n\n    toJSON() {\n        return {\n            cellSpacing: this.cellSpacing\n        };\n    }\n}\n\nexport class BaseTextDefinition {\n    size: Enums.TextSize = Enums.TextSize.Default;\n    color: Enums.TextColor = Enums.TextColor.Default;\n    isSubtle: boolean = false;\n    weight: Enums.TextWeight = Enums.TextWeight.Default;\n\n    constructor(obj?: any) {\n        this.parse(obj);\n    }\n\n    parse(obj: any) {\n        if (obj) {\n            this.size = parseHostConfigEnum(Enums.TextSize, obj[\"size\"], this.size);\n            this.color = parseHostConfigEnum(Enums.TextColor, obj[\"color\"], this.color);\n            this.isSubtle =\n                obj.isSubtle !== undefined && typeof obj.isSubtle === \"boolean\"\n                    ? obj.isSubtle\n                    : this.isSubtle;\n            this.weight = parseHostConfigEnum(\n                Enums.TextWeight,\n                obj[\"weight\"],\n                this.getDefaultWeight()\n            );\n        }\n    }\n\n    getDefaultWeight(): Enums.TextWeight {\n        return Enums.TextWeight.Default;\n    }\n\n    toJSON(): any {\n        return {\n            size: Enums.TextSize[this.size],\n            color: Enums.TextColor[this.color],\n            isSubtle: this.isSubtle,\n            weight: Enums.TextWeight[this.weight]\n        };\n    }\n}\n\nexport class TextStyleDefinition extends BaseTextDefinition {\n    fontType: Enums.FontType = Enums.FontType.Default;\n\n    parse(obj: any) {\n        super.parse(obj);\n\n        if (obj) {\n            this.fontType = parseHostConfigEnum(Enums.FontType, obj.fontType, this.fontType);\n        }\n    }\n}\n\nexport class TextStyleSet {\n    readonly default: TextStyleDefinition = new TextStyleDefinition();\n    readonly heading: TextStyleDefinition = new TextStyleDefinition({\n        size: \"Large\",\n        weight: \"Bolder\"\n    });\n    readonly columnHeader: TextStyleDefinition = new TextStyleDefinition({\n        weight: \"Bolder\"\n    });\n\n    constructor(obj?: any) {\n        if (obj) {\n            this.heading.parse(obj.heading);\n            this.columnHeader.parse(obj.columnHeader);\n        }\n    }\n\n    getStyleByName(name: string): TextStyleDefinition {\n        switch (name.toLowerCase()) {\n            case \"heading\":\n                return this.heading;\n            case \"columnHeader\":\n                return this.columnHeader;\n            default:\n                return this.default;\n        }\n    }\n}\n\nexport class TextBlockConfig {\n    headingLevel?: number;\n\n    constructor(obj?: any) {\n        if (obj) {\n            this.headingLevel = Utils.parseNumber(obj.headingLevel);\n        }\n    }\n}\n\nexport class RequiredInputLabelTextDefinition extends BaseTextDefinition {\n    suffix?: string = \" *\";\n    suffixColor: Enums.TextColor = Enums.TextColor.Attention;\n\n    parse(obj?: any) {\n        super.parse(obj);\n\n        if (obj) {\n            this.suffix = obj[\"suffix\"] || this.suffix;\n            this.suffixColor = parseHostConfigEnum(\n                Enums.TextColor,\n                obj[\"suffixColor\"],\n                this.suffixColor\n            );\n        }\n    }\n\n    toJSON(): any {\n        const result = super.toJSON();\n        result[\"suffix\"] = this.suffix;\n        result[\"suffixColor\"] = Enums.TextColor[this.suffixColor];\n\n        return result;\n    }\n}\n\nexport class InputLabelConfig {\n    inputSpacing: Enums.Spacing = Enums.Spacing.Small;\n    width: number = 30;\n    readonly requiredInputs: RequiredInputLabelTextDefinition =\n        new RequiredInputLabelTextDefinition();\n    readonly optionalInputs: BaseTextDefinition = new BaseTextDefinition();\n    \n    constructor(obj?: any) {\n        if (obj) {\n            this.inputSpacing = parseHostConfigEnum(\n                Enums.Spacing,\n                obj[\"inputSpacing\"],\n                this.inputSpacing\n            );\n            this.requiredInputs = new RequiredInputLabelTextDefinition(obj[\"requiredInputs\"]);\n            this.optionalInputs = new BaseTextDefinition(obj[\"optionalInputs\"]);\n            this.width =\n                obj[\"width\"] != null ? obj[\"width\"] : this.width;\n        }\n    }\n}\n\nexport class InputConfig {\n    readonly label: InputLabelConfig = new InputLabelConfig();\n    readonly errorMessage: BaseTextDefinition = new BaseTextDefinition({\n        color: Enums.TextColor.Attention\n    });\n    readonly debounceTimeInMilliSeconds: number = 0;\n    readonly allowDynamicallyFilteredChoiceSet: boolean = true;\n    readonly allowRevealOnHoverStyle: boolean = false;\n\n    constructor(obj?: any) {\n        if (obj) {\n            this.label = new InputLabelConfig(obj[\"label\"]);\n            this.errorMessage = new BaseTextDefinition(obj[\"errorMessage\"]);\n            this.allowRevealOnHoverStyle =\n                obj[\"allowRevealOnHoverStyle\"] || this.allowRevealOnHoverStyle;\n            this.allowDynamicallyFilteredChoiceSet =\n                obj[\"allowDynamicallyFilteredChoiceSet\"] || this.allowDynamicallyFilteredChoiceSet;\n            this.debounceTimeInMilliSeconds =\n                obj[\"debounceTimeInMilliSeconds\"] || this.debounceTimeInMilliSeconds;\n        }\n    }\n}\n\nexport class FactTextDefinition extends BaseTextDefinition {\n    wrap: boolean = true;\n\n    parse(obj?: any) {\n        super.parse(obj);\n\n        if (obj) {\n            this.wrap = obj[\"wrap\"] != null ? obj[\"wrap\"] : this.wrap;\n        }\n    }\n\n    toJSON(): any {\n        const result = super.toJSON();\n        result[\"wrap\"] = this.wrap;\n\n        return result;\n    }\n}\n\nexport class FactTitleDefinition extends FactTextDefinition {\n    maxWidth?: number = 150;\n    weight: Enums.TextWeight = Enums.TextWeight.Bolder;\n\n    constructor(obj?: any) {\n        super(obj);\n\n        if (obj) {\n            this.maxWidth = obj[\"maxWidth\"] != null ? obj[\"maxWidth\"] : this.maxWidth;\n            this.weight = parseHostConfigEnum(\n                Enums.TextWeight,\n                obj[\"weight\"],\n                Enums.TextWeight.Bolder\n            );\n        }\n    }\n\n    getDefaultWeight() {\n        return Enums.TextWeight.Bolder;\n    }\n}\n\nexport class FactSetConfig {\n    readonly title: FactTitleDefinition = new FactTitleDefinition();\n    readonly value: FactTextDefinition = new FactTextDefinition();\n    spacing: number = 10;\n\n    constructor(obj?: any) {\n        if (obj) {\n            this.title = new FactTitleDefinition(obj[\"title\"]);\n            this.value = new FactTextDefinition(obj[\"value\"]);\n            this.spacing =\n                obj.spacing && obj.spacing != null ? obj.spacing && obj.spacing : this.spacing;\n        }\n    }\n}\n\nexport class ShowCardActionConfig {\n    actionMode: Enums.ShowCardActionMode = Enums.ShowCardActionMode.Inline;\n    inlineTopMargin: number = 16;\n    style?: string = Enums.ContainerStyle.Emphasis;\n\n    constructor(obj?: any) {\n        if (obj) {\n            this.actionMode = parseHostConfigEnum(\n                Enums.ShowCardActionMode,\n                obj[\"actionMode\"],\n                Enums.ShowCardActionMode.Inline\n            );\n            this.inlineTopMargin =\n                obj[\"inlineTopMargin\"] != null ? obj[\"inlineTopMargin\"] : this.inlineTopMargin;\n            this.style =\n                obj[\"style\"] && typeof obj[\"style\"] === \"string\"\n                    ? obj[\"style\"]\n                    : Enums.ContainerStyle.Emphasis;\n        }\n    }\n\n    toJSON() {\n        return {\n            actionMode: Enums.ShowCardActionMode[this.actionMode],\n            inlineTopMargin: this.inlineTopMargin,\n            style: this.style\n        };\n    }\n}\n\nexport class ActionsConfig {\n    maxActions: number = 5;\n    spacing: Enums.Spacing = Enums.Spacing.Default;\n    buttonSpacing: number = 20;\n    readonly showCard: ShowCardActionConfig = new ShowCardActionConfig();\n    preExpandSingleShowCardAction?: boolean = false;\n    actionsOrientation: Enums.Orientation = Enums.Orientation.Horizontal;\n    actionAlignment: Enums.ActionAlignment = Enums.ActionAlignment.Left;\n    iconPlacement: Enums.ActionIconPlacement = Enums.ActionIconPlacement.LeftOfTitle;\n    allowTitleToWrap: boolean = false;\n    showIconInOverflow: boolean = false;\n    iconSize: number = 16;\n\n    constructor(obj?: any) {\n        if (obj) {\n            this.maxActions = obj[\"maxActions\"] != null ? obj[\"maxActions\"] : this.maxActions;\n            this.spacing = parseHostConfigEnum(\n                Enums.Spacing,\n                obj.spacing && obj.spacing,\n                Enums.Spacing.Default\n            );\n            this.buttonSpacing =\n                obj[\"buttonSpacing\"] != null ? obj[\"buttonSpacing\"] : this.buttonSpacing;\n            this.showCard = new ShowCardActionConfig(obj[\"showCard\"]);\n            this.preExpandSingleShowCardAction = Utils.parseBool(\n                obj[\"preExpandSingleShowCardAction\"],\n                false\n            );\n            this.actionsOrientation = parseHostConfigEnum(\n                Enums.Orientation,\n                obj[\"actionsOrientation\"],\n                Enums.Orientation.Horizontal\n            );\n            this.actionAlignment = parseHostConfigEnum(\n                Enums.ActionAlignment,\n                obj[\"actionAlignment\"],\n                Enums.ActionAlignment.Left\n            );\n            this.iconPlacement = parseHostConfigEnum(\n                Enums.ActionIconPlacement,\n                obj[\"iconPlacement\"],\n                Enums.ActionIconPlacement.LeftOfTitle\n            );\n            this.allowTitleToWrap =\n                obj[\"allowTitleToWrap\"] != null ? obj[\"allowTitleToWrap\"] : this.allowTitleToWrap;\n            this.showIconInOverflow = obj[\"showIconInOverflow\"] ?? this.showIconInOverflow;\n\n            try {\n                const sizeAndUnit = Shared.SizeAndUnit.parse(obj[\"iconSize\"]);\n\n                if (sizeAndUnit.unit === Enums.SizeUnit.Pixel) {\n                    this.iconSize = sizeAndUnit.physicalSize;\n                }\n            } catch (e) {\n                // Swallow this, keep default icon size\n            }\n        }\n    }\n\n    toJSON() {\n        return {\n            maxActions: this.maxActions,\n            spacing: Enums.Spacing[this.spacing],\n            buttonSpacing: this.buttonSpacing,\n            showCard: this.showCard,\n            preExpandSingleShowCardAction: this.preExpandSingleShowCardAction,\n            actionsOrientation: Enums.Orientation[this.actionsOrientation],\n            actionAlignment: Enums.ActionAlignment[this.actionAlignment]\n        };\n    }\n}\n\nexport class ColorSetDefinition {\n    private parseSingleColor(obj: any, propertyName: string) {\n        if (obj) {\n            ((<any>this)[propertyName] as TextColorDefinition).parse(obj[propertyName]);\n        }\n    }\n\n    default: TextColorDefinition = new TextColorDefinition();\n    dark: TextColorDefinition = new TextColorDefinition();\n    light: TextColorDefinition = new TextColorDefinition();\n    accent: TextColorDefinition = new TextColorDefinition();\n    good: TextColorDefinition = new TextColorDefinition();\n    warning: TextColorDefinition = new TextColorDefinition();\n    attention: TextColorDefinition = new TextColorDefinition();\n\n    constructor(obj?: any) {\n        this.parse(obj);\n    }\n\n    parse(obj: any) {\n        if (obj) {\n            this.parseSingleColor(obj, \"default\");\n            this.parseSingleColor(obj, \"dark\");\n            this.parseSingleColor(obj, \"light\");\n            this.parseSingleColor(obj, \"accent\");\n            this.parseSingleColor(obj, \"good\");\n            this.parseSingleColor(obj, \"warning\");\n            this.parseSingleColor(obj, \"attention\");\n        }\n    }\n}\n\nexport class ContainerStyleDefinition {\n    backgroundColor?: string;\n\n    readonly foregroundColors: ColorSetDefinition = new ColorSetDefinition({\n        \"default\": { default: \"#333333\", subtle: \"#EE333333\" },\n        \"dark\": { default: \"#000000\", subtle: \"#66000000\" },\n        \"light\": { default: \"#FFFFFF\", subtle: \"#33000000\" },\n        \"accent\": { default: \"#2E89FC\", subtle: \"#882E89FC\" },\n        \"good\": { default: \"#028A02\", subtle: \"#DD027502\" },\n        \"warning\": { default: \"#E69500\", subtle: \"#DDE69500\" },\n        \"attention\": { default: \"#CC3300\", subtle: \"#DDCC3300\" }\n    });\n\n    highlightBackgroundColor?: string;\n    highlightForegroundColor?: string;\n    borderColor?: string;\n\n    parse(obj: any) {\n        if (obj) {\n            this.backgroundColor = obj[\"backgroundColor\"];\n\n            this.foregroundColors.parse(obj[\"foregroundColors\"]);\n\n            this.highlightBackgroundColor = obj[\"highlightBackgroundColor\"];\n            this.highlightForegroundColor = obj[\"highlightForegroundColor\"];\n\n            this.borderColor = obj[\"borderColor\"];\n        }\n    }\n\n    constructor(obj?: any) {\n        this.parse(obj);\n    }\n\n    get isBuiltIn(): boolean {\n        return false;\n    }\n}\n\nclass BuiltInContainerStyleDefinition extends ContainerStyleDefinition {\n    get isBuiltIn(): boolean {\n        return true;\n    }\n}\n\nexport interface ILineHeightDefinitions {\n    small: number;\n    medium: number;\n    default: number;\n    large: number;\n    extraLarge: number;\n}\n\nexport class ContainerStyleSet {\n    private _allStyles: { [key: string]: ContainerStyleDefinition } = {};\n\n    constructor(obj?: any) {\n        this._allStyles[Enums.ContainerStyle.Default] = new BuiltInContainerStyleDefinition();\n        this._allStyles[Enums.ContainerStyle.Emphasis] = new BuiltInContainerStyleDefinition();\n        this._allStyles[Enums.ContainerStyle.Accent] = new BuiltInContainerStyleDefinition();\n        this._allStyles[Enums.ContainerStyle.Good] = new BuiltInContainerStyleDefinition();\n        this._allStyles[Enums.ContainerStyle.Attention] = new BuiltInContainerStyleDefinition();\n        this._allStyles[Enums.ContainerStyle.Warning] = new BuiltInContainerStyleDefinition();\n\n        if (obj) {\n            this._allStyles[Enums.ContainerStyle.Default].parse(obj[Enums.ContainerStyle.Default]);\n            this._allStyles[Enums.ContainerStyle.Emphasis].parse(\n                obj[Enums.ContainerStyle.Emphasis]\n            );\n            this._allStyles[Enums.ContainerStyle.Accent].parse(obj[Enums.ContainerStyle.Accent]);\n            this._allStyles[Enums.ContainerStyle.Good].parse(obj[Enums.ContainerStyle.Good]);\n            this._allStyles[Enums.ContainerStyle.Attention].parse(\n                obj[Enums.ContainerStyle.Attention]\n            );\n            this._allStyles[Enums.ContainerStyle.Warning].parse(obj[Enums.ContainerStyle.Warning]);\n\n            const customStyleArray = obj[\"customStyles\"];\n\n            if (customStyleArray && Array.isArray(customStyleArray)) {\n                for (const customStyle of customStyleArray) {\n                    if (customStyle) {\n                        const styleName = customStyle[\"name\"];\n\n                        if (styleName && typeof styleName === \"string\") {\n                            if (this._allStyles.hasOwnProperty(styleName)) {\n                                this._allStyles[styleName].parse(customStyle[\"style\"]);\n                            } else {\n                                this._allStyles[styleName] = new ContainerStyleDefinition(\n                                    customStyle[\"style\"]\n                                );\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    toJSON() {\n        const customStyleArray: any[] = [];\n\n        Object.keys(this._allStyles).forEach((key) => {\n            if (!this._allStyles[key].isBuiltIn) {\n                customStyleArray.push({\n                    name: key,\n                    style: this._allStyles[key]\n                });\n            }\n        });\n\n        const result: any = {\n            default: this.default,\n            emphasis: this.emphasis\n        };\n\n        if (customStyleArray.length > 0) {\n            result.customStyles = customStyleArray;\n        }\n\n        return result;\n    }\n\n    getStyleByName(\n        name: string | undefined,\n        defaultValue?: ContainerStyleDefinition\n    ): ContainerStyleDefinition {\n        if (name && this._allStyles.hasOwnProperty(name)) {\n            return this._allStyles[name];\n        } else {\n            return defaultValue ? defaultValue : this._allStyles[Enums.ContainerStyle.Default];\n        }\n    }\n\n    get default(): ContainerStyleDefinition {\n        return this._allStyles[Enums.ContainerStyle.Default];\n    }\n\n    get emphasis(): ContainerStyleDefinition {\n        return this._allStyles[Enums.ContainerStyle.Emphasis];\n    }\n}\n\nexport interface IFontSizeDefinitions {\n    small: number;\n    default: number;\n    medium: number;\n    large: number;\n    extraLarge: number;\n}\n\nexport interface IFontWeightDefinitions {\n    lighter: number;\n    default: number;\n    bolder: number;\n}\n\nexport class FontTypeDefinition {\n    static readonly monospace = new FontTypeDefinition(\"'Courier New', Courier, monospace\");\n\n    fontFamily?: string = \"Segoe UI,Segoe,Segoe WP,Helvetica Neue,Helvetica,sans-serif\";\n\n    fontSizes: IFontSizeDefinitions = {\n        small: 12,\n        default: 14,\n        medium: 17,\n        large: 21,\n        extraLarge: 26\n    };\n\n    fontWeights: IFontWeightDefinitions = {\n        lighter: 200,\n        default: 400,\n        bolder: 600\n    };\n\n    constructor(fontFamily?: string) {\n        if (fontFamily) {\n            this.fontFamily = fontFamily;\n        }\n    }\n\n    parse(obj?: any) {\n        this.fontFamily = obj[\"fontFamily\"] || this.fontFamily;\n        this.fontSizes = {\n            small: (obj.fontSizes && obj.fontSizes[\"small\"]) || this.fontSizes.small,\n            default: (obj.fontSizes && obj.fontSizes[\"default\"]) || this.fontSizes.default,\n            medium: (obj.fontSizes && obj.fontSizes[\"medium\"]) || this.fontSizes.medium,\n            large: (obj.fontSizes && obj.fontSizes[\"large\"]) || this.fontSizes.large,\n            extraLarge: (obj.fontSizes && obj.fontSizes[\"extraLarge\"]) || this.fontSizes.extraLarge\n        };\n        this.fontWeights = {\n            lighter: (obj.fontWeights && obj.fontWeights[\"lighter\"]) || this.fontWeights.lighter,\n            default: (obj.fontWeights && obj.fontWeights[\"default\"]) || this.fontWeights.default,\n            bolder: (obj.fontWeights && obj.fontWeights[\"bolder\"]) || this.fontWeights.bolder\n        };\n    }\n}\n\nexport class FontTypeSet {\n    default: FontTypeDefinition;\n    monospace: FontTypeDefinition;\n\n    constructor(obj?: any) {\n        this.default = new FontTypeDefinition();\n        this.monospace = new FontTypeDefinition(\"'Courier New', Courier, monospace\");\n\n        if (obj) {\n            this.default.parse(obj[\"default\"]);\n            this.monospace.parse(obj[\"monospace\"]);\n        }\n    }\n\n    getStyleDefinition(style: Enums.FontType | undefined): FontTypeDefinition {\n        switch (style) {\n            case Enums.FontType.Monospace:\n                return this.monospace;\n            case Enums.FontType.Default:\n            default:\n                return this.default;\n        }\n    }\n}\n\nexport class CarouselConfig {\n    maxCarouselPages: number = 10;\n    minAutoplayDelay: number = 5000.0;\n\n    constructor(obj?: any) {\n        if (obj) {\n            this.maxCarouselPages =\n                obj[\"maxCarouselPages\"] != null ? obj[\"maxCarouselPages\"] : this.maxCarouselPages;\n            this.minAutoplayDelay =\n                obj[\"minAutoplayDelay\"] != null ? obj[\"minAutoplayDelay\"] : this.minAutoplayDelay;\n        }\n    }\n\n    toJSON() {\n        return {\n            maxCarouselPages: this.maxCarouselPages,\n            minAutoplayDelay: this.minAutoplayDelay\n        };\n    }\n}\n\nexport class HostConfig {\n    readonly hostCapabilities = new HostCapabilities();\n\n    private _legacyFontType: FontTypeDefinition;\n\n    choiceSetInputValueSeparator: string = \",\";\n    supportsInteractivity: boolean = true;\n    lineHeights?: ILineHeightDefinitions;\n    fontTypes?: FontTypeSet;\n\n    readonly spacing = {\n        small: 3,\n        default: 8,\n        medium: 20,\n        large: 30,\n        extraLarge: 40,\n        padding: 15\n    };\n\n    readonly separator = {\n        lineThickness: 1,\n        lineColor: \"#EEEEEE\"\n    };\n\n    readonly imageSizes = {\n        small: 40,\n        medium: 80,\n        large: 160\n    };\n\n    readonly containerStyles: ContainerStyleSet = new ContainerStyleSet();\n    readonly inputs: InputConfig = new InputConfig();\n    readonly actions: ActionsConfig = new ActionsConfig();\n    readonly adaptiveCard: AdaptiveCardConfig = new AdaptiveCardConfig();\n    readonly imageSet: ImageSetConfig = new ImageSetConfig();\n    readonly media: MediaConfig = new MediaConfig();\n    readonly factSet: FactSetConfig = new FactSetConfig();\n    readonly table: TableConfig = new TableConfig();\n    readonly textStyles: TextStyleSet = new TextStyleSet();\n    readonly textBlock: TextBlockConfig = new TextBlockConfig();\n    readonly carousel: CarouselConfig = new CarouselConfig();\n\n    cssClassNamePrefix?: string;\n    alwaysAllowBleed: boolean = false;\n\n    constructor(obj?: any) {\n        if (obj) {\n            if (typeof obj === \"string\" || obj instanceof String) {\n                obj = JSON.parse(obj as string);\n            }\n\n            this.choiceSetInputValueSeparator =\n                obj && typeof obj[\"choiceSetInputValueSeparator\"] === \"string\"\n                    ? obj[\"choiceSetInputValueSeparator\"]\n                    : this.choiceSetInputValueSeparator;\n            this.supportsInteractivity =\n                obj && typeof obj[\"supportsInteractivity\"] === \"boolean\"\n                    ? obj[\"supportsInteractivity\"]\n                    : this.supportsInteractivity;\n\n            this._legacyFontType = new FontTypeDefinition();\n            this._legacyFontType.parse(obj);\n\n            if (obj.fontTypes) {\n                this.fontTypes = new FontTypeSet(obj.fontTypes);\n            }\n\n            if (obj.lineHeights) {\n                this.lineHeights = {\n                    small: obj.lineHeights[\"small\"],\n                    default: obj.lineHeights[\"default\"],\n                    medium: obj.lineHeights[\"medium\"],\n                    large: obj.lineHeights[\"large\"],\n                    extraLarge: obj.lineHeights[\"extraLarge\"]\n                };\n            }\n\n            this.imageSizes = {\n                small: (obj.imageSizes && obj.imageSizes[\"small\"]) || this.imageSizes.small,\n                medium: (obj.imageSizes && obj.imageSizes[\"medium\"]) || this.imageSizes.medium,\n                large: (obj.imageSizes && obj.imageSizes[\"large\"]) || this.imageSizes.large\n            };\n\n            this.containerStyles = new ContainerStyleSet(obj[\"containerStyles\"]);\n            this.spacing = {\n                small: (obj.spacing && obj.spacing[\"small\"]) || this.spacing.small,\n                default: (obj.spacing && obj.spacing[\"default\"]) || this.spacing.default,\n                medium: (obj.spacing && obj.spacing[\"medium\"]) || this.spacing.medium,\n                large: (obj.spacing && obj.spacing[\"large\"]) || this.spacing.large,\n                extraLarge: (obj.spacing && obj.spacing[\"extraLarge\"]) || this.spacing.extraLarge,\n                padding: (obj.spacing && obj.spacing[\"padding\"]) || this.spacing.padding\n            };\n\n            this.separator = {\n                lineThickness:\n                    (obj.separator && obj.separator[\"lineThickness\"]) ||\n                    this.separator.lineThickness,\n                lineColor: (obj.separator && obj.separator[\"lineColor\"]) || this.separator.lineColor\n            };\n\n            this.inputs = new InputConfig(obj.inputs || this.inputs);\n            this.actions = new ActionsConfig(obj.actions || this.actions);\n            this.adaptiveCard = new AdaptiveCardConfig(obj.adaptiveCard || this.adaptiveCard);\n            this.imageSet = new ImageSetConfig(obj[\"imageSet\"]);\n            this.factSet = new FactSetConfig(obj[\"factSet\"]);\n            this.textStyles = new TextStyleSet(obj[\"textStyles\"]);\n            this.textBlock = new TextBlockConfig(obj[\"textBlock\"]);\n            this.carousel = new CarouselConfig(obj[\"carousel\"]);\n        }\n    }\n\n    getFontTypeDefinition(style?: Enums.FontType): FontTypeDefinition {\n        if (this.fontTypes) {\n            return this.fontTypes.getStyleDefinition(style);\n        } else {\n            return style === Enums.FontType.Monospace\n                ? FontTypeDefinition.monospace\n                : this._legacyFontType;\n        }\n    }\n\n    getEffectiveImageSize(imageSize: Enums.ImageSize | Enums.Size): number {\n        switch (imageSize) {\n            case Enums.Size.Small:\n                return this.imageSizes.small;\n\n            case Enums.Size.Large:\n                return this.imageSizes.large;\n\n            case Enums.Size.Medium:\n            default:\n                return this.imageSizes.medium;\n        }\n    }\n\n    getEffectiveSpacing(spacing: Enums.Spacing): number {\n        switch (spacing) {\n            case Enums.Spacing.Small:\n                return this.spacing.small;\n            case Enums.Spacing.Default:\n                return this.spacing.default;\n            case Enums.Spacing.Medium:\n                return this.spacing.medium;\n            case Enums.Spacing.Large:\n                return this.spacing.large;\n            case Enums.Spacing.ExtraLarge:\n                return this.spacing.extraLarge;\n            case Enums.Spacing.Padding:\n                return this.spacing.padding;\n            default:\n                return 0;\n        }\n    }\n\n    paddingDefinitionToSpacingDefinition(\n        paddingDefinition: Shared.PaddingDefinition\n    ): Shared.SpacingDefinition {\n        return new Shared.SpacingDefinition(\n            this.getEffectiveSpacing(paddingDefinition.top),\n            this.getEffectiveSpacing(paddingDefinition.right),\n            this.getEffectiveSpacing(paddingDefinition.bottom),\n            this.getEffectiveSpacing(paddingDefinition.left)\n        );\n    }\n\n    makeCssClassNames(...classNames: string[]): string[] {\n        const result: string[] = [];\n\n        for (const className of classNames) {\n            result.push((this.cssClassNamePrefix ? this.cssClassNamePrefix + \"-\" : \"\") + className);\n        }\n\n        return result;\n    }\n\n    makeCssClassName(...classNames: string[]): string {\n        const result = this.makeCssClassNames(...classNames).join(\" \");\n\n        return result ? result : \"\";\n    }\n\n    get fontFamily(): string | undefined {\n        return this._legacyFontType.fontFamily;\n    }\n\n    set fontFamily(value: string | undefined) {\n        this._legacyFontType.fontFamily = value;\n    }\n\n    get fontSizes(): IFontSizeDefinitions {\n        return this._legacyFontType.fontSizes;\n    }\n\n    get fontWeights(): IFontWeightDefinitions {\n        return this._legacyFontType.fontWeights;\n    }\n}\n\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport const defaultHostConfig: HostConfig = new HostConfig({\n    supportsInteractivity: true,\n    spacing: {\n        small: 10,\n        default: 20,\n        medium: 30,\n        large: 40,\n        extraLarge: 50,\n        padding: 20\n    },\n    separator: {\n        lineThickness: 1,\n        lineColor: \"#EEEEEE\"\n    },\n    fontTypes: {\n        default: {\n            fontFamily: \"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif\",\n            fontSizes: {\n                small: 12,\n                default: 14,\n                medium: 17,\n                large: 21,\n                extraLarge: 26\n            },\n            fontWeights: {\n                lighter: 200,\n                default: 400,\n                bolder: 600\n            }\n        },\n        monospace: {\n            fontFamily: \"'Courier New', Courier, monospace\",\n            fontSizes: {\n                small: 12,\n                default: 14,\n                medium: 17,\n                large: 21,\n                extraLarge: 26\n            },\n            fontWeights: {\n                lighter: 200,\n                default: 400,\n                bolder: 600\n            }\n        }\n    },\n    imageSizes: {\n        small: 40,\n        medium: 80,\n        large: 160\n    },\n    containerStyles: {\n        default: {\n            backgroundColor: \"#FFFFFF\",\n            foregroundColors: {\n                default: {\n                    default: \"#333333\",\n                    subtle: \"#EE333333\"\n                },\n                dark: {\n                    default: \"#000000\",\n                    subtle: \"#66000000\"\n                },\n                light: {\n                    default: \"#FFFFFF\",\n                    subtle: \"#33000000\"\n                },\n                accent: {\n                    default: \"#2E89FC\",\n                    subtle: \"#882E89FC\"\n                },\n                attention: {\n                    default: \"#cc3300\",\n                    subtle: \"#DDcc3300\"\n                },\n                good: {\n                    default: \"#028A02\",\n                    subtle: \"#DD027502\"\n                },\n                warning: {\n                    default: \"#e69500\",\n                    subtle: \"#DDe69500\"\n                }\n            }\n        },\n        emphasis: {\n            backgroundColor: \"#08000000\",\n            foregroundColors: {\n                default: {\n                    default: \"#333333\",\n                    subtle: \"#EE333333\"\n                },\n                dark: {\n                    default: \"#000000\",\n                    subtle: \"#66000000\"\n                },\n                light: {\n                    default: \"#FFFFFF\",\n                    subtle: \"#33000000\"\n                },\n                accent: {\n                    default: \"#2E89FC\",\n                    subtle: \"#882E89FC\"\n                },\n                attention: {\n                    default: \"#cc3300\",\n                    subtle: \"#DDcc3300\"\n                },\n                good: {\n                    default: \"#028A02\",\n                    subtle: \"#DD027502\"\n                },\n                warning: {\n                    default: \"#e69500\",\n                    subtle: \"#DDe69500\"\n                }\n            }\n        },\n        accent: {\n            backgroundColor: \"#C7DEF9\",\n            foregroundColors: {\n                default: {\n                    default: \"#333333\",\n                    subtle: \"#EE333333\"\n                },\n                dark: {\n                    default: \"#000000\",\n                    subtle: \"#66000000\"\n                },\n                light: {\n                    default: \"#FFFFFF\",\n                    subtle: \"#33000000\"\n                },\n                accent: {\n                    default: \"#2E89FC\",\n                    subtle: \"#882E89FC\"\n                },\n                attention: {\n                    default: \"#cc3300\",\n                    subtle: \"#DDcc3300\"\n                },\n                good: {\n                    default: \"#028A02\",\n                    subtle: \"#DD027502\"\n                },\n                warning: {\n                    default: \"#e69500\",\n                    subtle: \"#DDe69500\"\n                }\n            }\n        },\n        good: {\n            backgroundColor: \"#CCFFCC\",\n            foregroundColors: {\n                default: {\n                    default: \"#333333\",\n                    subtle: \"#EE333333\"\n                },\n                dark: {\n                    default: \"#000000\",\n                    subtle: \"#66000000\"\n                },\n                light: {\n                    default: \"#FFFFFF\",\n                    subtle: \"#33000000\"\n                },\n                accent: {\n                    default: \"#2E89FC\",\n                    subtle: \"#882E89FC\"\n                },\n                attention: {\n                    default: \"#cc3300\",\n                    subtle: \"#DDcc3300\"\n                },\n                good: {\n                    default: \"#028A02\",\n                    subtle: \"#DD027502\"\n                },\n                warning: {\n                    default: \"#e69500\",\n                    subtle: \"#DDe69500\"\n                }\n            }\n        },\n        attention: {\n            backgroundColor: \"#FFC5B2\",\n            foregroundColors: {\n                default: {\n                    default: \"#333333\",\n                    subtle: \"#EE333333\"\n                },\n                dark: {\n                    default: \"#000000\",\n                    subtle: \"#66000000\"\n                },\n                light: {\n                    default: \"#FFFFFF\",\n                    subtle: \"#33000000\"\n                },\n                accent: {\n                    default: \"#2E89FC\",\n                    subtle: \"#882E89FC\"\n                },\n                attention: {\n                    default: \"#cc3300\",\n                    subtle: \"#DDcc3300\"\n                },\n                good: {\n                    default: \"#028A02\",\n                    subtle: \"#DD027502\"\n                },\n                warning: {\n                    default: \"#e69500\",\n                    subtle: \"#DDe69500\"\n                }\n            }\n        },\n        warning: {\n            backgroundColor: \"#FFE2B2\",\n            foregroundColors: {\n                default: {\n                    default: \"#333333\",\n                    subtle: \"#EE333333\"\n                },\n                dark: {\n                    default: \"#000000\",\n                    subtle: \"#66000000\"\n                },\n                light: {\n                    default: \"#FFFFFF\",\n                    subtle: \"#33000000\"\n                },\n                accent: {\n                    default: \"#2E89FC\",\n                    subtle: \"#882E89FC\"\n                },\n                attention: {\n                    default: \"#cc3300\",\n                    subtle: \"#DDcc3300\"\n                },\n                good: {\n                    default: \"#028A02\",\n                    subtle: \"#DD027502\"\n                },\n                warning: {\n                    default: \"#e69500\",\n                    subtle: \"#DDe69500\"\n                }\n            }\n        }\n    },\n    inputs: {\n        label: {\n            requiredInputs: {\n                weight: Enums.TextWeight.Bolder,\n                suffix: \" *\",\n                suffixColor: Enums.TextColor.Attention\n            },\n            optionalInputs: {\n                weight: Enums.TextWeight.Bolder\n            }\n        },\n        errorMessage: {\n            color: Enums.TextColor.Attention,\n            weight: Enums.TextWeight.Bolder\n        },\n        debounceTimeInMilliSeconds: 250\n    },\n    actions: {\n        maxActions: 5,\n        spacing: Enums.Spacing.Default,\n        buttonSpacing: 10,\n        showCard: {\n            actionMode: Enums.ShowCardActionMode.Inline,\n            inlineTopMargin: 16\n        },\n        actionsOrientation: Enums.Orientation.Horizontal,\n        actionAlignment: Enums.ActionAlignment.Left\n    },\n    adaptiveCard: {\n        allowCustomStyle: false\n    },\n    imageSet: {\n        imageSize: Enums.Size.Medium,\n        maxImageHeight: 100\n    },\n    factSet: {\n        title: {\n            color: Enums.TextColor.Default,\n            size: Enums.TextSize.Default,\n            isSubtle: false,\n            weight: Enums.TextWeight.Bolder,\n            wrap: true,\n            maxWidth: 150\n        },\n        value: {\n            color: Enums.TextColor.Default,\n            size: Enums.TextSize.Default,\n            isSubtle: false,\n            weight: Enums.TextWeight.Default,\n            wrap: true\n        },\n        spacing: 10\n    },\n    carousel: {\n        maxCarouselPages: 10,\n        minAutoplayDuration: 5000\n    },\n    textBlock: {\n        headingLevel: 2\n    }\n});\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport { CardElement, Action } from \"./card-elements\";\nimport { SerializableObject, Version, Versions } from \"./serialization\";\n\nexport interface ITypeRegistration<T extends SerializableObject> {\n    typeName: string;\n    objectType: { new (): T };\n    schemaVersion: Version;\n}\n\nexport class CardObjectRegistry<T extends SerializableObject> {\n    private _items: { [typeName: string]: ITypeRegistration<T> } = {};\n\n    findByName(typeName: string): ITypeRegistration<T> | undefined {\n        return this._items.hasOwnProperty(typeName) ? this._items[typeName] : undefined;\n    }\n\n    clear() {\n        this._items = {};\n    }\n\n    copyTo(target: CardObjectRegistry<T>) {\n        const keys = Object.keys(this._items);\n\n        for (const key of keys) {\n            const typeRegistration = this._items[key];\n\n            target.register(\n                typeRegistration.typeName,\n                typeRegistration.objectType,\n                typeRegistration.schemaVersion\n            );\n        }\n    }\n\n    register(\n        typeName: string,\n        objectType: { new (): T },\n        schemaVersion: Version = Versions.v1_0\n    ) {\n        let registrationInfo = this.findByName(typeName);\n\n        if (registrationInfo !== undefined) {\n            registrationInfo.objectType = objectType;\n        } else {\n            registrationInfo = {\n                typeName: typeName,\n                objectType: objectType,\n                schemaVersion: schemaVersion\n            };\n        }\n\n        this._items[typeName] = registrationInfo;\n    }\n\n    unregister(typeName: string) {\n        delete this._items[typeName];\n    }\n\n    createInstance(typeName: string, targetVersion: Version): T | undefined {\n        const registrationInfo = this.findByName(typeName);\n\n        return registrationInfo && registrationInfo.schemaVersion.compareTo(targetVersion) <= 0\n            ? new registrationInfo.objectType()\n            : undefined;\n    }\n\n    getItemCount(): number {\n        return Object.keys(this._items).length;\n    }\n\n    getItemAt(index: number): ITypeRegistration<T> {\n        return Object.keys(this._items).map((e) => this._items[e])[index];\n    }\n}\n\n// eslint-disable-next-line @typescript-eslint/no-extraneous-class\nexport class GlobalRegistry {\n    private static _elements?: CardObjectRegistry<CardElement>;\n    private static _actions?: CardObjectRegistry<Action>;\n\n    static populateWithDefaultElements(registry: CardObjectRegistry<CardElement>) {\n        registry.clear();\n\n        GlobalRegistry.defaultElements.copyTo(registry);\n    }\n\n    static populateWithDefaultActions(registry: CardObjectRegistry<Action>) {\n        registry.clear();\n\n        GlobalRegistry.defaultActions.copyTo(registry);\n    }\n\n    static readonly defaultElements = new CardObjectRegistry<CardElement>();\n    static readonly defaultActions = new CardObjectRegistry<Action>();\n    static get elements(): CardObjectRegistry<CardElement> {\n        if (!GlobalRegistry._elements) {\n            GlobalRegistry._elements = new CardObjectRegistry<CardElement>();\n            GlobalRegistry.populateWithDefaultElements(GlobalRegistry._elements);\n        }\n\n        return GlobalRegistry._elements;\n    }\n\n    static get actions(): CardObjectRegistry<Action> {\n        if (!GlobalRegistry._actions) {\n            GlobalRegistry._actions = new CardObjectRegistry<Action>();\n            GlobalRegistry.populateWithDefaultActions(GlobalRegistry._actions);\n        }\n\n        return GlobalRegistry._actions;\n    }\n\n    static reset() {\n        GlobalRegistry._elements = undefined;\n        GlobalRegistry._actions = undefined;\n    }\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport { GlobalSettings, SizeAndUnit } from \"./shared\";\nimport * as Utils from \"./utils\";\nimport * as Enums from \"./enums\";\nimport { Strings } from \"./strings\";\n\nexport interface IValidationEvent {\n    source?: SerializableObject;\n    phase: Enums.ValidationPhase;\n    event: Enums.ValidationEvent;\n    message: string;\n}\n\nexport class Version {\n    private _versionString: string;\n    private _major: number;\n    private _minor: number;\n    private _isValid: boolean = true;\n    private _label?: string;\n\n    constructor(major: number = 1, minor: number = 1, label?: string) {\n        this._major = major;\n        this._minor = minor;\n        this._label = label;\n    }\n\n    static parse(versionString: string, context: BaseSerializationContext): Version | undefined {\n        if (!versionString) {\n            return undefined;\n        }\n\n        const result = new Version();\n        result._versionString = versionString;\n\n        const regEx = /(\\d+).(\\d+)/gi;\n        const matches = regEx.exec(versionString);\n\n        if (matches != null && matches.length === 3) {\n            result._major = parseInt(matches[1]);\n            result._minor = parseInt(matches[2]);\n        } else {\n            result._isValid = false;\n        }\n\n        if (!result._isValid) {\n            context.logParseEvent(\n                undefined,\n                Enums.ValidationEvent.InvalidPropertyValue,\n                Strings.errors.invalidVersionString(result._versionString)\n            );\n        }\n\n        return result;\n    }\n\n    toString(): string {\n        return !this._isValid ? this._versionString : this._major + \".\" + this._minor;\n    }\n\n    toJSON(): any {\n        return this.toString();\n    }\n\n    compareTo(otherVersion: Version): number {\n        if (!this.isValid || !otherVersion.isValid) {\n            throw new Error(\"Cannot compare invalid version.\");\n        }\n\n        if (this.major > otherVersion.major) {\n            return 1;\n        } else if (this.major < otherVersion.major) {\n            return -1;\n        } else if (this.minor > otherVersion.minor) {\n            return 1;\n        } else if (this.minor < otherVersion.minor) {\n            return -1;\n        }\n\n        return 0;\n    }\n\n    get label(): string {\n        return this._label ? this._label : this.toString();\n    }\n\n    get major(): number {\n        return this._major;\n    }\n\n    get minor(): number {\n        return this._minor;\n    }\n\n    get isValid(): boolean {\n        return this._isValid;\n    }\n}\n\nexport type TargetVersion = Version | \"*\";\n\n// eslint-disable-next-line @typescript-eslint/no-extraneous-class\nexport class Versions {\n    /* eslint-disable @typescript-eslint/naming-convention */\n    static readonly v1_0 = new Version(1, 0);\n    static readonly v1_1 = new Version(1, 1);\n    static readonly v1_2 = new Version(1, 2);\n    static readonly v1_3 = new Version(1, 3);\n    static readonly v1_4 = new Version(1, 4);\n    static readonly v1_5 = new Version(1, 5);\n    static readonly v1_6 = new Version(1, 6);\n    static readonly latest = Versions.v1_6;\n    // If preview tag is added/removed from any version,\n    // don't forget to update .ac-schema-version-1-?::after too in adaptivecards-site\\themes\\adaptivecards\\source\\css\\style.css\n    /* eslint-enable @typescript-eslint/naming-convention */\n\n    static getAllDeclaredVersions(): Version[] {\n        const ctor = <any>Versions;\n        const properties: Version[] = [];\n\n        for (const propertyName in ctor) {\n            if (propertyName.match(/^v[0-9_]*$/)) {\n                // filter latest\n                try {\n                    const propertyValue = ctor[propertyName];\n\n                    if (propertyValue instanceof Version) {\n                        properties.push(propertyValue);\n                    }\n                } catch {\n                    // If a property happens to have a getter function and\n                    // it throws an exception, we need to catch it here\n                }\n            }\n        }\n        return properties.sort((v1: Version, v2: Version) => v1.compareTo(v2));\n    }\n}\n\nexport function isVersionLessOrEqual(\n    version: TargetVersion,\n    targetVersion: TargetVersion\n): boolean {\n    if (version instanceof Version) {\n        if (targetVersion instanceof Version) {\n            return targetVersion.compareTo(version) >= 0;\n        } else {\n            // Target version is *\n            return true;\n        }\n    } else {\n        // Version is *\n        return true;\n    }\n}\n\nexport abstract class BaseSerializationContext {\n    private _validationEvents: IValidationEvent[] = [];\n\n    toJSONOriginalParam: any;\n    targetVersion: Version;\n\n    constructor(targetVersion: Version = Versions.latest) {\n        this.targetVersion = targetVersion;\n    }\n    \n    private isTemplateString(value: any) {\n        if (typeof value === \"string\") {\n            return value.startsWith(\"${\");\n        } else {\n            return false;\n        }\n    }\n\n    private tryDeleteValue(target: { [key: string]: any }, propertyName: string) {\n        if (!GlobalSettings.enableFullJsonRoundTrip) {\n            delete target[propertyName];\n        }\n    }\n\n    private tryDeleteDefaultValue(target: { [key: string]: any }, propertyName: string) {\n        if (!GlobalSettings.enableFullJsonRoundTrip || !this.isTemplateString(target[propertyName])) {\n            delete target[propertyName];\n        }\n    }\n\n    serializeValue(\n        target: { [key: string]: any },\n        propertyName: string,\n        propertyValue: any,\n        defaultValue: any = undefined,\n        forceDeleteIfNullOrDefault: boolean = false\n    ) {\n        if (\n            propertyValue === null ||\n            propertyValue === undefined\n        ) {\n            if (!GlobalSettings.enableFullJsonRoundTrip || forceDeleteIfNullOrDefault) {\n                delete target[propertyName];\n            }\n        } else if (propertyValue === defaultValue) {\n            if (!GlobalSettings.enableFullJsonRoundTrip || forceDeleteIfNullOrDefault || !this.isTemplateString(target[propertyName])) {\n                delete target[propertyName];\n            }\n        } else {\n            target[propertyName] = propertyValue;\n        }\n    }\n\n    serializeString(\n        target: { [key: string]: any },\n        propertyName: string,\n        propertyValue?: string,\n        defaultValue?: string\n    ) {\n        if (\n            propertyValue === null ||\n            propertyValue === undefined\n        ) {\n            this.tryDeleteValue(target, propertyName);\n        } else if (propertyValue === defaultValue) {\n            this.tryDeleteDefaultValue(target, propertyName);\n        } else {\n            target[propertyName] = propertyValue;\n        }\n    }\n\n    serializeBool(\n        target: { [key: string]: any },\n        propertyName: string,\n        propertyValue?: boolean,\n        defaultValue?: boolean\n    ) {\n        if (\n            propertyValue === null ||\n            propertyValue === undefined\n        ) {\n            this.tryDeleteValue(target, propertyName);\n        } else if (propertyValue === defaultValue) {\n            this.tryDeleteDefaultValue(target, propertyName);\n        } else {\n            target[propertyName] = propertyValue;\n        }\n    }\n\n    serializeNumber(\n        target: { [key: string]: any },\n        propertyName: string,\n        propertyValue?: number,\n        defaultValue?: number\n    ) {\n        if (\n            propertyValue === null ||\n            propertyValue === undefined ||\n            isNaN(propertyValue)\n        ) {\n            this.tryDeleteValue(target, propertyName);\n        } else if (propertyValue === defaultValue) {\n            this.tryDeleteDefaultValue(target, propertyName);\n        } else {\n            target[propertyName] = propertyValue;\n        }\n    }\n\n    serializeEnum(\n        enumType: { [s: number]: string },\n        target: { [key: string]: any },\n        propertyName: string,\n        propertyValue: number | undefined,\n        defaultValue: number | undefined = undefined\n    ) {\n        if (\n            propertyValue === null ||\n            propertyValue === undefined\n        ) {\n            this.tryDeleteValue(target, propertyName);\n        } else if (propertyValue === defaultValue) {\n            this.tryDeleteDefaultValue(target, propertyName);\n        } else {\n            target[propertyName] = enumType[propertyValue];\n        }\n    }\n\n    serializeArray(\n        target: { [key: string]: any },\n        propertyName: string,\n        propertyValue: any[] | undefined\n    ) {\n        const items = [];\n\n        if (propertyValue) {\n            for (const item of propertyValue) {\n                let serializedItem: any = undefined;\n\n                if (item instanceof SerializableObject) {\n                    serializedItem = item.toJSON(this);\n                } else if (item.toJSON) {\n                    serializedItem = item.toJSON();\n                } else {\n                    serializedItem = item;\n                }\n\n                if (serializedItem !== undefined) {\n                    items.push(serializedItem);\n                }\n            }\n        }\n\n        if (items.length === 0) {\n            if (target.hasOwnProperty(propertyName) && Array.isArray(target[propertyName])) {\n                delete target[propertyName];\n            }\n        } else {\n            this.serializeValue(target, propertyName, items);\n        }\n    }\n\n    clearEvents() {\n        this._validationEvents = [];\n    }\n\n    logEvent(\n        source: SerializableObject | undefined,\n        phase: Enums.ValidationPhase,\n        event: Enums.ValidationEvent,\n        message: string\n    ) {\n        this._validationEvents.push({\n            source: source,\n            phase: phase,\n            event: event,\n            message: message\n        });\n    }\n\n    logParseEvent(\n        source: SerializableObject | undefined,\n        event: Enums.ValidationEvent,\n        message: string\n    ) {\n        this.logEvent(source, Enums.ValidationPhase.Parse, event, message);\n    }\n\n    getEventAt(index: number): IValidationEvent {\n        return this._validationEvents[index];\n    }\n\n    get eventCount(): number {\n        return this._validationEvents.length;\n    }\n}\n\nclass SimpleSerializationContext extends BaseSerializationContext {}\n\nexport class PropertyDefinition {\n    private static _sequentialNumber: number = 0;\n\n    getInternalName(): string {\n        return this.name;\n    }\n\n    parse(\n        sender: SerializableObject,\n        source: PropertyBag,\n        context: BaseSerializationContext\n    ): any {\n        return source[this.name];\n    }\n\n    toJSON(\n        sender: SerializableObject,\n        target: PropertyBag,\n        value: any,\n        context: BaseSerializationContext\n    ): void {\n        context.serializeValue(target, this.name, value, this.defaultValue);\n    }\n\n    readonly sequentialNumber: number;\n\n    isSerializationEnabled: boolean = true;\n\n    constructor(\n        readonly targetVersion: Version,\n        readonly name: string,\n        readonly defaultValue?: any,\n        readonly onGetInitialValue?: (sender: SerializableObject) => any\n    ) {\n        this.sequentialNumber = PropertyDefinition._sequentialNumber;\n\n        PropertyDefinition._sequentialNumber++;\n    }\n}\n\nexport class StringProperty extends PropertyDefinition {\n    parse(\n        sender: SerializableObject,\n        source: PropertyBag,\n        context: BaseSerializationContext\n    ): string | undefined {\n        const parsedValue = Utils.parseString(source[this.name], this.defaultValue);\n        const isUndefined =\n            parsedValue === undefined || (parsedValue === \"\" && this.treatEmptyAsUndefined);\n\n        if (!isUndefined && this.regEx !== undefined) {\n            const matches = this.regEx.exec(parsedValue);\n\n            if (!matches) {\n                context.logParseEvent(\n                    sender,\n                    Enums.ValidationEvent.InvalidPropertyValue,\n                    Strings.errors.invalidPropertyValue(parsedValue, this.name)\n                );\n\n                return undefined;\n            }\n        }\n\n        return parsedValue;\n    }\n\n    toJSON(\n        sender: SerializableObject,\n        target: PropertyBag,\n        value: string | undefined,\n        context: BaseSerializationContext\n    ) {\n        context.serializeString(\n            target,\n            this.name,\n            value === \"\" && this.treatEmptyAsUndefined ? undefined : value,\n            this.defaultValue\n        );\n    }\n\n    constructor(\n        readonly targetVersion: Version,\n        readonly name: string,\n        readonly treatEmptyAsUndefined: boolean = true,\n        readonly regEx?: RegExp,\n        readonly defaultValue?: string,\n        readonly onGetInitialValue?: (sender: SerializableObject) => string\n    ) {\n        super(targetVersion, name, defaultValue, onGetInitialValue);\n    }\n}\n\nexport class BoolProperty extends PropertyDefinition {\n    parse(\n        sender: SerializableObject,\n        source: PropertyBag,\n        context: BaseSerializationContext\n    ): boolean | undefined {\n        return Utils.parseBool(source[this.name], this.defaultValue);\n    }\n\n    toJSON(\n        sender: SerializableObject,\n        target: object,\n        value: boolean | undefined,\n        context: BaseSerializationContext\n    ) {\n        context.serializeBool(target, this.name, value, this.defaultValue);\n    }\n\n    constructor(\n        readonly targetVersion: Version,\n        readonly name: string,\n        readonly defaultValue?: boolean,\n        readonly onGetInitialValue?: (sender: SerializableObject) => any\n    ) {\n        super(targetVersion, name, defaultValue, onGetInitialValue);\n    }\n}\n\nexport class NumProperty extends PropertyDefinition {\n    parse(\n        sender: SerializableObject,\n        source: PropertyBag,\n        context: BaseSerializationContext\n    ): number | undefined {\n        return Utils.parseNumber(source[this.name], this.defaultValue);\n    }\n\n    toJSON(\n        sender: SerializableObject,\n        target: PropertyBag,\n        value: number | undefined,\n        context: BaseSerializationContext\n    ) {\n        context.serializeNumber(target, this.name, value, this.defaultValue);\n    }\n\n    constructor(\n        readonly targetVersion: Version,\n        readonly name: string,\n        readonly defaultValue?: number,\n        readonly onGetInitialValue?: (sender: SerializableObject) => any\n    ) {\n        super(targetVersion, name, defaultValue, onGetInitialValue);\n    }\n}\n\nexport class PixelSizeProperty extends PropertyDefinition {\n    parse(\n        sender: SerializableObject,\n        source: PropertyBag,\n        context: BaseSerializationContext\n    ): number | undefined {\n        let result: number | undefined = undefined;\n        const value = source[this.name];\n\n        if (typeof value === \"string\") {\n            let isValid = false;\n\n            try {\n                const size = SizeAndUnit.parse(value, true);\n\n                if (size.unit === Enums.SizeUnit.Pixel) {\n                    result = size.physicalSize;\n\n                    isValid = true;\n                }\n            } catch {\n                // Do nothing. A parse error is emitted below\n            }\n\n            if (!isValid) {\n                context.logParseEvent(\n                    sender,\n                    Enums.ValidationEvent.InvalidPropertyValue,\n                    Strings.errors.invalidPropertyValue(source[this.name], this.name)\n                );\n            }\n        }\n\n        return result;\n    }\n\n    toJSON(\n        sender: SerializableObject,\n        target: PropertyBag,\n        value: number | undefined,\n        context: BaseSerializationContext\n    ) {\n        context.serializeValue(\n            target,\n            this.name,\n            typeof value === \"number\" && !isNaN(value) ? value + \"px\" : undefined\n        );\n    }\n}\n\nexport interface IVersionedValue<TValue> {\n    value: TValue;\n    targetVersion?: Version;\n}\n\nexport class StringArrayProperty extends PropertyDefinition {\n    parse(\n        sender: SerializableObject,\n        source: PropertyBag,\n        context: BaseSerializationContext\n    ): string[] | undefined {\n        const sourceValue = source[this.name];\n\n        if (sourceValue === undefined || !Array.isArray(sourceValue)) {\n            return this.defaultValue;\n        }\n\n        const result: string[] = [];\n\n        for (const value of sourceValue) {\n            if (typeof value === \"string\") {\n                result.push(value);\n            } else {\n                context.logParseEvent(\n                    sender,\n                    Enums.ValidationEvent.InvalidPropertyValue,\n                    `Invalid array value \"${JSON.stringify(\n                        value\n                    )}\" of type \"${typeof value}\" ignored for \"${this.name}\".`\n                );\n            }\n        }\n\n        return result;\n    }\n\n    toJSON(\n        sender: SerializableObject,\n        target: PropertyBag,\n        value: string[] | undefined,\n        context: BaseSerializationContext\n    ) {\n        context.serializeArray(target, this.name, value);\n    }\n\n    constructor(\n        readonly targetVersion: Version,\n        readonly name: string,\n        readonly defaultValue?: string[],\n        readonly onGetInitialValue?: (sender: SerializableObject) => string[] | undefined\n    ) {\n        super(targetVersion, name, defaultValue, onGetInitialValue);\n    }\n}\n\nexport class ValueSetProperty extends PropertyDefinition {\n    isValidValue(value: string, context: BaseSerializationContext): boolean {\n        for (const versionedValue of this.values) {\n            if (value.toLowerCase() === versionedValue.value.toLowerCase()) {\n                const targetVersion = versionedValue.targetVersion\n                    ? versionedValue.targetVersion\n                    : this.targetVersion;\n\n                return targetVersion.compareTo(context.targetVersion) <= 0;\n            }\n        }\n\n        return false;\n    }\n\n    parse(\n        sender: SerializableObject,\n        source: PropertyBag,\n        context: BaseSerializationContext\n    ): string | undefined {\n        const sourceValue = source[this.name];\n\n        if (sourceValue === undefined) {\n            return this.defaultValue;\n        }\n\n        if (typeof sourceValue === \"string\") {\n            for (const versionedValue of this.values) {\n                if (sourceValue.toLowerCase() === versionedValue.value.toLowerCase()) {\n                    const targetVersion = versionedValue.targetVersion\n                        ? versionedValue.targetVersion\n                        : this.targetVersion;\n\n                    if (targetVersion.compareTo(context.targetVersion) <= 0) {\n                        return versionedValue.value;\n                    } else {\n                        context.logParseEvent(\n                            sender,\n                            Enums.ValidationEvent.InvalidPropertyValue,\n                            Strings.errors.propertyValueNotSupported(\n                                sourceValue,\n                                this.name,\n                                targetVersion.toString(),\n                                context.targetVersion.toString()\n                            )\n                        );\n\n                        return this.defaultValue;\n                    }\n                }\n            }\n        }\n\n        context.logParseEvent(\n            sender,\n            Enums.ValidationEvent.InvalidPropertyValue,\n            Strings.errors.invalidPropertyValue(sourceValue, this.name)\n        );\n\n        return this.defaultValue;\n    }\n\n    toJSON(\n        sender: SerializableObject,\n        target: PropertyBag,\n        value: string | undefined,\n        context: BaseSerializationContext\n    ) {\n        let invalidValue = false;\n\n        if (value !== undefined) {\n            invalidValue = true;\n\n            for (const versionedValue of this.values) {\n                if (versionedValue.value === value) {\n                    const targetVersion = versionedValue.targetVersion\n                        ? versionedValue.targetVersion\n                        : this.targetVersion;\n\n                    if (targetVersion.compareTo(context.targetVersion) <= 0) {\n                        invalidValue = false;\n\n                        break;\n                    } else {\n                        context.logEvent(\n                            sender,\n                            Enums.ValidationPhase.ToJSON,\n                            Enums.ValidationEvent.InvalidPropertyValue,\n                            Strings.errors.propertyValueNotSupported(\n                                value,\n                                this.name,\n                                targetVersion.toString(),\n                                context.targetVersion.toString()\n                            )\n                        );\n                    }\n                }\n            }\n        }\n\n        if (!invalidValue) {\n            context.serializeValue(target, this.name, value, this.defaultValue, true);\n        }\n    }\n\n    constructor(\n        readonly targetVersion: Version,\n        readonly name: string,\n        readonly values: IVersionedValue<string>[],\n        readonly defaultValue?: string,\n        readonly onGetInitialValue?: (sender: SerializableObject) => string\n    ) {\n        super(targetVersion, name, defaultValue, onGetInitialValue);\n    }\n}\n\nexport class EnumProperty<TEnum extends { [s: number]: string }> extends PropertyDefinition {\n    private _values: IVersionedValue<number>[] = [];\n\n    parse(\n        sender: SerializableObject,\n        source: PropertyBag,\n        context: BaseSerializationContext\n    ): number | undefined {\n        const sourceValue = source[this.name];\n\n        if (typeof sourceValue !== \"string\") {\n            return this.defaultValue;\n        }\n\n        const enumValue = Utils.getEnumValueByName(this.enumType, sourceValue);\n\n        if (enumValue !== undefined) {\n            for (const versionedValue of this.values) {\n                if (versionedValue.value === enumValue) {\n                    const targetVersion = versionedValue.targetVersion\n                        ? versionedValue.targetVersion\n                        : this.targetVersion;\n\n                    if (targetVersion.compareTo(context.targetVersion) <= 0) {\n                        return enumValue;\n                    } else {\n                        context.logParseEvent(\n                            sender,\n                            Enums.ValidationEvent.InvalidPropertyValue,\n                            Strings.errors.propertyValueNotSupported(\n                                sourceValue,\n                                this.name,\n                                targetVersion.toString(),\n                                context.targetVersion.toString()\n                            )\n                        );\n\n                        return this.defaultValue;\n                    }\n                }\n            }\n        }\n\n        context.logParseEvent(\n            sender,\n            Enums.ValidationEvent.InvalidPropertyValue,\n            Strings.errors.invalidPropertyValue(sourceValue, this.name)\n        );\n\n        return this.defaultValue;\n    }\n\n    toJSON(\n        sender: SerializableObject,\n        target: PropertyBag,\n        value: number | undefined,\n        context: BaseSerializationContext\n    ) {\n        let invalidValue = false;\n\n        if (value !== undefined) {\n            invalidValue = true;\n\n            for (const versionedValue of this.values) {\n                if (versionedValue.value === value) {\n                    const targetVersion = versionedValue.targetVersion\n                        ? versionedValue.targetVersion\n                        : this.targetVersion;\n\n                    if (targetVersion.compareTo(context.targetVersion) <= 0) {\n                        invalidValue = false;\n\n                        break;\n                    } else {\n                        context.logEvent(\n                            sender,\n                            Enums.ValidationPhase.ToJSON,\n                            Enums.ValidationEvent.InvalidPropertyValue,\n                            Strings.errors.invalidPropertyValue(value, this.name)\n                        );\n                    }\n                }\n            }\n        }\n\n        if (!invalidValue) {\n            context.serializeEnum(this.enumType, target, this.name, value, this.defaultValue);\n        }\n    }\n\n    constructor(\n        readonly targetVersion: Version,\n        readonly name: string,\n        readonly enumType: TEnum,\n        readonly defaultValue?: number,\n        values?: IVersionedValue<number>[],\n        readonly onGetInitialValue?: (sender: SerializableObject) => number\n    ) {\n        super(targetVersion, name, defaultValue, onGetInitialValue);\n\n        if (!values) {\n            // eslint-disable-next-line guard-for-in\n            for (const key in enumType) {\n                const keyAsNumber = parseInt(key, 10);\n\n                if (keyAsNumber >= 0) {\n                    this._values.push({ value: keyAsNumber });\n                }\n            }\n        } else {\n            this._values = values;\n        }\n    }\n\n    get values(): IVersionedValue<number>[] {\n        return this._values;\n    }\n}\n\nexport type SerializableObjectType = { new (): SerializableObject };\n\nexport class SerializableObjectProperty extends PropertyDefinition {\n    parse(\n        sender: SerializableObject,\n        source: PropertyBag,\n        context: BaseSerializationContext\n    ): SerializableObject | undefined {\n        const sourceValue = source[this.name];\n\n        if (sourceValue === undefined) {\n            return this.onGetInitialValue ? this.onGetInitialValue(sender) : this.defaultValue;\n        }\n\n        const result = new this.objectType();\n        result.parse(sourceValue, context);\n\n        return result;\n    }\n\n    toJSON(\n        sender: SerializableObject,\n        target: PropertyBag,\n        value: SerializableObject | undefined,\n        context: BaseSerializationContext\n    ) {\n        let serializedValue: object | undefined = undefined;\n\n        if (value !== undefined && !value.hasAllDefaultValues()) {\n            serializedValue = value.toJSON(context);\n        }\n\n        if (typeof serializedValue === \"object\" && Object.keys(serializedValue).length === 0) {\n            serializedValue = undefined;\n        }\n\n        context.serializeValue(target, this.name, serializedValue, this.defaultValue, true);\n    }\n\n    constructor(\n        readonly targetVersion: Version,\n        readonly name: string,\n        readonly objectType: SerializableObjectType,\n        readonly nullable: boolean = false,\n        defaultValue?: SerializableObject\n    ) {\n        super(targetVersion, name, defaultValue, (sender: SerializableObject) => {\n            return this.nullable ? undefined : new this.objectType();\n        });\n    }\n}\n\nexport class SerializableObjectCollectionProperty extends PropertyDefinition {\n    parse(\n        sender: SerializableObject,\n        source: PropertyBag,\n        context: BaseSerializationContext\n    ): SerializableObject[] | undefined {\n        const result: SerializableObject[] | undefined = [];\n\n        const sourceCollection = source[this.name];\n\n        if (Array.isArray(sourceCollection)) {\n            for (const sourceItem of sourceCollection) {\n                const item = new this.objectType();\n                item.parse(sourceItem, context);\n\n                result.push(item);\n\n                if (this.onItemAdded) {\n                    this.onItemAdded(sender, item);\n                }\n            }\n        }\n\n        return result.length > 0\n            ? result\n            : this.onGetInitialValue\n            ? this.onGetInitialValue(sender)\n            : undefined;\n    }\n\n    toJSON(\n        sender: SerializableObject,\n        target: PropertyBag,\n        value: SerializableObject[] | undefined,\n        context: BaseSerializationContext\n    ) {\n        context.serializeArray(target, this.name, value);\n    }\n\n    constructor(\n        readonly targetVersion: Version,\n        readonly name: string,\n        readonly objectType: SerializableObjectType,\n        readonly onItemAdded?: (sender: SerializableObject, item: SerializableObject) => void\n    ) {\n        super(targetVersion, name, undefined, (sender: SerializableObject) => {\n            return [];\n        });\n    }\n}\n\nexport class CustomProperty<T> extends PropertyDefinition {\n    parse(sender: SerializableObject, source: PropertyBag, context: BaseSerializationContext): T {\n        return this.onParse(sender, this, source, context);\n    }\n\n    toJSON(\n        sender: SerializableObject,\n        target: PropertyBag,\n        value: T,\n        context: BaseSerializationContext\n    ) {\n        this.onToJSON(sender, this, target, value, context);\n    }\n\n    constructor(\n        readonly targetVersion: Version,\n        readonly name: string,\n        readonly onParse: (\n            sender: SerializableObject,\n            property: PropertyDefinition,\n            source: PropertyBag,\n            context: BaseSerializationContext\n        ) => T,\n        readonly onToJSON: (\n            sender: SerializableObject,\n            property: PropertyDefinition,\n            target: PropertyBag,\n            value: T,\n            context: BaseSerializationContext\n        ) => void,\n        readonly defaultValue?: T,\n        readonly onGetInitialValue?: (sender: SerializableObject) => T\n    ) {\n        super(targetVersion, name, defaultValue, onGetInitialValue);\n\n        if (!this.onParse) {\n            throw new Error(\"CustomPropertyDefinition instances must have an onParse handler.\");\n        }\n\n        if (!this.onToJSON) {\n            throw new Error(\"CustomPropertyDefinition instances must have an onToJSON handler.\");\n        }\n    }\n}\n\nexport class SerializableObjectSchema {\n    private _properties: PropertyDefinition[] = [];\n\n    indexOf(prop: PropertyDefinition): number {\n        for (let i = 0; i < this._properties.length; i++) {\n            if (this._properties[i] === prop) {\n                return i;\n            }\n        }\n\n        return -1;\n    }\n\n    add(...properties: PropertyDefinition[]) {\n        for (const prop of properties) {\n            if (this.indexOf(prop) === -1) {\n                this._properties.push(prop);\n            }\n        }\n    }\n\n    remove(...properties: PropertyDefinition[]) {\n        for (const prop of properties) {\n            while (true) {\n                const index = this.indexOf(prop);\n\n                if (index >= 0) {\n                    this._properties.splice(index, 1);\n                } else {\n                    break;\n                }\n            }\n        }\n    }\n\n    getItemAt(index: number): PropertyDefinition {\n        return this._properties[index];\n    }\n\n    getCount(): number {\n        return this._properties.length;\n    }\n}\n\n// This is a decorator function, used to map SerializableObject descendant class members to\n// schema properties\nexport function property(prop: PropertyDefinition) {\n    return function (target: any, propertyKey: string) {\n        const descriptor = Object.getOwnPropertyDescriptor(target, propertyKey) || {};\n\n        if (!descriptor.get && !descriptor.set) {\n            descriptor.get = function (this: SerializableObject) {\n                return this.getValue(prop);\n            };\n            descriptor.set = function (this: SerializableObject, value: any) {\n                this.setValue(prop, value);\n            };\n\n            Object.defineProperty(target, propertyKey, descriptor);\n        }\n    };\n}\n\nexport type PropertyBag = { [propertyName: string]: any };\n\nexport abstract class SerializableObject {\n    static onRegisterCustomProperties?: (\n        sender: SerializableObject,\n        schema: SerializableObjectSchema\n    ) => void;\n    static defaultMaxVersion: Version = Versions.latest;\n\n    private static readonly _schemaCache: { [typeName: string]: SerializableObjectSchema } = {};\n\n    private _propertyBag: PropertyBag = {};\n    private _rawProperties: PropertyBag = {};\n\n    protected abstract getSchemaKey(): string;\n\n    protected getDefaultSerializationContext(): BaseSerializationContext {\n        return new SimpleSerializationContext();\n    }\n\n    protected populateSchema(schema: SerializableObjectSchema) {\n        const ctor = <any>this.constructor;\n        const properties: PropertyDefinition[] = [];\n\n        // eslint-disable-next-line guard-for-in\n        for (const propertyName in ctor) {\n            try {\n                const propertyValue = ctor[propertyName];\n\n                if (propertyValue instanceof PropertyDefinition) {\n                    properties.push(propertyValue);\n                }\n            } catch {\n                // If a property happens to have a getter function and\n                // it throws an exception, we need to catch it here\n            }\n        }\n\n        if (properties.length > 0) {\n            const sortedProperties = properties.sort(\n                (p1: PropertyDefinition, p2: PropertyDefinition) => {\n                    if (p1.sequentialNumber > p2.sequentialNumber) {\n                        return 1;\n                    } else if (p1.sequentialNumber < p2.sequentialNumber) {\n                        return -1;\n                    }\n\n                    return 0;\n                }\n            );\n\n            schema.add(...sortedProperties);\n        }\n\n        if (SerializableObject.onRegisterCustomProperties) {\n            SerializableObject.onRegisterCustomProperties(this, schema);\n        }\n    }\n\n    protected getValue(prop: PropertyDefinition): any {\n        return this._propertyBag.hasOwnProperty(prop.getInternalName())\n            ? this._propertyBag[prop.getInternalName()]\n            : prop.defaultValue;\n    }\n\n    protected setValue(prop: PropertyDefinition, value: any) {\n        if (value === undefined || value === null) {\n            delete this._propertyBag[prop.getInternalName()];\n        } else {\n            this._propertyBag[prop.getInternalName()] = value;\n        }\n    }\n\n    protected internalParse(source: PropertyBag, context: BaseSerializationContext) {\n        this._propertyBag = {};\n        this._rawProperties = GlobalSettings.enableFullJsonRoundTrip ? (source ? source : {}) : {};\n\n        if (source) {\n            const s = this.getSchema();\n\n            for (let i = 0; i < s.getCount(); i++) {\n                const prop = s.getItemAt(i);\n\n                if (prop.isSerializationEnabled) {\n                    let propertyValue = prop.onGetInitialValue\n                        ? prop.onGetInitialValue(this)\n                        : undefined;\n\n                    if (source.hasOwnProperty(prop.name)) {\n                        if (prop.targetVersion.compareTo(context.targetVersion) <= 0) {\n                            propertyValue = prop.parse(this, source, context);\n                        } else {\n                            context.logParseEvent(\n                                this,\n                                Enums.ValidationEvent.UnsupportedProperty,\n                                Strings.errors.propertyNotSupported(\n                                    prop.name,\n                                    prop.targetVersion.toString(),\n                                    context.targetVersion.toString()\n                                )\n                            );\n                        }\n                    }\n\n                    this.setValue(prop, propertyValue);\n                }\n            }\n        } else {\n            this.resetDefaultValues();\n        }\n    }\n\n    protected internalToJSON(target: PropertyBag, context: BaseSerializationContext) {\n        const s = this.getSchema();\n        const serializedProperties: string[] = [];\n\n        for (let i = 0; i < s.getCount(); i++) {\n            const prop = s.getItemAt(i);\n\n            // Avoid serializing the same property multiple times. This is necessary\n            // because some property definitions map to the same underlying schema\n            // property\n            if (\n                prop.isSerializationEnabled &&\n                prop.targetVersion.compareTo(context.targetVersion) <= 0 &&\n                serializedProperties.indexOf(prop.name) === -1\n            ) {\n                prop.toJSON(this, target, this.getValue(prop), context);\n\n                serializedProperties.push(prop.name);\n            }\n        }\n    }\n\n    protected shouldSerialize(_context: BaseSerializationContext): boolean {\n        return true;\n    }\n\n    maxVersion: Version = SerializableObject.defaultMaxVersion;\n\n    constructor() {\n        const s = this.getSchema();\n\n        for (let i = 0; i < s.getCount(); i++) {\n            const prop = s.getItemAt(i);\n\n            if (prop.onGetInitialValue) {\n                this.setValue(prop, prop.onGetInitialValue(this));\n            }\n        }\n    }\n\n    parse(source: PropertyBag, context?: BaseSerializationContext) {\n        this.internalParse(source, context ? context : new SimpleSerializationContext());\n    }\n\n    toJSON(context?: BaseSerializationContext): PropertyBag | undefined {\n        let effectiveContext: BaseSerializationContext;\n\n        if (context && context instanceof BaseSerializationContext) {\n            effectiveContext = context;\n        } else {\n            effectiveContext = this.getDefaultSerializationContext();\n            effectiveContext.toJSONOriginalParam = context;\n        }\n\n        if (this.shouldSerialize(effectiveContext)) {\n            let result: PropertyBag;\n\n            if (\n                GlobalSettings.enableFullJsonRoundTrip &&\n                this._rawProperties &&\n                typeof this._rawProperties === \"object\"\n            ) {\n                result = this._rawProperties;\n            } else {\n                result = {};\n            }\n\n            this.internalToJSON(result, effectiveContext);\n\n            return result;\n        } else {\n            return undefined;\n        }\n    }\n\n    hasDefaultValue(prop: PropertyDefinition): boolean {\n        return this.getValue(prop) === prop.defaultValue;\n    }\n\n    hasAllDefaultValues(): boolean {\n        const s = this.getSchema();\n\n        for (let i = 0; i < s.getCount(); i++) {\n            const prop = s.getItemAt(i);\n\n            if (!this.hasDefaultValue(prop)) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    resetDefaultValues() {\n        const s = this.getSchema();\n\n        for (let i = 0; i < s.getCount(); i++) {\n            const prop = s.getItemAt(i);\n\n            this.setValue(prop, prop.defaultValue);\n        }\n    }\n\n    setCustomProperty(name: string, value: any) {\n        const shouldDeleteProperty =\n            (typeof value === \"string\" && !value) || value === undefined || value === null;\n\n        if (shouldDeleteProperty) {\n            delete this._rawProperties[name];\n        } else {\n            this._rawProperties[name] = value;\n        }\n    }\n\n    getCustomProperty(name: string): any {\n        return this._rawProperties[name];\n    }\n\n    getSchema(): SerializableObjectSchema {\n        let schema: SerializableObjectSchema = SerializableObject._schemaCache[this.getSchemaKey()];\n\n        if (!schema) {\n            schema = new SerializableObjectSchema();\n\n            this.populateSchema(schema);\n\n            SerializableObject._schemaCache[this.getSchemaKey()] = schema;\n        }\n\n        return schema;\n    }\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport * as Enums from \"./enums\";\n\nexport type Refresh = {\n    mode: Enums.RefreshMode;\n    timeBetweenAutomaticRefreshes: number;\n    maximumConsecutiveAutomaticRefreshes: number;\n    allowManualRefreshesAfterAutomaticRefreshes: boolean;\n};\n\nexport type AppletsSettings = {\n    logEnabled: boolean;\n    logLevel: Enums.LogLevel;\n    maximumRetryAttempts: number;\n    defaultTimeBetweenRetryAttempts: number;\n    authPromptWidth: number;\n    authPromptHeight: number;\n    readonly refresh: Refresh;\n    onLogEvent?: (level: Enums.LogLevel, message?: any, ...optionalParams: any[]) => void;\n};\n\n// eslint-disable-next-line @typescript-eslint/no-extraneous-class\nexport class GlobalSettings {\n    static useAdvancedTextBlockTruncation: boolean = true;\n    static useAdvancedCardBottomTruncation: boolean = false;\n    static useMarkdownInRadioButtonAndCheckbox: boolean = true;\n    static allowMarkForTextHighlighting: boolean = false;\n    static alwaysBleedSeparators: boolean = false;\n    static enableFullJsonRoundTrip: boolean = false;\n    static displayInputValidationErrors: boolean = true;\n    static allowPreProcessingPropertyValues: boolean = false;\n    static setTabIndexAtCardRoot: boolean = true;\n    static enableFallback: boolean = true;\n    static useWebkitLineClamp: boolean = true;\n    static allowMoreThanMaxActionsInOverflowMenu: boolean = false;\n    static removePaddingFromContainersWithBackgroundImage: boolean = false;\n    static resetInputsDirtyStateAfterActionExecution: boolean = true;\n\n    static readonly applets: AppletsSettings = {\n        logEnabled: true,\n        logLevel: Enums.LogLevel.Error,\n        maximumRetryAttempts: 3,\n        defaultTimeBetweenRetryAttempts: 3000, // 3 seconds\n        authPromptWidth: 400,\n        authPromptHeight: 600,\n        refresh: {\n            mode: Enums.RefreshMode.Manual,\n            timeBetweenAutomaticRefreshes: 3000, // 3 seconds\n            maximumConsecutiveAutomaticRefreshes: 3,\n            allowManualRefreshesAfterAutomaticRefreshes: true\n        }\n    };\n}\n\nexport const ContentTypes = {\n    applicationJson: \"application/json\",\n    applicationXWwwFormUrlencoded: \"application/x-www-form-urlencoded\"\n};\n\nexport interface ISeparationDefinition {\n    spacing: number;\n    lineThickness?: number;\n    lineColor?: string;\n}\n\nexport interface IInput {\n    id?: string;\n    value?: string;\n    validateValue(): boolean;\n}\n\nexport type Dictionary<T> = { [key: string]: T };\n\nexport class StringWithSubstitutions {\n    private _isProcessed: boolean = false;\n    private _original?: string;\n    private _processed?: string;\n\n    getReferencedInputs(inputs: IInput[], referencedInputs: Dictionary<IInput>) {\n        if (!referencedInputs) {\n            throw new Error(\"The referencedInputs parameter cannot be null.\");\n        }\n\n        if (this._original) {\n            for (const input of inputs) {\n                const matches = new RegExp(\"\\\\{{2}(\" + input.id + \").value\\\\}{2}\", \"gi\").exec(\n                    this._original\n                );\n\n                if (matches != null && input.id) {\n                    referencedInputs[input.id] = input;\n                }\n            }\n        }\n    }\n\n    substituteInputValues(inputs: Dictionary<IInput>, contentType: string) {\n        this._processed = this._original;\n\n        if (this._original) {\n            const regEx = /\\{{2}([a-z0-9_$@]+).value\\}{2}/gi;\n            let matches;\n\n            while ((matches = regEx.exec(this._original)) !== null && this._processed) {\n                for (const key of Object.keys(inputs)) {\n                    if (key.toLowerCase() === matches[1].toLowerCase()) {\n                        const matchedInput = inputs[key];\n\n                        let valueForReplace = \"\";\n\n                        if (matchedInput.value) {\n                            valueForReplace = matchedInput.value;\n                        }\n\n                        if (contentType === ContentTypes.applicationJson) {\n                            valueForReplace = JSON.stringify(valueForReplace);\n                            valueForReplace = valueForReplace.slice(1, -1);\n                        } else if (contentType === ContentTypes.applicationXWwwFormUrlencoded) {\n                            valueForReplace = encodeURIComponent(valueForReplace);\n                        }\n\n                        this._processed = this._processed.replace(matches[0], valueForReplace);\n\n                        break;\n                    }\n                }\n            }\n        }\n\n        this._isProcessed = true;\n    }\n\n    getOriginal(): string | undefined {\n        return this._original;\n    }\n\n    get(): string | undefined {\n        if (!this._isProcessed) {\n            return this._original;\n        } else {\n            return this._processed;\n        }\n    }\n\n    set(value: string | undefined) {\n        this._original = value;\n        this._isProcessed = false;\n    }\n}\n\nexport class SpacingDefinition {\n    left: number = 0;\n    top: number = 0;\n    right: number = 0;\n    bottom: number = 0;\n\n    constructor(top: number = 0, right: number = 0, bottom: number = 0, left: number = 0) {\n        this.top = top;\n        this.right = right;\n        this.bottom = bottom;\n        this.left = left;\n    }\n}\n\nexport class PaddingDefinition {\n    top: Enums.Spacing = Enums.Spacing.None;\n    right: Enums.Spacing = Enums.Spacing.None;\n    bottom: Enums.Spacing = Enums.Spacing.None;\n    left: Enums.Spacing = Enums.Spacing.None;\n\n    constructor(\n        top: Enums.Spacing = Enums.Spacing.None,\n        right: Enums.Spacing = Enums.Spacing.None,\n        bottom: Enums.Spacing = Enums.Spacing.None,\n        left: Enums.Spacing = Enums.Spacing.None\n    ) {\n        this.top = top;\n        this.right = right;\n        this.bottom = bottom;\n        this.left = left;\n    }\n}\n\nexport class SizeAndUnit {\n    physicalSize: number;\n    unit: Enums.SizeUnit;\n\n    static parse(input: string, requireUnitSpecifier: boolean = false): SizeAndUnit {\n        const result = new SizeAndUnit(0, Enums.SizeUnit.Weight);\n\n        if (typeof input === \"number\") {\n            result.physicalSize = input;\n\n            return result;\n        } else if (typeof input === \"string\") {\n            const regExp = /^([0-9]+)(px|\\*)?$/g;\n            const matches = regExp.exec(input);\n            const expectedMatchCount = requireUnitSpecifier ? 3 : 2;\n\n            if (matches && matches.length >= expectedMatchCount) {\n                result.physicalSize = parseInt(matches[1]);\n\n                if (matches.length === 3) {\n                    if (matches[2] === \"px\") {\n                        result.unit = Enums.SizeUnit.Pixel;\n                    }\n                }\n\n                return result;\n            }\n        }\n\n        throw new Error(\"Invalid size: \" + input);\n    }\n\n    constructor(physicalSize: number, unit: Enums.SizeUnit) {\n        this.physicalSize = physicalSize;\n        this.unit = unit;\n    }\n}\n\nexport interface IResourceInformation {\n    url: string;\n    mimeType: string;\n}\n\n/**\n * Fast UUID generator, RFC4122 version 4 compliant.\n * @author Jeff Ward (jcward.com).\n * @license MIT license\n * @link http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/21963136#21963136\n **/\n/* eslint-disable @typescript-eslint/no-extraneous-class, @typescript-eslint/naming-convention, no-bitwise */\nexport class UUID {\n    private static lut: string[] = [];\n\n    static generate(): string {\n        const d0 = (Math.random() * 0xffffffff) | 0;\n        const d1 = (Math.random() * 0xffffffff) | 0;\n        const d2 = (Math.random() * 0xffffffff) | 0;\n        const d3 = (Math.random() * 0xffffffff) | 0;\n\n        return (\n            UUID.lut[d0 & 0xff] +\n            UUID.lut[(d0 >> 8) & 0xff] +\n            UUID.lut[(d0 >> 16) & 0xff] +\n            UUID.lut[(d0 >> 24) & 0xff] +\n            \"-\" +\n            UUID.lut[d1 & 0xff] +\n            UUID.lut[(d1 >> 8) & 0xff] +\n            \"-\" +\n            UUID.lut[((d1 >> 16) & 0x0f) | 0x40] +\n            UUID.lut[(d1 >> 24) & 0xff] +\n            \"-\" +\n            UUID.lut[(d2 & 0x3f) | 0x80] +\n            UUID.lut[(d2 >> 8) & 0xff] +\n            \"-\" +\n            UUID.lut[(d2 >> 16) & 0xff] +\n            UUID.lut[(d2 >> 24) & 0xff] +\n            UUID.lut[d3 & 0xff] +\n            UUID.lut[(d3 >> 8) & 0xff] +\n            UUID.lut[(d3 >> 16) & 0xff] +\n            UUID.lut[(d3 >> 24) & 0xff]\n        );\n    }\n\n    static initialize() {\n        for (let i = 0; i < 256; i++) {\n            UUID.lut[i] = (i < 16 ? \"0\" : \"\") + i.toString(16);\n        }\n    }\n}\n\nUUID.initialize();\n/* eslint-enable @typescript-eslint/no-extraneous-class, @typescript-eslint/naming-convention, no-bitwise */\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\n// eslint-disable-next-line @typescript-eslint/no-extraneous-class\nexport class Strings {\n    static readonly errors = {\n        unknownElementType: (typeName: string) =>\n            `Unknown element type \"${typeName}\". Fallback will be used if present.`,\n        unknownActionType: (typeName: string) =>\n            `Unknown action type \"${typeName}\". Fallback will be used if present.`,\n        elementTypeNotAllowed: (typeName: string) =>\n            `Element type \"${typeName}\" is not allowed in this context.`,\n        actionTypeNotAllowed: (typeName: string) =>\n            `Action type \"${typeName}\" is not allowed in this context.`,\n        invalidPropertyValue: (value: any, propertyName: string) =>\n            `Invalid value \"${value}\" for property \"${propertyName}\".`,\n        showCardMustHaveCard: () =>\n            `\"An Action.ShowCard must have its \"card\" property set to a valid AdaptiveCard object.`,\n        invalidColumnWidth: (invalidWidth: string) =>\n            `Invalid column width \"${invalidWidth}\" - defaulting to \"auto\".`,\n        invalidCardVersion: (defaultingToVersion: string) =>\n            `Invalid card version. Defaulting to \"${defaultingToVersion}\".`,\n        invalidVersionString: (versionString: string) =>\n            `Invalid version string \"${versionString}\".`,\n        propertyValueNotSupported: (\n            value: any,\n            propertyName: string,\n            supportedInVersion: string,\n            versionUsed: string\n        ) =>\n            `Value \"${value}\" for property \"${propertyName}\" is supported in version ${supportedInVersion}, but you are using version ${versionUsed}.`,\n        propertyNotSupported: (\n            propertyName: string,\n            supportedInVersion: string,\n            versionUsed: string\n        ) =>\n            `Property \"${propertyName}\" is supported in version ${supportedInVersion}, but you are using version ${versionUsed}.`,\n        indexOutOfRange: (index: number) => `Index out of range (${index}).`,\n        elementCannotBeUsedAsInline: () =>\n            \"RichTextBlock.addInline: the specified card element cannot be used as a RichTextBlock inline.\",\n        inlineAlreadyParented: () =>\n            \"RichTextBlock.addInline: the specified inline already belongs to another RichTextBlock.\",\n        interactivityNotAllowed: () => \"Interactivity is not allowed.\",\n        inputsMustHaveUniqueId: () => \"All inputs must have a unique Id.\",\n        choiceSetMustHaveAtLeastOneChoice: () =>\n            \"An Input.ChoiceSet must have at least one choice defined.\",\n        choiceSetChoicesMustHaveTitleAndValue: () =>\n            \"All choices in an Input.ChoiceSet must have their title and value properties set.\",\n        propertyMustBeSet: (propertyName: string) => `Property \"${propertyName}\" must be set.`,\n        actionHttpHeadersMustHaveNameAndValue: () =>\n            \"All headers of an Action.Http must have their name and value properties set.\",\n        tooManyActions: (maximumActions: number) =>\n            `Maximum number of actions exceeded (${maximumActions}).`,\n        tooLittleTimeDelay: (minAutoplayDelay: number) =>\n            `Autoplay Delay is too short (${minAutoplayDelay}).`,\n        tooManyCarouselPages: (maxCarouselPages: number) =>\n            `Maximum number of Carousel pages exceeded (${maxCarouselPages}).`,\n        invalidInitialPageIndex: (initialPageIndex: number) =>\n            `InitialPage for carousel is invalid (${initialPageIndex}).`,\n        columnAlreadyBelongsToAnotherSet: () => \"This column already belongs to another ColumnSet.\",\n        invalidCardType: () =>\n            `Invalid or missing card type. Make sure the card's type property is set to \"AdaptiveCard\".`,\n        unsupportedCardVersion: (version: string, maxSupportedVersion: string) =>\n            `The specified card version (${version}) is not supported or still in preview. The latest released card version is ${maxSupportedVersion}.`,\n        duplicateId: (id: string) => `Duplicate Id \"${id}\".`,\n        markdownProcessingNotEnabled: () =>\n            \"Markdown processing isn't enabled. Please see https://www.npmjs.com/package/adaptivecards#supporting-markdown\",\n        processMarkdownEventRemoved: () =>\n            \"The processMarkdown event has been removed. Please update your code and set onProcessMarkdown instead.\",\n        elementAlreadyParented: () => \"The element already belongs to another container.\",\n        actionAlreadyParented: () => \"The action already belongs to another element.\",\n        elementTypeNotStandalone: (typeName: string) =>\n            `Elements of type ${typeName} cannot be used as standalone elements.`,\n        invalidInputLabelWidth: () =>\n            `Invalid input label width. Defaulting to label width from host config.`,\n    };\n    static readonly magicCodeInputCard = {\n        tryAgain: () => \"That didn't work... let's try again.\",\n        pleaseLogin: () =>\n            'Please login in the popup. You will obtain a magic code. Paste that code below and select \"Submit\"',\n        enterMagicCode: () => \"Enter magic code\",\n        pleaseEnterMagicCodeYouReceived: () => \"Please enter the magic code you received.\",\n        submit: () => \"Submit\",\n        cancel: () => \"Cancel\",\n        somethingWentWrong: () => \"Something went wrong. This action can't be handled.\",\n        authenticationFailed: () => \"Authentication failed.\"\n    };\n    static readonly runtime = {\n        automaticRefreshPaused: () => \"Automatic refresh paused.\",\n        clckToRestartAutomaticRefresh: () => \"Click to restart.\",\n        refreshThisCard: () => \"Refresh this card\"\n    };\n    static readonly hints = {\n        dontUseWeightedAndStrecthedColumnsInSameSet: () =>\n            \"It is not recommended to use weighted and stretched columns in the same ColumnSet, because in such a situation stretched columns will always get the minimum amount of space.\"\n    };\n    static readonly defaults = {\n        inlineActionTitle: () => \"Inline Action\",\n        overflowButtonText: () => \"...\",\n        overflowButtonTooltip: () => \"More options\",\n        emptyElementText: (elementType: string) => `Empty ${elementType}`,\n        mediaPlayerAriaLabel: () => \"Media content\",\n        mediaPlayerPlayMedia: () => \"Play media\",\n        youTubeVideoPlayer: () => \"YouTube video player\",\n        vimeoVideoPlayer: () => \"Vimeo video player\",\n        dailymotionVideoPlayer: () => \"Dailymotion video player\",\n        carouselNavigationPreviousTooltip: () => \"Previous carousel page\",\n        carouselNavigationNextTooltip: () => \"Next carousel page\"\n    };\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport {\n    CardElement,\n    StylableCardElementContainer,\n    SerializationContext,\n    Container,\n    ContainerStyleProperty\n} from \"./card-elements\";\nimport {\n    HorizontalAlignment,\n    VerticalAlignment,\n    SizeUnit,\n    ValidationEvent,\n    TypeErrorType,\n    Spacing\n} from \"./enums\";\nimport { TextStyleDefinition } from \"./host-config\";\nimport { GlobalRegistry } from \"./registry\";\nimport {\n    BaseSerializationContext,\n    BoolProperty,\n    CustomProperty,\n    EnumProperty,\n    property,\n    PropertyBag,\n    PropertyDefinition,\n    SerializableObject,\n    SerializableObjectCollectionProperty,\n    Versions\n} from \"./serialization\";\nimport { SizeAndUnit, PaddingDefinition } from \"./shared\";\nimport { Strings } from \"./strings\";\nimport { stringToCssColor } from \"./utils\";\n\nexport class TableColumnDefinition extends SerializableObject {\n    //#region Schema\n\n    static readonly horizontalCellContentAlignmentProperty = new EnumProperty(\n        Versions.v1_5,\n        \"horizontalCellContentAlignment\",\n        HorizontalAlignment\n    );\n    static readonly verticalCellContentAlignmentProperty = new EnumProperty(\n        Versions.v1_5,\n        \"verticalCellContentAlignment\",\n        VerticalAlignment\n    );\n\n    static readonly widthProperty = new CustomProperty<SizeAndUnit>(\n        Versions.v1_5,\n        \"width\",\n        (\n            sender: SerializableObject,\n            prop: PropertyDefinition,\n            source: PropertyBag,\n            context: BaseSerializationContext\n        ) => {\n            let result: SizeAndUnit = prop.defaultValue;\n            const value = source[prop.name];\n            let invalidWidth = false;\n\n            if (typeof value === \"number\" && !isNaN(value)) {\n                result = new SizeAndUnit(value, SizeUnit.Weight);\n            } else if (typeof value === \"string\") {\n                try {\n                    result = SizeAndUnit.parse(value);\n                } catch (e) {\n                    invalidWidth = true;\n                }\n            } else {\n                invalidWidth = true;\n            }\n\n            if (invalidWidth) {\n                context.logParseEvent(\n                    sender,\n                    ValidationEvent.InvalidPropertyValue,\n                    Strings.errors.invalidColumnWidth(value)\n                );\n            }\n\n            return result;\n        },\n        (\n            sender: SerializableObject,\n            property: PropertyDefinition,\n            target: PropertyBag,\n            value: SizeAndUnit,\n            context: BaseSerializationContext\n        ) => {\n            if (value.unit === SizeUnit.Pixel) {\n                context.serializeValue(target, \"width\", value.physicalSize + \"px\");\n            } else {\n                context.serializeNumber(target, \"width\", value.physicalSize);\n            }\n        },\n        new SizeAndUnit(1, SizeUnit.Weight)\n    );\n\n    @property(TableColumnDefinition.horizontalCellContentAlignmentProperty)\n    horizontalCellContentAlignment?: HorizontalAlignment;\n\n    @property(TableColumnDefinition.verticalCellContentAlignmentProperty)\n    verticalCellContentAlignment?: VerticalAlignment;\n\n    @property(TableColumnDefinition.widthProperty)\n    width: SizeAndUnit = new SizeAndUnit(1, SizeUnit.Weight);\n\n    getSchemaKey(): string {\n        return \"ColumnDefinition\";\n    }\n\n    //#endregion\n\n    computedWidth: SizeAndUnit;\n}\n\nexport abstract class StylableContainer<\n    T extends CardElement\n> extends StylableCardElementContainer {\n    private _items: T[] = [];\n\n    private parseItem(source: any, context: SerializationContext): T | undefined {\n        return context.parseCardObject<T>(\n            this,\n            source,\n            [], // Forbidden types not supported for elements for now\n            !this.isDesignMode(),\n            (typeName: string) => {\n                return this.createItemInstance(typeName);\n            },\n            (typeName: string, _errorType: TypeErrorType) => {\n                context.logParseEvent(\n                    undefined,\n                    ValidationEvent.ElementTypeNotAllowed,\n                    Strings.errors.elementTypeNotAllowed(typeName)\n                );\n            }\n        );\n    }\n\n    protected abstract getCollectionPropertyName(): string;\n    protected abstract createItemInstance(typeName: string): T | undefined;\n\n    protected internalAddItem(item: T) {\n        if (!item.parent) {\n            this._items.push(item);\n\n            item.setParent(this);\n        } else {\n            throw new Error(Strings.errors.elementAlreadyParented());\n        }\n    }\n\n    protected internalRemoveItem(item: T): boolean {\n        const itemIndex = this._items.indexOf(item);\n\n        if (itemIndex >= 0) {\n            this._items.splice(itemIndex, 1);\n\n            item.setParent(undefined);\n\n            this.updateLayout();\n\n            return true;\n        }\n\n        return false;\n    }\n\n    protected internalIndexOf(item: T): number {\n        return this._items.indexOf(item);\n    }\n\n    protected internalParse(source: any, context: SerializationContext) {\n        super.internalParse(source, context);\n\n        this._items = [];\n\n        const items = source[this.getCollectionPropertyName()];\n\n        if (Array.isArray(items)) {\n            for (const item of items) {\n                const instance = this.parseItem(item, context);\n\n                if (instance) {\n                    this._items.push(instance);\n                }\n            }\n        }\n    }\n\n    protected internalToJSON(target: PropertyBag, context: SerializationContext) {\n        super.internalToJSON(target, context);\n\n        context.serializeArray(target, this.getCollectionPropertyName(), this._items);\n    }\n\n    removeItem(item: T): boolean {\n        return this.internalRemoveItem(item);\n    }\n\n    getItemCount(): number {\n        return this._items.length;\n    }\n\n    getItemAt(index: number): T {\n        return this._items[index];\n    }\n\n    getFirstVisibleRenderedItem(): T | undefined {\n        return this.getItemCount() > 0 ? this.getItemAt(0) : undefined;\n    }\n\n    getLastVisibleRenderedItem(): T | undefined {\n        return this.getItemCount() > 0 ? this.getItemAt(this.getItemCount() - 1) : undefined;\n    }\n}\n\nexport type CellType = \"data\" | \"header\";\n\nexport class TableCell extends Container {\n    private _columnIndex: number = -1;\n    private _cellType: CellType = \"data\";\n\n    protected getHasBorder(): boolean {\n        return this.parentRow.parentTable.showGridLines;\n    }\n\n    protected applyBorder() {\n        if (this.renderedElement && this.getHasBorder()) {\n            const styleDefinition = this.hostConfig.containerStyles.getStyleByName(\n                this.parentRow.parentTable.gridStyle\n            );\n\n            if (styleDefinition.borderColor) {\n                const borderColor = stringToCssColor(styleDefinition.borderColor);\n\n                if (borderColor) {\n                    this.renderedElement.style.borderRight = \"1px solid \" + borderColor;\n                    this.renderedElement.style.borderBottom = \"1px solid \" + borderColor;\n                }\n            }\n        }\n    }\n\n    protected getDefaultPadding(): PaddingDefinition {\n        return this.getHasBackground() || this.getHasBorder()\n            ? new PaddingDefinition(Spacing.Small, Spacing.Small, Spacing.Small, Spacing.Small)\n            : super.getDefaultPadding();\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        const cellElement = super.internalRender();\n\n        if (cellElement) {\n            cellElement.setAttribute(\"role\", this.cellType === \"data\" ? \"cell\" : \"columnheader\");\n            cellElement.style.minWidth = \"0\";\n\n            if (this.cellType === \"header\") {\n                cellElement.setAttribute(\"scope\", \"col\");\n            }\n        }\n\n        return cellElement;\n    }\n\n    protected shouldSerialize(_context: SerializationContext): boolean {\n        return true;\n    }\n\n    getJsonTypeName(): string {\n        return \"TableCell\";\n    }\n\n    getEffectiveTextStyleDefinition(): TextStyleDefinition {\n        if (this.cellType === \"header\") {\n            return this.hostConfig.textStyles.columnHeader;\n        }\n\n        return super.getEffectiveTextStyleDefinition();\n    }\n\n    getEffectiveHorizontalAlignment(): HorizontalAlignment {\n        if (this.horizontalAlignment !== undefined) {\n            return this.horizontalAlignment;\n        }\n\n        if (this.parentRow.horizontalCellContentAlignment !== undefined) {\n            return this.parentRow.horizontalCellContentAlignment;\n        }\n\n        if (this.columnIndex >= 0) {\n            const horizontalAlignment = this.parentRow.parentTable.getColumnAt(\n                this.columnIndex\n            ).horizontalCellContentAlignment;\n\n            if (horizontalAlignment !== undefined) {\n                return horizontalAlignment;\n            }\n        }\n\n        if (this.parentRow.parentTable.horizontalCellContentAlignment !== undefined) {\n            return this.parentRow.parentTable.horizontalCellContentAlignment;\n        }\n\n        return super.getEffectiveHorizontalAlignment();\n    }\n\n    getEffectiveVerticalContentAlignment(): VerticalAlignment {\n        if (this.verticalContentAlignment !== undefined) {\n            return this.verticalContentAlignment;\n        }\n\n        if (this.parentRow.verticalCellContentAlignment !== undefined) {\n            return this.parentRow.verticalCellContentAlignment;\n        }\n\n        if (this.columnIndex >= 0) {\n            const verticalAlignment = this.parentRow.parentTable.getColumnAt(\n                this.columnIndex\n            ).verticalCellContentAlignment;\n\n            if (verticalAlignment !== undefined) {\n                return verticalAlignment;\n            }\n        }\n\n        if (this.parentRow.parentTable.verticalCellContentAlignment !== undefined) {\n            return this.parentRow.parentTable.verticalCellContentAlignment;\n        }\n\n        return super.getEffectiveVerticalContentAlignment();\n    }\n\n    get columnIndex(): number {\n        return this._columnIndex;\n    }\n\n    get cellType(): CellType {\n        return this._cellType;\n    }\n\n    get parentRow(): TableRow {\n        return this.parent as TableRow;\n    }\n\n    get isStandalone(): boolean {\n        return false;\n    }\n}\n\nexport class TableRow extends StylableContainer<TableCell> {\n    //#region Schema\n\n    static readonly styleProperty = new ContainerStyleProperty(Versions.v1_5, \"style\");\n    static readonly horizontalCellContentAlignmentProperty = new EnumProperty(\n        Versions.v1_5,\n        \"horizontalCellContentAlignment\",\n        HorizontalAlignment\n    );\n    static readonly verticalCellContentAlignmentProperty = new EnumProperty(\n        Versions.v1_5,\n        \"verticalCellContentAlignment\",\n        VerticalAlignment\n    );\n\n    @property(TableRow.horizontalCellContentAlignmentProperty)\n    horizontalCellContentAlignment?: HorizontalAlignment;\n\n    @property(TableRow.verticalCellContentAlignmentProperty)\n    verticalCellContentAlignment?: VerticalAlignment;\n\n    //#endregion\n\n    protected getDefaultPadding(): PaddingDefinition {\n        return new PaddingDefinition(Spacing.None, Spacing.None, Spacing.None, Spacing.None);\n    }\n\n    protected applyBackground() {\n        if (this.renderedElement) {\n            const styleDefinition = this.hostConfig.containerStyles.getStyleByName(\n                this.style,\n                this.hostConfig.containerStyles.getStyleByName(this.defaultStyle)\n            );\n\n            if (styleDefinition.backgroundColor) {\n                const bgColor = stringToCssColor(styleDefinition.backgroundColor);\n\n                if (bgColor) {\n                    this.renderedElement.style.backgroundColor = bgColor;\n                }\n            }\n        }\n    }\n\n    protected getCollectionPropertyName(): string {\n        return \"cells\";\n    }\n\n    protected createItemInstance(typeName: string): TableCell | undefined {\n        return !typeName || typeName === \"TableCell\" ? new TableCell() : undefined;\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        const isFirstRow = this.getIsFirstRow();\n        const cellSpacing = this.hostConfig.table.cellSpacing;\n\n        const rowElement = document.createElement(\"div\");\n        rowElement.setAttribute(\"role\", \"row\");\n        rowElement.style.display = \"flex\";\n        rowElement.style.flexDirection = \"row\";\n\n        for (let i = 0; i < Math.min(this.getItemCount(), this.parentTable.getColumnCount()); i++) {\n            const cell = this.getItemAt(i);\n\n            // Cheating a bit in order to keep cellType read-only\n            cell[\"_columnIndex\"] = i;\n            cell[\"_cellType\"] =\n                this.parentTable.firstRowAsHeaders && isFirstRow ? \"header\" : \"data\";\n\n            const renderedCell = cell.render();\n\n            if (renderedCell) {\n                const column = this.parentTable.getColumnAt(i);\n\n                if (column.computedWidth.unit === SizeUnit.Pixel) {\n                    renderedCell.style.flex = \"0 0 \" + column.computedWidth.physicalSize + \"px\";\n                } else {\n                    renderedCell.style.flex = \"1 1 \" + column.computedWidth.physicalSize + \"%\";\n                }\n\n                if (i > 0 && !this.parentTable.showGridLines && cellSpacing > 0) {\n                    renderedCell.style.marginLeft = cellSpacing + \"px\";\n                }\n\n                rowElement.appendChild(renderedCell);\n            }\n        }\n\n        return rowElement.children.length > 0 ? rowElement : undefined;\n    }\n\n    protected shouldSerialize(_context: SerializationContext): boolean {\n        return true;\n    }\n\n    addCell(cell: TableCell) {\n        this.internalAddItem(cell);\n    }\n\n    removeCellAt(columnIndex: number): boolean {\n        if (columnIndex >= 0 && columnIndex < this.getItemCount()) {\n            return this.removeItem(this.getItemAt(columnIndex));\n        }\n\n        return false;\n    }\n\n    indexOf(cardElement: CardElement): number {\n        return cardElement instanceof TableCell ? this.internalIndexOf(cardElement) : -1;\n    }\n\n    ensureHasEnoughCells(cellCount: number) {\n        while (this.getItemCount() < cellCount) {\n            this.addCell(new TableCell());\n        }\n    }\n\n    getJsonTypeName(): string {\n        return \"TableRow\";\n    }\n\n    getIsFirstRow(): boolean {\n        return this.parentTable.getItemAt(0) === this;\n    }\n\n    get parentTable(): Table {\n        return this.parent as Table;\n    }\n\n    get isStandalone(): boolean {\n        return false;\n    }\n}\n\nexport class Table extends StylableContainer<TableRow> {\n    //#region Schema\n\n    private static readonly _columnsProperty = new SerializableObjectCollectionProperty(\n        Versions.v1_5,\n        \"columns\",\n        TableColumnDefinition\n    );\n\n    static readonly firstRowAsHeadersProperty = new BoolProperty(\n        Versions.v1_5,\n        \"firstRowAsHeaders\",\n        true\n    );\n    static readonly showGridLinesProperty = new BoolProperty(Versions.v1_5, \"showGridLines\", true);\n    static readonly gridStyleProperty = new ContainerStyleProperty(Versions.v1_5, \"gridStyle\");\n    static readonly horizontalCellContentAlignmentProperty = new EnumProperty(\n        Versions.v1_5,\n        \"horizontalCellContentAlignment\",\n        HorizontalAlignment\n    );\n    static readonly verticalCellContentAlignmentProperty = new EnumProperty(\n        Versions.v1_5,\n        \"verticalCellContentAlignment\",\n        VerticalAlignment\n    );\n\n    @property(Table._columnsProperty)\n    private _columns: TableColumnDefinition[] = [];\n\n    @property(Table.firstRowAsHeadersProperty)\n    firstRowAsHeaders: boolean = true;\n\n    @property(Table.showGridLinesProperty)\n    showGridLines: boolean = true;\n\n    @property(Table.gridStyleProperty)\n    get gridStyle(): string | undefined {\n        const style = this.getValue(Table.gridStyleProperty);\n\n        if (style && this.hostConfig.containerStyles.getStyleByName(style)) {\n            return style;\n        }\n\n        return undefined;\n    }\n\n    set gridStyle(value: string | undefined) {\n        this.setValue(Table.gridStyleProperty, value);\n    }\n\n    @property(Table.horizontalCellContentAlignmentProperty)\n    horizontalCellContentAlignment?: HorizontalAlignment;\n\n    @property(Table.verticalCellContentAlignmentProperty)\n    verticalCellContentAlignment?: VerticalAlignment;\n\n    //#endregion\n\n    private ensureRowsHaveEnoughCells() {\n        for (let i = 0; i < this.getItemCount(); i++) {\n            this.getItemAt(i).ensureHasEnoughCells(this.getColumnCount());\n        }\n    }\n\n    private removeCellsFromColumn(columnIndex: number) {\n        for (let i = 0; i < this.getItemCount(); i++) {\n            this.getItemAt(i).removeCellAt(columnIndex);\n        }\n    }\n\n    protected getCollectionPropertyName(): string {\n        return \"rows\";\n    }\n\n    protected createItemInstance(typeName: string): TableRow | undefined {\n        return !typeName || typeName === \"TableRow\" ? new TableRow() : undefined;\n    }\n\n    protected internalParse(source: PropertyBag, context: SerializationContext) {\n        super.internalParse(source, context);\n\n        this.ensureRowsHaveEnoughCells();\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        if (this.getItemCount() > 0) {\n            let totalWeights: number = 0;\n\n            for (const column of this._columns) {\n                if (column.width.unit === SizeUnit.Weight) {\n                    totalWeights += column.width.physicalSize;\n                }\n            }\n\n            for (const column of this._columns) {\n                if (column.width.unit === SizeUnit.Pixel) {\n                    column.computedWidth = new SizeAndUnit(\n                        column.width.physicalSize,\n                        SizeUnit.Pixel\n                    );\n                } else {\n                    column.computedWidth = new SizeAndUnit(\n                        (100 / totalWeights) * column.width.physicalSize,\n                        SizeUnit.Weight\n                    );\n                }\n            }\n\n            const tableElement = document.createElement(\"div\");\n            tableElement.setAttribute(\"role\", \"table\");\n            tableElement.style.display = \"flex\";\n            tableElement.style.flexDirection = \"column\";\n\n            if (this.showGridLines) {\n                const styleDefinition = this.hostConfig.containerStyles.getStyleByName(\n                    this.gridStyle\n                );\n\n                if (styleDefinition.borderColor) {\n                    const borderColor = stringToCssColor(styleDefinition.borderColor);\n\n                    if (borderColor) {\n                        tableElement.style.borderTop = \"1px solid \" + borderColor;\n                        tableElement.style.borderLeft = \"1px solid \" + borderColor;\n                    }\n                }\n            }\n\n            const cellSpacing = this.hostConfig.table.cellSpacing;\n\n            for (let i = 0; i < this.getItemCount(); i++) {\n                const renderedRow = this.getItemAt(i).render();\n\n                if (renderedRow) {\n                    if (i > 0 && !this.showGridLines && cellSpacing > 0) {\n                        const separatorRow = document.createElement(\"div\");\n                        separatorRow.setAttribute(\"aria-hidden\", \"true\");\n                        separatorRow.style.height = cellSpacing + \"px\";\n\n                        tableElement.appendChild(separatorRow);\n                    }\n\n                    tableElement.appendChild(renderedRow);\n                }\n            }\n\n            return tableElement;\n        }\n\n        return undefined;\n    }\n\n    addColumn(column: TableColumnDefinition) {\n        this._columns.push(column);\n\n        this.ensureRowsHaveEnoughCells();\n    }\n\n    removeColumn(column: TableColumnDefinition) {\n        const index = this._columns.indexOf(column);\n\n        if (index >= 0) {\n            this.removeCellsFromColumn(index);\n\n            this._columns.splice(index, 1);\n        }\n    }\n\n    getColumnCount(): number {\n        return this._columns.length;\n    }\n\n    getColumnAt(index: number): TableColumnDefinition {\n        return this._columns[index];\n    }\n\n    addRow(row: TableRow) {\n        this.internalAddItem(row);\n\n        row.ensureHasEnoughCells(this.getColumnCount());\n    }\n\n    indexOf(cardElement: CardElement): number {\n        return cardElement instanceof TableRow ? this.internalIndexOf(cardElement) : -1;\n    }\n\n    getJsonTypeName(): string {\n        return \"Table\";\n    }\n}\n\nGlobalRegistry.defaultElements.register(\"Table\", Table, Versions.v1_5);\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nabstract class AbstractTextFormatter {\n    private _regularExpression: RegExp;\n\n    protected abstract internalFormat(lang: string | undefined, matches: RegExpExecArray): string;\n\n    constructor(regularExpression: RegExp) {\n        this._regularExpression = regularExpression;\n    }\n\n    format(lang: string | undefined, input: string | undefined): string | undefined {\n        let matches;\n\n        if (input) {\n            let result = input;\n\n            while ((matches = this._regularExpression.exec(input)) != null) {\n                result = result.replace(matches[0], this.internalFormat(lang, matches));\n            }\n\n            return result;\n        } else {\n            return input;\n        }\n    }\n}\n\nclass DateFormatter extends AbstractTextFormatter {\n    protected internalFormat(lang: string | undefined, matches: RegExpExecArray): string {\n        const date = new Date(Date.parse(matches[1]));\n        const format = matches[2] !== undefined ? matches[2].toLowerCase() : \"compact\";\n\n        if (format !== \"compact\") {\n            return date.toLocaleDateString(lang, {\n                day: \"numeric\",\n                weekday: format,\n                month: format,\n                year: \"numeric\"\n            } as Intl.DateTimeFormatOptions);\n        } else {\n            return date.toLocaleDateString();\n        }\n    }\n}\n\nclass TimeFormatter extends AbstractTextFormatter {\n    protected internalFormat(lang: string | undefined, matches: RegExpExecArray): string {\n        const date = new Date(Date.parse(matches[1]));\n\n        return date.toLocaleTimeString(lang, { hour: \"numeric\", minute: \"2-digit\" });\n    }\n}\n\nexport function formatText(lang: string | undefined, text: string | undefined): string | undefined {\n    const formatters: AbstractTextFormatter[] = [\n        new DateFormatter(\n            /\\{{2}DATE\\((\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(?:Z|(?:(?:-|\\+)\\d{2}:\\d{2})))(?:, ?(COMPACT|LONG|SHORT))?\\)\\}{2}/g\n        ),\n        new TimeFormatter(\n            /\\{{2}TIME\\((\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(?:Z|(?:(?:-|\\+)\\d{2}:\\d{2})))\\)\\}{2}/g\n        )\n    ];\n\n    let result = text;\n\n    for (const formatter of formatters) {\n        result = formatter.format(lang, result);\n    }\n\n    return result;\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport * as Enums from \"./enums\";\nimport * as Shared from \"./shared\";\n\n// To work around TypeScript complaining about documentMode not being declared\n// on type Document\ndeclare global {\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    interface Document {\n        documentMode?: any;\n    }\n}\n\nexport function isInternetExplorer(): boolean {\n    // The documentMode property only exists in IE\n    return window.document.documentMode !== undefined;\n}\n\nexport function isMobileOS(): boolean {\n    const userAgent = window.navigator.userAgent;\n\n    return (\n        !!userAgent.match(/Android/i) || !!userAgent.match(/iPad/i) || !!userAgent.match(/iPhone/i)\n    );\n}\n\n/**\n * Generate a UUID prepended with \"__ac-\"\n */\nexport function generateUniqueId(): string {\n    return \"__ac-\" + Shared.UUID.generate();\n}\n\nexport function appendChild(node: Node, child: Node | undefined) {\n    if (child) {\n        node.appendChild(child);\n    }\n}\n\nexport function parseString(obj: any, defaultValue?: string): string | undefined {\n    return typeof obj === \"string\" ? obj : defaultValue;\n}\n\nexport function parseNumber(obj: any, defaultValue?: number): number | undefined {\n    return typeof obj === \"number\" ? obj : defaultValue;\n}\n\nexport function parseBool(value: any, defaultValue?: boolean): boolean | undefined {\n    if (typeof value === \"boolean\") {\n        return value;\n    } else if (typeof value === \"string\") {\n        switch (value.toLowerCase()) {\n            case \"true\":\n                return true;\n            case \"false\":\n                return false;\n            default:\n                return defaultValue;\n        }\n    }\n\n    return defaultValue;\n}\n\nexport function getEnumValueByName(\n    enumType: { [s: number]: string },\n    name: string\n): number | undefined {\n    // eslint-disable-next-line guard-for-in\n    for (const key in enumType) {\n        const keyAsNumber = parseInt(key, 10);\n\n        if (keyAsNumber >= 0) {\n            const value = enumType[key];\n\n            if (value && typeof value === \"string\" && value.toLowerCase() === name.toLowerCase()) {\n                return keyAsNumber;\n            }\n        }\n    }\n\n    return undefined;\n}\n\nexport function parseEnum(\n    enumType: { [s: number]: string },\n    name: string,\n    defaultValue?: number\n): number | undefined {\n    if (!name) {\n        return defaultValue;\n    }\n\n    const enumValue = getEnumValueByName(enumType, name);\n\n    return enumValue !== undefined ? enumValue : defaultValue;\n}\n\nexport function stringToCssColor(color: string | undefined): string | undefined {\n    if (color) {\n        const regEx = /#([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})?/gi;\n        const matches = regEx.exec(color);\n\n        if (matches && matches[4]) {\n            const a = parseInt(matches[1], 16) / 255;\n            const r = parseInt(matches[2], 16);\n            const g = parseInt(matches[3], 16);\n            const b = parseInt(matches[4], 16);\n\n            return \"rgba(\" + r + \",\" + g + \",\" + b + \",\" + a + \")\";\n        }\n    }\n\n    return color;\n}\n\nfunction truncateWorker(\n    element: HTMLElement,\n    maxHeight: number,\n    fullText: string,\n    truncateAt: (text: string, idx: number) => void,\n    lineHeight?: number\n) {\n    const fits = () => {\n        // Allow a one pixel overflow to account for rounding differences\n        // between browsers\n        return maxHeight - element.scrollHeight >= -1.0;\n    };\n\n    if (fits()) {\n        return;\n    }\n\n    const breakableIndices = findBreakableIndices(fullText);\n    let lo = 0;\n    let hi = breakableIndices.length;\n    let bestBreakIdx = 0;\n\n    // Do a binary search for the longest string that fits\n    while (lo < hi) {\n        const mid = Math.floor((lo + hi) / 2);\n        truncateAt(fullText, breakableIndices[mid]);\n\n        if (fits()) {\n            bestBreakIdx = breakableIndices[mid];\n            lo = mid + 1;\n        } else {\n            hi = mid;\n        }\n    }\n\n    truncateAt(fullText, bestBreakIdx);\n\n    // If we have extra room, try to expand the string letter by letter\n    // (covers the case where we have to break in the middle of a long word)\n    if (lineHeight && maxHeight - element.scrollHeight >= lineHeight - 1.0) {\n        let idx = findNextCharacter(fullText, bestBreakIdx);\n\n        while (idx < fullText.length) {\n            truncateAt(fullText, idx);\n\n            if (fits()) {\n                bestBreakIdx = idx;\n                idx = findNextCharacter(fullText, idx);\n            } else {\n                break;\n            }\n        }\n\n        truncateAt(fullText, bestBreakIdx);\n    }\n}\n\nexport function truncateText(element: HTMLElement, maxHeight: number, lineHeight?: number) {\n    truncateWorker(\n        element,\n        maxHeight,\n        element.innerText,\n        (text: string, idx: number) => {\n            element.innerText = text.substring(0, idx) + \"...\";\n        },\n        lineHeight\n    );\n}\n\n/**\n * {@link truncate} has been deprecated and is no longer in use internally. This policy passes\n * content through as it always has, which is _supposed_ to be dealing with text only (see {@link\n * TextBlock.truncateIfSupported}), but had a bug where it might actually pass through an element\n * for which innerHTML yielded actual HTML (since fixed).\n */\nconst ttDeprecatedPolicy = (typeof window === 'undefined') ? undefined : window.trustedTypes?.createPolicy(\"adaptivecards#deprecatedExportedFunctionPolicy\", {\n    createHTML: (value) => value\n});\n\n/** @deprecated Use {@link truncateText} instead. */\nexport function truncate(element: HTMLElement, maxHeight: number, lineHeight?: number) {\n    truncateWorker(\n        element,\n        maxHeight,\n        element.innerHTML,\n        (text: string, idx: number) => {\n            const truncatedString = text.substring(0, idx) + \"...\";\n            const truncatedHTML =\n                ttDeprecatedPolicy?.createHTML(truncatedString) ?? truncatedString;\n            element.innerHTML = truncatedHTML as string;\n        },\n        lineHeight\n    );\n}\n\nfunction findBreakableIndices(html: string): number[] {\n    const results: number[] = [];\n    let idx = findNextCharacter(html, -1);\n\n    while (idx < html.length) {\n        if (html[idx] === \" \") {\n            results.push(idx);\n        }\n\n        idx = findNextCharacter(html, idx);\n    }\n\n    return results;\n}\n\nfunction findNextCharacter(html: string, currIdx: number): number {\n    currIdx += 1;\n\n    // If we found the start of an HTML tag, keep advancing until we get\n    // past it, so we don't end up truncating in the middle of the tag\n    while (currIdx < html.length && html[currIdx] === \"<\") {\n        while (currIdx < html.length && html[currIdx++] !== \">\") {\n            continue;\n        }\n    }\n\n    return currIdx;\n}\n\nexport function getFitStatus(element: HTMLElement, containerEnd: number): Enums.ContainerFitStatus {\n    const start = element.offsetTop;\n    const end = start + element.clientHeight;\n\n    if (end <= containerEnd) {\n        return Enums.ContainerFitStatus.FullyInContainer;\n    } else if (start < containerEnd) {\n        return Enums.ContainerFitStatus.Overflowing;\n    } else {\n        return Enums.ContainerFitStatus.FullyOutOfContainer;\n    }\n}\n\nexport function getScrollX(): number {\n    return window.pageXOffset;\n}\n\nexport function getScrollY(): number {\n    return window.pageYOffset;\n}\n\nexport function clearElementChildren(element: HTMLElement) {\n    while (element.firstChild) {\n        element.removeChild(element.firstChild);\n    }\n}\n\nexport function addCancelSelectActionEventHandler(element: HTMLElement) {\n    element.onclick = (e) => {\n        e.preventDefault();\n        e.cancelBubble = true;\n    };\n}\n\nexport function debounce(fn: (...args: unknown[]) => unknown, delay: number) {\n    let timer: NodeJS.Timeout;\n    function debouncedFn(...args: unknown[]) {\n        if (timer) {\n            clearTimeout(timer);\n        }\n        timer = setTimeout(() => {\n            fn(...args);\n        }, delay);\n    }\n    return debouncedFn;\n}\n","/**\n * SSR Window 4.0.2\n * Better handling for window object in SSR environment\n * https://github.com/nolimits4web/ssr-window\n *\n * Copyright 2021, Vladimir Kharlampidi\n *\n * Licensed under MIT\n *\n * Released on: December 13, 2021\n */\n/* eslint-disable no-param-reassign */\nfunction isObject(obj) {\n    return (obj !== null &&\n        typeof obj === 'object' &&\n        'constructor' in obj &&\n        obj.constructor === Object);\n}\nfunction extend(target = {}, src = {}) {\n    Object.keys(src).forEach((key) => {\n        if (typeof target[key] === 'undefined')\n            target[key] = src[key];\n        else if (isObject(src[key]) &&\n            isObject(target[key]) &&\n            Object.keys(src[key]).length > 0) {\n            extend(target[key], src[key]);\n        }\n    });\n}\n\nconst ssrDocument = {\n    body: {},\n    addEventListener() { },\n    removeEventListener() { },\n    activeElement: {\n        blur() { },\n        nodeName: '',\n    },\n    querySelector() {\n        return null;\n    },\n    querySelectorAll() {\n        return [];\n    },\n    getElementById() {\n        return null;\n    },\n    createEvent() {\n        return {\n            initEvent() { },\n        };\n    },\n    createElement() {\n        return {\n            children: [],\n            childNodes: [],\n            style: {},\n            setAttribute() { },\n            getElementsByTagName() {\n                return [];\n            },\n        };\n    },\n    createElementNS() {\n        return {};\n    },\n    importNode() {\n        return null;\n    },\n    location: {\n        hash: '',\n        host: '',\n        hostname: '',\n        href: '',\n        origin: '',\n        pathname: '',\n        protocol: '',\n        search: '',\n    },\n};\nfunction getDocument() {\n    const doc = typeof document !== 'undefined' ? document : {};\n    extend(doc, ssrDocument);\n    return doc;\n}\n\nconst ssrWindow = {\n    document: ssrDocument,\n    navigator: {\n        userAgent: '',\n    },\n    location: {\n        hash: '',\n        host: '',\n        hostname: '',\n        href: '',\n        origin: '',\n        pathname: '',\n        protocol: '',\n        search: '',\n    },\n    history: {\n        replaceState() { },\n        pushState() { },\n        go() { },\n        back() { },\n    },\n    CustomEvent: function CustomEvent() {\n        return this;\n    },\n    addEventListener() { },\n    removeEventListener() { },\n    getComputedStyle() {\n        return {\n            getPropertyValue() {\n                return '';\n            },\n        };\n    },\n    Image() { },\n    Date() { },\n    screen: {},\n    setTimeout() { },\n    clearTimeout() { },\n    matchMedia() {\n        return {};\n    },\n    requestAnimationFrame(callback) {\n        if (typeof setTimeout === 'undefined') {\n            callback();\n            return null;\n        }\n        return setTimeout(callback, 0);\n    },\n    cancelAnimationFrame(id) {\n        if (typeof setTimeout === 'undefined') {\n            return;\n        }\n        clearTimeout(id);\n    },\n};\nfunction getWindow() {\n    const win = typeof window !== 'undefined' ? window : {};\n    extend(win, ssrWindow);\n    return win;\n}\n\nexport { extend, getDocument, getWindow, ssrDocument, ssrWindow };\n","/**\n * Dom7 4.0.4\n * Minimalistic JavaScript library for DOM manipulation, with a jQuery-compatible API\n * https://framework7.io/docs/dom7.html\n *\n * Copyright 2022, Vladimir Kharlampidi\n *\n * Licensed under MIT\n *\n * Released on: January 11, 2022\n */\nimport { getWindow, getDocument } from 'ssr-window';\n\n/* eslint-disable no-proto */\nfunction makeReactive(obj) {\n  const proto = obj.__proto__;\n  Object.defineProperty(obj, '__proto__', {\n    get() {\n      return proto;\n    },\n\n    set(value) {\n      proto.__proto__ = value;\n    }\n\n  });\n}\n\nclass Dom7 extends Array {\n  constructor(items) {\n    if (typeof items === 'number') {\n      super(items);\n    } else {\n      super(...(items || []));\n      makeReactive(this);\n    }\n  }\n\n}\n\nfunction arrayFlat(arr = []) {\n  const res = [];\n  arr.forEach(el => {\n    if (Array.isArray(el)) {\n      res.push(...arrayFlat(el));\n    } else {\n      res.push(el);\n    }\n  });\n  return res;\n}\nfunction arrayFilter(arr, callback) {\n  return Array.prototype.filter.call(arr, callback);\n}\nfunction arrayUnique(arr) {\n  const uniqueArray = [];\n\n  for (let i = 0; i < arr.length; i += 1) {\n    if (uniqueArray.indexOf(arr[i]) === -1) uniqueArray.push(arr[i]);\n  }\n\n  return uniqueArray;\n}\nfunction toCamelCase(string) {\n  return string.toLowerCase().replace(/-(.)/g, (match, group) => group.toUpperCase());\n}\n\n// eslint-disable-next-line\n\nfunction qsa(selector, context) {\n  if (typeof selector !== 'string') {\n    return [selector];\n  }\n\n  const a = [];\n  const res = context.querySelectorAll(selector);\n\n  for (let i = 0; i < res.length; i += 1) {\n    a.push(res[i]);\n  }\n\n  return a;\n}\n\nfunction $(selector, context) {\n  const window = getWindow();\n  const document = getDocument();\n  let arr = [];\n\n  if (!context && selector instanceof Dom7) {\n    return selector;\n  }\n\n  if (!selector) {\n    return new Dom7(arr);\n  }\n\n  if (typeof selector === 'string') {\n    const html = selector.trim();\n\n    if (html.indexOf('<') >= 0 && html.indexOf('>') >= 0) {\n      let toCreate = 'div';\n      if (html.indexOf('<li') === 0) toCreate = 'ul';\n      if (html.indexOf('<tr') === 0) toCreate = 'tbody';\n      if (html.indexOf('<td') === 0 || html.indexOf('<th') === 0) toCreate = 'tr';\n      if (html.indexOf('<tbody') === 0) toCreate = 'table';\n      if (html.indexOf('<option') === 0) toCreate = 'select';\n      const tempParent = document.createElement(toCreate);\n      tempParent.innerHTML = html;\n\n      for (let i = 0; i < tempParent.childNodes.length; i += 1) {\n        arr.push(tempParent.childNodes[i]);\n      }\n    } else {\n      arr = qsa(selector.trim(), context || document);\n    } // arr = qsa(selector, document);\n\n  } else if (selector.nodeType || selector === window || selector === document) {\n    arr.push(selector);\n  } else if (Array.isArray(selector)) {\n    if (selector instanceof Dom7) return selector;\n    arr = selector;\n  }\n\n  return new Dom7(arrayUnique(arr));\n}\n\n$.fn = Dom7.prototype;\n\n// eslint-disable-next-line\n\nfunction addClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  this.forEach(el => {\n    el.classList.add(...classNames);\n  });\n  return this;\n}\n\nfunction removeClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  this.forEach(el => {\n    el.classList.remove(...classNames);\n  });\n  return this;\n}\n\nfunction toggleClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  this.forEach(el => {\n    classNames.forEach(className => {\n      el.classList.toggle(className);\n    });\n  });\n}\n\nfunction hasClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  return arrayFilter(this, el => {\n    return classNames.filter(className => el.classList.contains(className)).length > 0;\n  }).length > 0;\n}\n\nfunction attr(attrs, value) {\n  if (arguments.length === 1 && typeof attrs === 'string') {\n    // Get attr\n    if (this[0]) return this[0].getAttribute(attrs);\n    return undefined;\n  } // Set attrs\n\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (arguments.length === 2) {\n      // String\n      this[i].setAttribute(attrs, value);\n    } else {\n      // Object\n      for (const attrName in attrs) {\n        this[i][attrName] = attrs[attrName];\n        this[i].setAttribute(attrName, attrs[attrName]);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction removeAttr(attr) {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].removeAttribute(attr);\n  }\n\n  return this;\n}\n\nfunction prop(props, value) {\n  if (arguments.length === 1 && typeof props === 'string') {\n    // Get prop\n    if (this[0]) return this[0][props];\n  } else {\n    // Set props\n    for (let i = 0; i < this.length; i += 1) {\n      if (arguments.length === 2) {\n        // String\n        this[i][props] = value;\n      } else {\n        // Object\n        for (const propName in props) {\n          this[i][propName] = props[propName];\n        }\n      }\n    }\n\n    return this;\n  }\n\n  return this;\n}\n\nfunction data(key, value) {\n  let el;\n\n  if (typeof value === 'undefined') {\n    el = this[0];\n    if (!el) return undefined; // Get value\n\n    if (el.dom7ElementDataStorage && key in el.dom7ElementDataStorage) {\n      return el.dom7ElementDataStorage[key];\n    }\n\n    const dataKey = el.getAttribute(`data-${key}`);\n\n    if (dataKey) {\n      return dataKey;\n    }\n\n    return undefined;\n  } // Set value\n\n\n  for (let i = 0; i < this.length; i += 1) {\n    el = this[i];\n    if (!el.dom7ElementDataStorage) el.dom7ElementDataStorage = {};\n    el.dom7ElementDataStorage[key] = value;\n  }\n\n  return this;\n}\n\nfunction removeData(key) {\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (el.dom7ElementDataStorage && el.dom7ElementDataStorage[key]) {\n      el.dom7ElementDataStorage[key] = null;\n      delete el.dom7ElementDataStorage[key];\n    }\n  }\n}\n\nfunction dataset() {\n  const el = this[0];\n  if (!el) return undefined;\n  const dataset = {}; // eslint-disable-line\n\n  if (el.dataset) {\n    for (const dataKey in el.dataset) {\n      dataset[dataKey] = el.dataset[dataKey];\n    }\n  } else {\n    for (let i = 0; i < el.attributes.length; i += 1) {\n      const attr = el.attributes[i];\n\n      if (attr.name.indexOf('data-') >= 0) {\n        dataset[toCamelCase(attr.name.split('data-')[1])] = attr.value;\n      }\n    }\n  }\n\n  for (const key in dataset) {\n    if (dataset[key] === 'false') dataset[key] = false;else if (dataset[key] === 'true') dataset[key] = true;else if (parseFloat(dataset[key]) === dataset[key] * 1) dataset[key] *= 1;\n  }\n\n  return dataset;\n}\n\nfunction val(value) {\n  if (typeof value === 'undefined') {\n    // get value\n    const el = this[0];\n    if (!el) return undefined;\n\n    if (el.multiple && el.nodeName.toLowerCase() === 'select') {\n      const values = [];\n\n      for (let i = 0; i < el.selectedOptions.length; i += 1) {\n        values.push(el.selectedOptions[i].value);\n      }\n\n      return values;\n    }\n\n    return el.value;\n  } // set value\n\n\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (Array.isArray(value) && el.multiple && el.nodeName.toLowerCase() === 'select') {\n      for (let j = 0; j < el.options.length; j += 1) {\n        el.options[j].selected = value.indexOf(el.options[j].value) >= 0;\n      }\n    } else {\n      el.value = value;\n    }\n  }\n\n  return this;\n}\n\nfunction value(value) {\n  return this.val(value);\n}\n\nfunction transform(transform) {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].style.transform = transform;\n  }\n\n  return this;\n}\n\nfunction transition(duration) {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].style.transitionDuration = typeof duration !== 'string' ? `${duration}ms` : duration;\n  }\n\n  return this;\n}\n\nfunction on(...args) {\n  let [eventType, targetSelector, listener, capture] = args;\n\n  if (typeof args[1] === 'function') {\n    [eventType, listener, capture] = args;\n    targetSelector = undefined;\n  }\n\n  if (!capture) capture = false;\n\n  function handleLiveEvent(e) {\n    const target = e.target;\n    if (!target) return;\n    const eventData = e.target.dom7EventData || [];\n\n    if (eventData.indexOf(e) < 0) {\n      eventData.unshift(e);\n    }\n\n    if ($(target).is(targetSelector)) listener.apply(target, eventData);else {\n      const parents = $(target).parents(); // eslint-disable-line\n\n      for (let k = 0; k < parents.length; k += 1) {\n        if ($(parents[k]).is(targetSelector)) listener.apply(parents[k], eventData);\n      }\n    }\n  }\n\n  function handleEvent(e) {\n    const eventData = e && e.target ? e.target.dom7EventData || [] : [];\n\n    if (eventData.indexOf(e) < 0) {\n      eventData.unshift(e);\n    }\n\n    listener.apply(this, eventData);\n  }\n\n  const events = eventType.split(' ');\n  let j;\n\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (!targetSelector) {\n      for (j = 0; j < events.length; j += 1) {\n        const event = events[j];\n        if (!el.dom7Listeners) el.dom7Listeners = {};\n        if (!el.dom7Listeners[event]) el.dom7Listeners[event] = [];\n        el.dom7Listeners[event].push({\n          listener,\n          proxyListener: handleEvent\n        });\n        el.addEventListener(event, handleEvent, capture);\n      }\n    } else {\n      // Live events\n      for (j = 0; j < events.length; j += 1) {\n        const event = events[j];\n        if (!el.dom7LiveListeners) el.dom7LiveListeners = {};\n        if (!el.dom7LiveListeners[event]) el.dom7LiveListeners[event] = [];\n        el.dom7LiveListeners[event].push({\n          listener,\n          proxyListener: handleLiveEvent\n        });\n        el.addEventListener(event, handleLiveEvent, capture);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction off(...args) {\n  let [eventType, targetSelector, listener, capture] = args;\n\n  if (typeof args[1] === 'function') {\n    [eventType, listener, capture] = args;\n    targetSelector = undefined;\n  }\n\n  if (!capture) capture = false;\n  const events = eventType.split(' ');\n\n  for (let i = 0; i < events.length; i += 1) {\n    const event = events[i];\n\n    for (let j = 0; j < this.length; j += 1) {\n      const el = this[j];\n      let handlers;\n\n      if (!targetSelector && el.dom7Listeners) {\n        handlers = el.dom7Listeners[event];\n      } else if (targetSelector && el.dom7LiveListeners) {\n        handlers = el.dom7LiveListeners[event];\n      }\n\n      if (handlers && handlers.length) {\n        for (let k = handlers.length - 1; k >= 0; k -= 1) {\n          const handler = handlers[k];\n\n          if (listener && handler.listener === listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          } else if (listener && handler.listener && handler.listener.dom7proxy && handler.listener.dom7proxy === listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          } else if (!listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          }\n        }\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction once(...args) {\n  const dom = this;\n  let [eventName, targetSelector, listener, capture] = args;\n\n  if (typeof args[1] === 'function') {\n    [eventName, listener, capture] = args;\n    targetSelector = undefined;\n  }\n\n  function onceHandler(...eventArgs) {\n    listener.apply(this, eventArgs);\n    dom.off(eventName, targetSelector, onceHandler, capture);\n\n    if (onceHandler.dom7proxy) {\n      delete onceHandler.dom7proxy;\n    }\n  }\n\n  onceHandler.dom7proxy = listener;\n  return dom.on(eventName, targetSelector, onceHandler, capture);\n}\n\nfunction trigger(...args) {\n  const window = getWindow();\n  const events = args[0].split(' ');\n  const eventData = args[1];\n\n  for (let i = 0; i < events.length; i += 1) {\n    const event = events[i];\n\n    for (let j = 0; j < this.length; j += 1) {\n      const el = this[j];\n\n      if (window.CustomEvent) {\n        const evt = new window.CustomEvent(event, {\n          detail: eventData,\n          bubbles: true,\n          cancelable: true\n        });\n        el.dom7EventData = args.filter((data, dataIndex) => dataIndex > 0);\n        el.dispatchEvent(evt);\n        el.dom7EventData = [];\n        delete el.dom7EventData;\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction transitionEnd(callback) {\n  const dom = this;\n\n  function fireCallBack(e) {\n    if (e.target !== this) return;\n    callback.call(this, e);\n    dom.off('transitionend', fireCallBack);\n  }\n\n  if (callback) {\n    dom.on('transitionend', fireCallBack);\n  }\n\n  return this;\n}\n\nfunction animationEnd(callback) {\n  const dom = this;\n\n  function fireCallBack(e) {\n    if (e.target !== this) return;\n    callback.call(this, e);\n    dom.off('animationend', fireCallBack);\n  }\n\n  if (callback) {\n    dom.on('animationend', fireCallBack);\n  }\n\n  return this;\n}\n\nfunction width() {\n  const window = getWindow();\n\n  if (this[0] === window) {\n    return window.innerWidth;\n  }\n\n  if (this.length > 0) {\n    return parseFloat(this.css('width'));\n  }\n\n  return null;\n}\n\nfunction outerWidth(includeMargins) {\n  if (this.length > 0) {\n    if (includeMargins) {\n      const styles = this.styles();\n      return this[0].offsetWidth + parseFloat(styles.getPropertyValue('margin-right')) + parseFloat(styles.getPropertyValue('margin-left'));\n    }\n\n    return this[0].offsetWidth;\n  }\n\n  return null;\n}\n\nfunction height() {\n  const window = getWindow();\n\n  if (this[0] === window) {\n    return window.innerHeight;\n  }\n\n  if (this.length > 0) {\n    return parseFloat(this.css('height'));\n  }\n\n  return null;\n}\n\nfunction outerHeight(includeMargins) {\n  if (this.length > 0) {\n    if (includeMargins) {\n      const styles = this.styles();\n      return this[0].offsetHeight + parseFloat(styles.getPropertyValue('margin-top')) + parseFloat(styles.getPropertyValue('margin-bottom'));\n    }\n\n    return this[0].offsetHeight;\n  }\n\n  return null;\n}\n\nfunction offset() {\n  if (this.length > 0) {\n    const window = getWindow();\n    const document = getDocument();\n    const el = this[0];\n    const box = el.getBoundingClientRect();\n    const body = document.body;\n    const clientTop = el.clientTop || body.clientTop || 0;\n    const clientLeft = el.clientLeft || body.clientLeft || 0;\n    const scrollTop = el === window ? window.scrollY : el.scrollTop;\n    const scrollLeft = el === window ? window.scrollX : el.scrollLeft;\n    return {\n      top: box.top + scrollTop - clientTop,\n      left: box.left + scrollLeft - clientLeft\n    };\n  }\n\n  return null;\n}\n\nfunction hide() {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].style.display = 'none';\n  }\n\n  return this;\n}\n\nfunction show() {\n  const window = getWindow();\n\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (el.style.display === 'none') {\n      el.style.display = '';\n    }\n\n    if (window.getComputedStyle(el, null).getPropertyValue('display') === 'none') {\n      // Still not visible\n      el.style.display = 'block';\n    }\n  }\n\n  return this;\n}\n\nfunction styles() {\n  const window = getWindow();\n  if (this[0]) return window.getComputedStyle(this[0], null);\n  return {};\n}\n\nfunction css(props, value) {\n  const window = getWindow();\n  let i;\n\n  if (arguments.length === 1) {\n    if (typeof props === 'string') {\n      // .css('width')\n      if (this[0]) return window.getComputedStyle(this[0], null).getPropertyValue(props);\n    } else {\n      // .css({ width: '100px' })\n      for (i = 0; i < this.length; i += 1) {\n        for (const prop in props) {\n          this[i].style[prop] = props[prop];\n        }\n      }\n\n      return this;\n    }\n  }\n\n  if (arguments.length === 2 && typeof props === 'string') {\n    // .css('width', '100px')\n    for (i = 0; i < this.length; i += 1) {\n      this[i].style[props] = value;\n    }\n\n    return this;\n  }\n\n  return this;\n}\n\nfunction each(callback) {\n  if (!callback) return this;\n  this.forEach((el, index) => {\n    callback.apply(el, [el, index]);\n  });\n  return this;\n}\n\nfunction filter(callback) {\n  const result = arrayFilter(this, callback);\n  return $(result);\n}\n\nfunction html(html) {\n  if (typeof html === 'undefined') {\n    return this[0] ? this[0].innerHTML : null;\n  }\n\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].innerHTML = html;\n  }\n\n  return this;\n}\n\nfunction text(text) {\n  if (typeof text === 'undefined') {\n    return this[0] ? this[0].textContent.trim() : null;\n  }\n\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].textContent = text;\n  }\n\n  return this;\n}\n\nfunction is(selector) {\n  const window = getWindow();\n  const document = getDocument();\n  const el = this[0];\n  let compareWith;\n  let i;\n  if (!el || typeof selector === 'undefined') return false;\n\n  if (typeof selector === 'string') {\n    if (el.matches) return el.matches(selector);\n    if (el.webkitMatchesSelector) return el.webkitMatchesSelector(selector);\n    if (el.msMatchesSelector) return el.msMatchesSelector(selector);\n    compareWith = $(selector);\n\n    for (i = 0; i < compareWith.length; i += 1) {\n      if (compareWith[i] === el) return true;\n    }\n\n    return false;\n  }\n\n  if (selector === document) {\n    return el === document;\n  }\n\n  if (selector === window) {\n    return el === window;\n  }\n\n  if (selector.nodeType || selector instanceof Dom7) {\n    compareWith = selector.nodeType ? [selector] : selector;\n\n    for (i = 0; i < compareWith.length; i += 1) {\n      if (compareWith[i] === el) return true;\n    }\n\n    return false;\n  }\n\n  return false;\n}\n\nfunction index() {\n  let child = this[0];\n  let i;\n\n  if (child) {\n    i = 0; // eslint-disable-next-line\n\n    while ((child = child.previousSibling) !== null) {\n      if (child.nodeType === 1) i += 1;\n    }\n\n    return i;\n  }\n\n  return undefined;\n}\n\nfunction eq(index) {\n  if (typeof index === 'undefined') return this;\n  const length = this.length;\n\n  if (index > length - 1) {\n    return $([]);\n  }\n\n  if (index < 0) {\n    const returnIndex = length + index;\n    if (returnIndex < 0) return $([]);\n    return $([this[returnIndex]]);\n  }\n\n  return $([this[index]]);\n}\n\nfunction append(...els) {\n  let newChild;\n  const document = getDocument();\n\n  for (let k = 0; k < els.length; k += 1) {\n    newChild = els[k];\n\n    for (let i = 0; i < this.length; i += 1) {\n      if (typeof newChild === 'string') {\n        const tempDiv = document.createElement('div');\n        tempDiv.innerHTML = newChild;\n\n        while (tempDiv.firstChild) {\n          this[i].appendChild(tempDiv.firstChild);\n        }\n      } else if (newChild instanceof Dom7) {\n        for (let j = 0; j < newChild.length; j += 1) {\n          this[i].appendChild(newChild[j]);\n        }\n      } else {\n        this[i].appendChild(newChild);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction appendTo(parent) {\n  $(parent).append(this);\n  return this;\n}\n\nfunction prepend(newChild) {\n  const document = getDocument();\n  let i;\n  let j;\n\n  for (i = 0; i < this.length; i += 1) {\n    if (typeof newChild === 'string') {\n      const tempDiv = document.createElement('div');\n      tempDiv.innerHTML = newChild;\n\n      for (j = tempDiv.childNodes.length - 1; j >= 0; j -= 1) {\n        this[i].insertBefore(tempDiv.childNodes[j], this[i].childNodes[0]);\n      }\n    } else if (newChild instanceof Dom7) {\n      for (j = 0; j < newChild.length; j += 1) {\n        this[i].insertBefore(newChild[j], this[i].childNodes[0]);\n      }\n    } else {\n      this[i].insertBefore(newChild, this[i].childNodes[0]);\n    }\n  }\n\n  return this;\n}\n\nfunction prependTo(parent) {\n  $(parent).prepend(this);\n  return this;\n}\n\nfunction insertBefore(selector) {\n  const before = $(selector);\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (before.length === 1) {\n      before[0].parentNode.insertBefore(this[i], before[0]);\n    } else if (before.length > 1) {\n      for (let j = 0; j < before.length; j += 1) {\n        before[j].parentNode.insertBefore(this[i].cloneNode(true), before[j]);\n      }\n    }\n  }\n}\n\nfunction insertAfter(selector) {\n  const after = $(selector);\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (after.length === 1) {\n      after[0].parentNode.insertBefore(this[i], after[0].nextSibling);\n    } else if (after.length > 1) {\n      for (let j = 0; j < after.length; j += 1) {\n        after[j].parentNode.insertBefore(this[i].cloneNode(true), after[j].nextSibling);\n      }\n    }\n  }\n}\n\nfunction next(selector) {\n  if (this.length > 0) {\n    if (selector) {\n      if (this[0].nextElementSibling && $(this[0].nextElementSibling).is(selector)) {\n        return $([this[0].nextElementSibling]);\n      }\n\n      return $([]);\n    }\n\n    if (this[0].nextElementSibling) return $([this[0].nextElementSibling]);\n    return $([]);\n  }\n\n  return $([]);\n}\n\nfunction nextAll(selector) {\n  const nextEls = [];\n  let el = this[0];\n  if (!el) return $([]);\n\n  while (el.nextElementSibling) {\n    const next = el.nextElementSibling; // eslint-disable-line\n\n    if (selector) {\n      if ($(next).is(selector)) nextEls.push(next);\n    } else nextEls.push(next);\n\n    el = next;\n  }\n\n  return $(nextEls);\n}\n\nfunction prev(selector) {\n  if (this.length > 0) {\n    const el = this[0];\n\n    if (selector) {\n      if (el.previousElementSibling && $(el.previousElementSibling).is(selector)) {\n        return $([el.previousElementSibling]);\n      }\n\n      return $([]);\n    }\n\n    if (el.previousElementSibling) return $([el.previousElementSibling]);\n    return $([]);\n  }\n\n  return $([]);\n}\n\nfunction prevAll(selector) {\n  const prevEls = [];\n  let el = this[0];\n  if (!el) return $([]);\n\n  while (el.previousElementSibling) {\n    const prev = el.previousElementSibling; // eslint-disable-line\n\n    if (selector) {\n      if ($(prev).is(selector)) prevEls.push(prev);\n    } else prevEls.push(prev);\n\n    el = prev;\n  }\n\n  return $(prevEls);\n}\n\nfunction siblings(selector) {\n  return this.nextAll(selector).add(this.prevAll(selector));\n}\n\nfunction parent(selector) {\n  const parents = []; // eslint-disable-line\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (this[i].parentNode !== null) {\n      if (selector) {\n        if ($(this[i].parentNode).is(selector)) parents.push(this[i].parentNode);\n      } else {\n        parents.push(this[i].parentNode);\n      }\n    }\n  }\n\n  return $(parents);\n}\n\nfunction parents(selector) {\n  const parents = []; // eslint-disable-line\n\n  for (let i = 0; i < this.length; i += 1) {\n    let parent = this[i].parentNode; // eslint-disable-line\n\n    while (parent) {\n      if (selector) {\n        if ($(parent).is(selector)) parents.push(parent);\n      } else {\n        parents.push(parent);\n      }\n\n      parent = parent.parentNode;\n    }\n  }\n\n  return $(parents);\n}\n\nfunction closest(selector) {\n  let closest = this; // eslint-disable-line\n\n  if (typeof selector === 'undefined') {\n    return $([]);\n  }\n\n  if (!closest.is(selector)) {\n    closest = closest.parents(selector).eq(0);\n  }\n\n  return closest;\n}\n\nfunction find(selector) {\n  const foundElements = [];\n\n  for (let i = 0; i < this.length; i += 1) {\n    const found = this[i].querySelectorAll(selector);\n\n    for (let j = 0; j < found.length; j += 1) {\n      foundElements.push(found[j]);\n    }\n  }\n\n  return $(foundElements);\n}\n\nfunction children(selector) {\n  const children = []; // eslint-disable-line\n\n  for (let i = 0; i < this.length; i += 1) {\n    const childNodes = this[i].children;\n\n    for (let j = 0; j < childNodes.length; j += 1) {\n      if (!selector || $(childNodes[j]).is(selector)) {\n        children.push(childNodes[j]);\n      }\n    }\n  }\n\n  return $(children);\n}\n\nfunction remove() {\n  for (let i = 0; i < this.length; i += 1) {\n    if (this[i].parentNode) this[i].parentNode.removeChild(this[i]);\n  }\n\n  return this;\n}\n\nfunction detach() {\n  return this.remove();\n}\n\nfunction add(...els) {\n  const dom = this;\n  let i;\n  let j;\n\n  for (i = 0; i < els.length; i += 1) {\n    const toAdd = $(els[i]);\n\n    for (j = 0; j < toAdd.length; j += 1) {\n      dom.push(toAdd[j]);\n    }\n  }\n\n  return dom;\n}\n\nfunction empty() {\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (el.nodeType === 1) {\n      for (let j = 0; j < el.childNodes.length; j += 1) {\n        if (el.childNodes[j].parentNode) {\n          el.childNodes[j].parentNode.removeChild(el.childNodes[j]);\n        }\n      }\n\n      el.textContent = '';\n    }\n  }\n\n  return this;\n}\n\n// eslint-disable-next-line\n\nfunction scrollTo(...args) {\n  const window = getWindow();\n  let [left, top, duration, easing, callback] = args;\n\n  if (args.length === 4 && typeof easing === 'function') {\n    callback = easing;\n    [left, top, duration, callback, easing] = args;\n  }\n\n  if (typeof easing === 'undefined') easing = 'swing';\n  return this.each(function animate() {\n    const el = this;\n    let currentTop;\n    let currentLeft;\n    let maxTop;\n    let maxLeft;\n    let newTop;\n    let newLeft;\n    let scrollTop; // eslint-disable-line\n\n    let scrollLeft; // eslint-disable-line\n\n    let animateTop = top > 0 || top === 0;\n    let animateLeft = left > 0 || left === 0;\n\n    if (typeof easing === 'undefined') {\n      easing = 'swing';\n    }\n\n    if (animateTop) {\n      currentTop = el.scrollTop;\n\n      if (!duration) {\n        el.scrollTop = top;\n      }\n    }\n\n    if (animateLeft) {\n      currentLeft = el.scrollLeft;\n\n      if (!duration) {\n        el.scrollLeft = left;\n      }\n    }\n\n    if (!duration) return;\n\n    if (animateTop) {\n      maxTop = el.scrollHeight - el.offsetHeight;\n      newTop = Math.max(Math.min(top, maxTop), 0);\n    }\n\n    if (animateLeft) {\n      maxLeft = el.scrollWidth - el.offsetWidth;\n      newLeft = Math.max(Math.min(left, maxLeft), 0);\n    }\n\n    let startTime = null;\n    if (animateTop && newTop === currentTop) animateTop = false;\n    if (animateLeft && newLeft === currentLeft) animateLeft = false;\n\n    function render(time = new Date().getTime()) {\n      if (startTime === null) {\n        startTime = time;\n      }\n\n      const progress = Math.max(Math.min((time - startTime) / duration, 1), 0);\n      const easeProgress = easing === 'linear' ? progress : 0.5 - Math.cos(progress * Math.PI) / 2;\n      let done;\n      if (animateTop) scrollTop = currentTop + easeProgress * (newTop - currentTop);\n      if (animateLeft) scrollLeft = currentLeft + easeProgress * (newLeft - currentLeft);\n\n      if (animateTop && newTop > currentTop && scrollTop >= newTop) {\n        el.scrollTop = newTop;\n        done = true;\n      }\n\n      if (animateTop && newTop < currentTop && scrollTop <= newTop) {\n        el.scrollTop = newTop;\n        done = true;\n      }\n\n      if (animateLeft && newLeft > currentLeft && scrollLeft >= newLeft) {\n        el.scrollLeft = newLeft;\n        done = true;\n      }\n\n      if (animateLeft && newLeft < currentLeft && scrollLeft <= newLeft) {\n        el.scrollLeft = newLeft;\n        done = true;\n      }\n\n      if (done) {\n        if (callback) callback();\n        return;\n      }\n\n      if (animateTop) el.scrollTop = scrollTop;\n      if (animateLeft) el.scrollLeft = scrollLeft;\n      window.requestAnimationFrame(render);\n    }\n\n    window.requestAnimationFrame(render);\n  });\n} // scrollTop(top, duration, easing, callback) {\n\n\nfunction scrollTop(...args) {\n  let [top, duration, easing, callback] = args;\n\n  if (args.length === 3 && typeof easing === 'function') {\n    [top, duration, callback, easing] = args;\n  }\n\n  const dom = this;\n\n  if (typeof top === 'undefined') {\n    if (dom.length > 0) return dom[0].scrollTop;\n    return null;\n  }\n\n  return dom.scrollTo(undefined, top, duration, easing, callback);\n}\n\nfunction scrollLeft(...args) {\n  let [left, duration, easing, callback] = args;\n\n  if (args.length === 3 && typeof easing === 'function') {\n    [left, duration, callback, easing] = args;\n  }\n\n  const dom = this;\n\n  if (typeof left === 'undefined') {\n    if (dom.length > 0) return dom[0].scrollLeft;\n    return null;\n  }\n\n  return dom.scrollTo(left, undefined, duration, easing, callback);\n}\n\n// eslint-disable-next-line\n\nfunction animate(initialProps, initialParams) {\n  const window = getWindow();\n  const els = this;\n  const a = {\n    props: Object.assign({}, initialProps),\n    params: Object.assign({\n      duration: 300,\n      easing: 'swing' // or 'linear'\n\n      /* Callbacks\n      begin(elements)\n      complete(elements)\n      progress(elements, complete, remaining, start, tweenValue)\n      */\n\n    }, initialParams),\n    elements: els,\n    animating: false,\n    que: [],\n\n    easingProgress(easing, progress) {\n      if (easing === 'swing') {\n        return 0.5 - Math.cos(progress * Math.PI) / 2;\n      }\n\n      if (typeof easing === 'function') {\n        return easing(progress);\n      }\n\n      return progress;\n    },\n\n    stop() {\n      if (a.frameId) {\n        window.cancelAnimationFrame(a.frameId);\n      }\n\n      a.animating = false;\n      a.elements.each(el => {\n        const element = el;\n        delete element.dom7AnimateInstance;\n      });\n      a.que = [];\n    },\n\n    done(complete) {\n      a.animating = false;\n      a.elements.each(el => {\n        const element = el;\n        delete element.dom7AnimateInstance;\n      });\n      if (complete) complete(els);\n\n      if (a.que.length > 0) {\n        const que = a.que.shift();\n        a.animate(que[0], que[1]);\n      }\n    },\n\n    animate(props, params) {\n      if (a.animating) {\n        a.que.push([props, params]);\n        return a;\n      }\n\n      const elements = []; // Define & Cache Initials & Units\n\n      a.elements.each((el, index) => {\n        let initialFullValue;\n        let initialValue;\n        let unit;\n        let finalValue;\n        let finalFullValue;\n        if (!el.dom7AnimateInstance) a.elements[index].dom7AnimateInstance = a;\n        elements[index] = {\n          container: el\n        };\n        Object.keys(props).forEach(prop => {\n          initialFullValue = window.getComputedStyle(el, null).getPropertyValue(prop).replace(',', '.');\n          initialValue = parseFloat(initialFullValue);\n          unit = initialFullValue.replace(initialValue, '');\n          finalValue = parseFloat(props[prop]);\n          finalFullValue = props[prop] + unit;\n          elements[index][prop] = {\n            initialFullValue,\n            initialValue,\n            unit,\n            finalValue,\n            finalFullValue,\n            currentValue: initialValue\n          };\n        });\n      });\n      let startTime = null;\n      let time;\n      let elementsDone = 0;\n      let propsDone = 0;\n      let done;\n      let began = false;\n      a.animating = true;\n\n      function render() {\n        time = new Date().getTime();\n        let progress;\n        let easeProgress; // let el;\n\n        if (!began) {\n          began = true;\n          if (params.begin) params.begin(els);\n        }\n\n        if (startTime === null) {\n          startTime = time;\n        }\n\n        if (params.progress) {\n          // eslint-disable-next-line\n          params.progress(els, Math.max(Math.min((time - startTime) / params.duration, 1), 0), startTime + params.duration - time < 0 ? 0 : startTime + params.duration - time, startTime);\n        }\n\n        elements.forEach(element => {\n          const el = element;\n          if (done || el.done) return;\n          Object.keys(props).forEach(prop => {\n            if (done || el.done) return;\n            progress = Math.max(Math.min((time - startTime) / params.duration, 1), 0);\n            easeProgress = a.easingProgress(params.easing, progress);\n            const {\n              initialValue,\n              finalValue,\n              unit\n            } = el[prop];\n            el[prop].currentValue = initialValue + easeProgress * (finalValue - initialValue);\n            const currentValue = el[prop].currentValue;\n\n            if (finalValue > initialValue && currentValue >= finalValue || finalValue < initialValue && currentValue <= finalValue) {\n              el.container.style[prop] = finalValue + unit;\n              propsDone += 1;\n\n              if (propsDone === Object.keys(props).length) {\n                el.done = true;\n                elementsDone += 1;\n              }\n\n              if (elementsDone === elements.length) {\n                done = true;\n              }\n            }\n\n            if (done) {\n              a.done(params.complete);\n              return;\n            }\n\n            el.container.style[prop] = currentValue + unit;\n          });\n        });\n        if (done) return; // Then call\n\n        a.frameId = window.requestAnimationFrame(render);\n      }\n\n      a.frameId = window.requestAnimationFrame(render);\n      return a;\n    }\n\n  };\n\n  if (a.elements.length === 0) {\n    return els;\n  }\n\n  let animateInstance;\n\n  for (let i = 0; i < a.elements.length; i += 1) {\n    if (a.elements[i].dom7AnimateInstance) {\n      animateInstance = a.elements[i].dom7AnimateInstance;\n    } else a.elements[i].dom7AnimateInstance = a;\n  }\n\n  if (!animateInstance) {\n    animateInstance = a;\n  }\n\n  if (initialProps === 'stop') {\n    animateInstance.stop();\n  } else {\n    animateInstance.animate(a.props, a.params);\n  }\n\n  return els;\n}\n\nfunction stop() {\n  const els = this;\n\n  for (let i = 0; i < els.length; i += 1) {\n    if (els[i].dom7AnimateInstance) {\n      els[i].dom7AnimateInstance.stop();\n    }\n  }\n}\n\nconst noTrigger = 'resize scroll'.split(' ');\n\nfunction shortcut(name) {\n  function eventHandler(...args) {\n    if (typeof args[0] === 'undefined') {\n      for (let i = 0; i < this.length; i += 1) {\n        if (noTrigger.indexOf(name) < 0) {\n          if (name in this[i]) this[i][name]();else {\n            $(this[i]).trigger(name);\n          }\n        }\n      }\n\n      return this;\n    }\n\n    return this.on(name, ...args);\n  }\n\n  return eventHandler;\n}\n\nconst click = shortcut('click');\nconst blur = shortcut('blur');\nconst focus = shortcut('focus');\nconst focusin = shortcut('focusin');\nconst focusout = shortcut('focusout');\nconst keyup = shortcut('keyup');\nconst keydown = shortcut('keydown');\nconst keypress = shortcut('keypress');\nconst submit = shortcut('submit');\nconst change = shortcut('change');\nconst mousedown = shortcut('mousedown');\nconst mousemove = shortcut('mousemove');\nconst mouseup = shortcut('mouseup');\nconst mouseenter = shortcut('mouseenter');\nconst mouseleave = shortcut('mouseleave');\nconst mouseout = shortcut('mouseout');\nconst mouseover = shortcut('mouseover');\nconst touchstart = shortcut('touchstart');\nconst touchend = shortcut('touchend');\nconst touchmove = shortcut('touchmove');\nconst resize = shortcut('resize');\nconst scroll = shortcut('scroll');\n\nexport default $;\nexport { $, add, addClass, animate, animationEnd, append, appendTo, attr, blur, change, children, click, closest, css, data, dataset, detach, each, empty, eq, filter, find, focus, focusin, focusout, hasClass, height, hide, html, index, insertAfter, insertBefore, is, keydown, keypress, keyup, mousedown, mouseenter, mouseleave, mousemove, mouseout, mouseover, mouseup, next, nextAll, off, offset, on, once, outerHeight, outerWidth, parent, parents, prepend, prependTo, prev, prevAll, prop, remove, removeAttr, removeClass, removeData, resize, scroll, scrollLeft, scrollTo, scrollTop, show, siblings, stop, styles, submit, text, toggleClass, touchend, touchmove, touchstart, transform, transition, transitionEnd, trigger, val, value, width };\n","import { $, addClass, removeClass, hasClass, toggleClass, attr, removeAttr, transform, transition, on, off, trigger, transitionEnd, outerWidth, outerHeight, styles, offset, css, each, html, text, is, index, eq, append, prepend, next, nextAll, prev, prevAll, parent, parents, closest, find, children, filter, remove } from 'dom7';\nconst Methods = {\n  addClass,\n  removeClass,\n  hasClass,\n  toggleClass,\n  attr,\n  removeAttr,\n  transform,\n  transition,\n  on,\n  off,\n  trigger,\n  transitionEnd,\n  outerWidth,\n  outerHeight,\n  styles,\n  offset,\n  css,\n  each,\n  html,\n  text,\n  is,\n  index,\n  eq,\n  append,\n  prepend,\n  next,\n  nextAll,\n  prev,\n  prevAll,\n  parent,\n  parents,\n  closest,\n  find,\n  children,\n  filter,\n  remove\n};\nObject.keys(Methods).forEach(methodName => {\n  Object.defineProperty($.fn, methodName, {\n    value: Methods[methodName],\n    writable: true\n  });\n});\nexport default $;","import { getWindow } from 'ssr-window';\n\nfunction deleteProps(obj) {\n  const object = obj;\n  Object.keys(object).forEach(key => {\n    try {\n      object[key] = null;\n    } catch (e) {// no getter for object\n    }\n\n    try {\n      delete object[key];\n    } catch (e) {// something got wrong\n    }\n  });\n}\n\nfunction nextTick(callback, delay) {\n  if (delay === void 0) {\n    delay = 0;\n  }\n\n  return setTimeout(callback, delay);\n}\n\nfunction now() {\n  return Date.now();\n}\n\nfunction getComputedStyle(el) {\n  const window = getWindow();\n  let style;\n\n  if (window.getComputedStyle) {\n    style = window.getComputedStyle(el, null);\n  }\n\n  if (!style && el.currentStyle) {\n    style = el.currentStyle;\n  }\n\n  if (!style) {\n    style = el.style;\n  }\n\n  return style;\n}\n\nfunction getTranslate(el, axis) {\n  if (axis === void 0) {\n    axis = 'x';\n  }\n\n  const window = getWindow();\n  let matrix;\n  let curTransform;\n  let transformMatrix;\n  const curStyle = getComputedStyle(el, null);\n\n  if (window.WebKitCSSMatrix) {\n    curTransform = curStyle.transform || curStyle.webkitTransform;\n\n    if (curTransform.split(',').length > 6) {\n      curTransform = curTransform.split(', ').map(a => a.replace(',', '.')).join(', ');\n    } // Some old versions of Webkit choke when 'none' is passed; pass\n    // empty string instead in this case\n\n\n    transformMatrix = new window.WebKitCSSMatrix(curTransform === 'none' ? '' : curTransform);\n  } else {\n    transformMatrix = curStyle.MozTransform || curStyle.OTransform || curStyle.MsTransform || curStyle.msTransform || curStyle.transform || curStyle.getPropertyValue('transform').replace('translate(', 'matrix(1, 0, 0, 1,');\n    matrix = transformMatrix.toString().split(',');\n  }\n\n  if (axis === 'x') {\n    // Latest Chrome and webkits Fix\n    if (window.WebKitCSSMatrix) curTransform = transformMatrix.m41; // Crazy IE10 Matrix\n    else if (matrix.length === 16) curTransform = parseFloat(matrix[12]); // Normal Browsers\n    else curTransform = parseFloat(matrix[4]);\n  }\n\n  if (axis === 'y') {\n    // Latest Chrome and webkits Fix\n    if (window.WebKitCSSMatrix) curTransform = transformMatrix.m42; // Crazy IE10 Matrix\n    else if (matrix.length === 16) curTransform = parseFloat(matrix[13]); // Normal Browsers\n    else curTransform = parseFloat(matrix[5]);\n  }\n\n  return curTransform || 0;\n}\n\nfunction isObject(o) {\n  return typeof o === 'object' && o !== null && o.constructor && Object.prototype.toString.call(o).slice(8, -1) === 'Object';\n}\n\nfunction isNode(node) {\n  // eslint-disable-next-line\n  if (typeof window !== 'undefined' && typeof window.HTMLElement !== 'undefined') {\n    return node instanceof HTMLElement;\n  }\n\n  return node && (node.nodeType === 1 || node.nodeType === 11);\n}\n\nfunction extend() {\n  const to = Object(arguments.length <= 0 ? undefined : arguments[0]);\n  const noExtend = ['__proto__', 'constructor', 'prototype'];\n\n  for (let i = 1; i < arguments.length; i += 1) {\n    const nextSource = i < 0 || arguments.length <= i ? undefined : arguments[i];\n\n    if (nextSource !== undefined && nextSource !== null && !isNode(nextSource)) {\n      const keysArray = Object.keys(Object(nextSource)).filter(key => noExtend.indexOf(key) < 0);\n\n      for (let nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex += 1) {\n        const nextKey = keysArray[nextIndex];\n        const desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\n\n        if (desc !== undefined && desc.enumerable) {\n          if (isObject(to[nextKey]) && isObject(nextSource[nextKey])) {\n            if (nextSource[nextKey].__swiper__) {\n              to[nextKey] = nextSource[nextKey];\n            } else {\n              extend(to[nextKey], nextSource[nextKey]);\n            }\n          } else if (!isObject(to[nextKey]) && isObject(nextSource[nextKey])) {\n            to[nextKey] = {};\n\n            if (nextSource[nextKey].__swiper__) {\n              to[nextKey] = nextSource[nextKey];\n            } else {\n              extend(to[nextKey], nextSource[nextKey]);\n            }\n          } else {\n            to[nextKey] = nextSource[nextKey];\n          }\n        }\n      }\n    }\n  }\n\n  return to;\n}\n\nfunction setCSSProperty(el, varName, varValue) {\n  el.style.setProperty(varName, varValue);\n}\n\nfunction animateCSSModeScroll(_ref) {\n  let {\n    swiper,\n    targetPosition,\n    side\n  } = _ref;\n  const window = getWindow();\n  const startPosition = -swiper.translate;\n  let startTime = null;\n  let time;\n  const duration = swiper.params.speed;\n  swiper.wrapperEl.style.scrollSnapType = 'none';\n  window.cancelAnimationFrame(swiper.cssModeFrameID);\n  const dir = targetPosition > startPosition ? 'next' : 'prev';\n\n  const isOutOfBound = (current, target) => {\n    return dir === 'next' && current >= target || dir === 'prev' && current <= target;\n  };\n\n  const animate = () => {\n    time = new Date().getTime();\n\n    if (startTime === null) {\n      startTime = time;\n    }\n\n    const progress = Math.max(Math.min((time - startTime) / duration, 1), 0);\n    const easeProgress = 0.5 - Math.cos(progress * Math.PI) / 2;\n    let currentPosition = startPosition + easeProgress * (targetPosition - startPosition);\n\n    if (isOutOfBound(currentPosition, targetPosition)) {\n      currentPosition = targetPosition;\n    }\n\n    swiper.wrapperEl.scrollTo({\n      [side]: currentPosition\n    });\n\n    if (isOutOfBound(currentPosition, targetPosition)) {\n      swiper.wrapperEl.style.overflow = 'hidden';\n      swiper.wrapperEl.style.scrollSnapType = '';\n      setTimeout(() => {\n        swiper.wrapperEl.style.overflow = '';\n        swiper.wrapperEl.scrollTo({\n          [side]: currentPosition\n        });\n      });\n      window.cancelAnimationFrame(swiper.cssModeFrameID);\n      return;\n    }\n\n    swiper.cssModeFrameID = window.requestAnimationFrame(animate);\n  };\n\n  animate();\n}\n\nexport { animateCSSModeScroll, deleteProps, nextTick, now, getTranslate, isObject, extend, getComputedStyle, setCSSProperty };","import { getWindow, getDocument } from 'ssr-window';\nlet support;\n\nfunction calcSupport() {\n  const window = getWindow();\n  const document = getDocument();\n  return {\n    smoothScroll: document.documentElement && 'scrollBehavior' in document.documentElement.style,\n    touch: !!('ontouchstart' in window || window.DocumentTouch && document instanceof window.DocumentTouch),\n    passiveListener: function checkPassiveListener() {\n      let supportsPassive = false;\n\n      try {\n        const opts = Object.defineProperty({}, 'passive', {\n          // eslint-disable-next-line\n          get() {\n            supportsPassive = true;\n          }\n\n        });\n        window.addEventListener('testPassiveListener', null, opts);\n      } catch (e) {// No support\n      }\n\n      return supportsPassive;\n    }(),\n    gestures: function checkGestures() {\n      return 'ongesturestart' in window;\n    }()\n  };\n}\n\nfunction getSupport() {\n  if (!support) {\n    support = calcSupport();\n  }\n\n  return support;\n}\n\nexport { getSupport };","import { getWindow } from 'ssr-window';\nimport { getSupport } from './get-support.js';\nlet deviceCached;\n\nfunction calcDevice(_temp) {\n  let {\n    userAgent\n  } = _temp === void 0 ? {} : _temp;\n  const support = getSupport();\n  const window = getWindow();\n  const platform = window.navigator.platform;\n  const ua = userAgent || window.navigator.userAgent;\n  const device = {\n    ios: false,\n    android: false\n  };\n  const screenWidth = window.screen.width;\n  const screenHeight = window.screen.height;\n  const android = ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/); // eslint-disable-line\n\n  let ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/);\n  const ipod = ua.match(/(iPod)(.*OS\\s([\\d_]+))?/);\n  const iphone = !ipad && ua.match(/(iPhone\\sOS|iOS)\\s([\\d_]+)/);\n  const windows = platform === 'Win32';\n  let macos = platform === 'MacIntel'; // iPadOs 13 fix\n\n  const iPadScreens = ['1024x1366', '1366x1024', '834x1194', '1194x834', '834x1112', '1112x834', '768x1024', '1024x768', '820x1180', '1180x820', '810x1080', '1080x810'];\n\n  if (!ipad && macos && support.touch && iPadScreens.indexOf(`${screenWidth}x${screenHeight}`) >= 0) {\n    ipad = ua.match(/(Version)\\/([\\d.]+)/);\n    if (!ipad) ipad = [0, 1, '13_0_0'];\n    macos = false;\n  } // Android\n\n\n  if (android && !windows) {\n    device.os = 'android';\n    device.android = true;\n  }\n\n  if (ipad || iphone || ipod) {\n    device.os = 'ios';\n    device.ios = true;\n  } // Export object\n\n\n  return device;\n}\n\nfunction getDevice(overrides) {\n  if (overrides === void 0) {\n    overrides = {};\n  }\n\n  if (!deviceCached) {\n    deviceCached = calcDevice(overrides);\n  }\n\n  return deviceCached;\n}\n\nexport { getDevice };","import { getWindow } from 'ssr-window';\nlet browser;\n\nfunction calcBrowser() {\n  const window = getWindow();\n\n  function isSafari() {\n    const ua = window.navigator.userAgent.toLowerCase();\n    return ua.indexOf('safari') >= 0 && ua.indexOf('chrome') < 0 && ua.indexOf('android') < 0;\n  }\n\n  return {\n    isSafari: isSafari(),\n    isWebView: /(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(window.navigator.userAgent)\n  };\n}\n\nfunction getBrowser() {\n  if (!browser) {\n    browser = calcBrowser();\n  }\n\n  return browser;\n}\n\nexport { getBrowser };","/* eslint-disable no-underscore-dangle */\nexport default {\n  on(events, handler, priority) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (typeof handler !== 'function') return self;\n    const method = priority ? 'unshift' : 'push';\n    events.split(' ').forEach(event => {\n      if (!self.eventsListeners[event]) self.eventsListeners[event] = [];\n      self.eventsListeners[event][method](handler);\n    });\n    return self;\n  },\n\n  once(events, handler, priority) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (typeof handler !== 'function') return self;\n\n    function onceHandler() {\n      self.off(events, onceHandler);\n\n      if (onceHandler.__emitterProxy) {\n        delete onceHandler.__emitterProxy;\n      }\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      handler.apply(self, args);\n    }\n\n    onceHandler.__emitterProxy = handler;\n    return self.on(events, onceHandler, priority);\n  },\n\n  onAny(handler, priority) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (typeof handler !== 'function') return self;\n    const method = priority ? 'unshift' : 'push';\n\n    if (self.eventsAnyListeners.indexOf(handler) < 0) {\n      self.eventsAnyListeners[method](handler);\n    }\n\n    return self;\n  },\n\n  offAny(handler) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (!self.eventsAnyListeners) return self;\n    const index = self.eventsAnyListeners.indexOf(handler);\n\n    if (index >= 0) {\n      self.eventsAnyListeners.splice(index, 1);\n    }\n\n    return self;\n  },\n\n  off(events, handler) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (!self.eventsListeners) return self;\n    events.split(' ').forEach(event => {\n      if (typeof handler === 'undefined') {\n        self.eventsListeners[event] = [];\n      } else if (self.eventsListeners[event]) {\n        self.eventsListeners[event].forEach((eventHandler, index) => {\n          if (eventHandler === handler || eventHandler.__emitterProxy && eventHandler.__emitterProxy === handler) {\n            self.eventsListeners[event].splice(index, 1);\n          }\n        });\n      }\n    });\n    return self;\n  },\n\n  emit() {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (!self.eventsListeners) return self;\n    let events;\n    let data;\n    let context;\n\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    if (typeof args[0] === 'string' || Array.isArray(args[0])) {\n      events = args[0];\n      data = args.slice(1, args.length);\n      context = self;\n    } else {\n      events = args[0].events;\n      data = args[0].data;\n      context = args[0].context || self;\n    }\n\n    data.unshift(context);\n    const eventsArray = Array.isArray(events) ? events : events.split(' ');\n    eventsArray.forEach(event => {\n      if (self.eventsAnyListeners && self.eventsAnyListeners.length) {\n        self.eventsAnyListeners.forEach(eventHandler => {\n          eventHandler.apply(context, [event, ...data]);\n        });\n      }\n\n      if (self.eventsListeners && self.eventsListeners[event]) {\n        self.eventsListeners[event].forEach(eventHandler => {\n          eventHandler.apply(context, data);\n        });\n      }\n    });\n    return self;\n  }\n\n};","import updateSize from './updateSize.js';\nimport updateSlides from './updateSlides.js';\nimport updateAutoHeight from './updateAutoHeight.js';\nimport updateSlidesOffset from './updateSlidesOffset.js';\nimport updateSlidesProgress from './updateSlidesProgress.js';\nimport updateProgress from './updateProgress.js';\nimport updateSlidesClasses from './updateSlidesClasses.js';\nimport updateActiveIndex from './updateActiveIndex.js';\nimport updateClickedSlide from './updateClickedSlide.js';\nexport default {\n  updateSize,\n  updateSlides,\n  updateAutoHeight,\n  updateSlidesOffset,\n  updateSlidesProgress,\n  updateProgress,\n  updateSlidesClasses,\n  updateActiveIndex,\n  updateClickedSlide\n};","export default function updateSize() {\n  const swiper = this;\n  let width;\n  let height;\n  const $el = swiper.$el;\n\n  if (typeof swiper.params.width !== 'undefined' && swiper.params.width !== null) {\n    width = swiper.params.width;\n  } else {\n    width = $el[0].clientWidth;\n  }\n\n  if (typeof swiper.params.height !== 'undefined' && swiper.params.height !== null) {\n    height = swiper.params.height;\n  } else {\n    height = $el[0].clientHeight;\n  }\n\n  if (width === 0 && swiper.isHorizontal() || height === 0 && swiper.isVertical()) {\n    return;\n  } // Subtract paddings\n\n\n  width = width - parseInt($el.css('padding-left') || 0, 10) - parseInt($el.css('padding-right') || 0, 10);\n  height = height - parseInt($el.css('padding-top') || 0, 10) - parseInt($el.css('padding-bottom') || 0, 10);\n  if (Number.isNaN(width)) width = 0;\n  if (Number.isNaN(height)) height = 0;\n  Object.assign(swiper, {\n    width,\n    height,\n    size: swiper.isHorizontal() ? width : height\n  });\n}","import { setCSSProperty } from '../../shared/utils.js';\nexport default function updateSlides() {\n  const swiper = this;\n\n  function getDirectionLabel(property) {\n    if (swiper.isHorizontal()) {\n      return property;\n    } // prettier-ignore\n\n\n    return {\n      'width': 'height',\n      'margin-top': 'margin-left',\n      'margin-bottom ': 'margin-right',\n      'margin-left': 'margin-top',\n      'margin-right': 'margin-bottom',\n      'padding-left': 'padding-top',\n      'padding-right': 'padding-bottom',\n      'marginRight': 'marginBottom'\n    }[property];\n  }\n\n  function getDirectionPropertyValue(node, label) {\n    return parseFloat(node.getPropertyValue(getDirectionLabel(label)) || 0);\n  }\n\n  const params = swiper.params;\n  const {\n    $wrapperEl,\n    size: swiperSize,\n    rtlTranslate: rtl,\n    wrongRTL\n  } = swiper;\n  const isVirtual = swiper.virtual && params.virtual.enabled;\n  const previousSlidesLength = isVirtual ? swiper.virtual.slides.length : swiper.slides.length;\n  const slides = $wrapperEl.children(`.${swiper.params.slideClass}`);\n  const slidesLength = isVirtual ? swiper.virtual.slides.length : slides.length;\n  let snapGrid = [];\n  const slidesGrid = [];\n  const slidesSizesGrid = [];\n  let offsetBefore = params.slidesOffsetBefore;\n\n  if (typeof offsetBefore === 'function') {\n    offsetBefore = params.slidesOffsetBefore.call(swiper);\n  }\n\n  let offsetAfter = params.slidesOffsetAfter;\n\n  if (typeof offsetAfter === 'function') {\n    offsetAfter = params.slidesOffsetAfter.call(swiper);\n  }\n\n  const previousSnapGridLength = swiper.snapGrid.length;\n  const previousSlidesGridLength = swiper.slidesGrid.length;\n  let spaceBetween = params.spaceBetween;\n  let slidePosition = -offsetBefore;\n  let prevSlideSize = 0;\n  let index = 0;\n\n  if (typeof swiperSize === 'undefined') {\n    return;\n  }\n\n  if (typeof spaceBetween === 'string' && spaceBetween.indexOf('%') >= 0) {\n    spaceBetween = parseFloat(spaceBetween.replace('%', '')) / 100 * swiperSize;\n  }\n\n  swiper.virtualSize = -spaceBetween; // reset margins\n\n  if (rtl) slides.css({\n    marginLeft: '',\n    marginBottom: '',\n    marginTop: ''\n  });else slides.css({\n    marginRight: '',\n    marginBottom: '',\n    marginTop: ''\n  }); // reset cssMode offsets\n\n  if (params.centeredSlides && params.cssMode) {\n    setCSSProperty(swiper.wrapperEl, '--swiper-centered-offset-before', '');\n    setCSSProperty(swiper.wrapperEl, '--swiper-centered-offset-after', '');\n  }\n\n  const gridEnabled = params.grid && params.grid.rows > 1 && swiper.grid;\n\n  if (gridEnabled) {\n    swiper.grid.initSlides(slidesLength);\n  } // Calc slides\n\n\n  let slideSize;\n  const shouldResetSlideSize = params.slidesPerView === 'auto' && params.breakpoints && Object.keys(params.breakpoints).filter(key => {\n    return typeof params.breakpoints[key].slidesPerView !== 'undefined';\n  }).length > 0;\n\n  for (let i = 0; i < slidesLength; i += 1) {\n    slideSize = 0;\n    const slide = slides.eq(i);\n\n    if (gridEnabled) {\n      swiper.grid.updateSlide(i, slide, slidesLength, getDirectionLabel);\n    }\n\n    if (slide.css('display') === 'none') continue; // eslint-disable-line\n\n    if (params.slidesPerView === 'auto') {\n      if (shouldResetSlideSize) {\n        slides[i].style[getDirectionLabel('width')] = ``;\n      }\n\n      const slideStyles = getComputedStyle(slide[0]);\n      const currentTransform = slide[0].style.transform;\n      const currentWebKitTransform = slide[0].style.webkitTransform;\n\n      if (currentTransform) {\n        slide[0].style.transform = 'none';\n      }\n\n      if (currentWebKitTransform) {\n        slide[0].style.webkitTransform = 'none';\n      }\n\n      if (params.roundLengths) {\n        slideSize = swiper.isHorizontal() ? slide.outerWidth(true) : slide.outerHeight(true);\n      } else {\n        // eslint-disable-next-line\n        const width = getDirectionPropertyValue(slideStyles, 'width');\n        const paddingLeft = getDirectionPropertyValue(slideStyles, 'padding-left');\n        const paddingRight = getDirectionPropertyValue(slideStyles, 'padding-right');\n        const marginLeft = getDirectionPropertyValue(slideStyles, 'margin-left');\n        const marginRight = getDirectionPropertyValue(slideStyles, 'margin-right');\n        const boxSizing = slideStyles.getPropertyValue('box-sizing');\n\n        if (boxSizing && boxSizing === 'border-box') {\n          slideSize = width + marginLeft + marginRight;\n        } else {\n          const {\n            clientWidth,\n            offsetWidth\n          } = slide[0];\n          slideSize = width + paddingLeft + paddingRight + marginLeft + marginRight + (offsetWidth - clientWidth);\n        }\n      }\n\n      if (currentTransform) {\n        slide[0].style.transform = currentTransform;\n      }\n\n      if (currentWebKitTransform) {\n        slide[0].style.webkitTransform = currentWebKitTransform;\n      }\n\n      if (params.roundLengths) slideSize = Math.floor(slideSize);\n    } else {\n      slideSize = (swiperSize - (params.slidesPerView - 1) * spaceBetween) / params.slidesPerView;\n      if (params.roundLengths) slideSize = Math.floor(slideSize);\n\n      if (slides[i]) {\n        slides[i].style[getDirectionLabel('width')] = `${slideSize}px`;\n      }\n    }\n\n    if (slides[i]) {\n      slides[i].swiperSlideSize = slideSize;\n    }\n\n    slidesSizesGrid.push(slideSize);\n\n    if (params.centeredSlides) {\n      slidePosition = slidePosition + slideSize / 2 + prevSlideSize / 2 + spaceBetween;\n      if (prevSlideSize === 0 && i !== 0) slidePosition = slidePosition - swiperSize / 2 - spaceBetween;\n      if (i === 0) slidePosition = slidePosition - swiperSize / 2 - spaceBetween;\n      if (Math.abs(slidePosition) < 1 / 1000) slidePosition = 0;\n      if (params.roundLengths) slidePosition = Math.floor(slidePosition);\n      if (index % params.slidesPerGroup === 0) snapGrid.push(slidePosition);\n      slidesGrid.push(slidePosition);\n    } else {\n      if (params.roundLengths) slidePosition = Math.floor(slidePosition);\n      if ((index - Math.min(swiper.params.slidesPerGroupSkip, index)) % swiper.params.slidesPerGroup === 0) snapGrid.push(slidePosition);\n      slidesGrid.push(slidePosition);\n      slidePosition = slidePosition + slideSize + spaceBetween;\n    }\n\n    swiper.virtualSize += slideSize + spaceBetween;\n    prevSlideSize = slideSize;\n    index += 1;\n  }\n\n  swiper.virtualSize = Math.max(swiper.virtualSize, swiperSize) + offsetAfter;\n\n  if (rtl && wrongRTL && (params.effect === 'slide' || params.effect === 'coverflow')) {\n    $wrapperEl.css({\n      width: `${swiper.virtualSize + params.spaceBetween}px`\n    });\n  }\n\n  if (params.setWrapperSize) {\n    $wrapperEl.css({\n      [getDirectionLabel('width')]: `${swiper.virtualSize + params.spaceBetween}px`\n    });\n  }\n\n  if (gridEnabled) {\n    swiper.grid.updateWrapperSize(slideSize, snapGrid, getDirectionLabel);\n  } // Remove last grid elements depending on width\n\n\n  if (!params.centeredSlides) {\n    const newSlidesGrid = [];\n\n    for (let i = 0; i < snapGrid.length; i += 1) {\n      let slidesGridItem = snapGrid[i];\n      if (params.roundLengths) slidesGridItem = Math.floor(slidesGridItem);\n\n      if (snapGrid[i] <= swiper.virtualSize - swiperSize) {\n        newSlidesGrid.push(slidesGridItem);\n      }\n    }\n\n    snapGrid = newSlidesGrid;\n\n    if (Math.floor(swiper.virtualSize - swiperSize) - Math.floor(snapGrid[snapGrid.length - 1]) > 1) {\n      snapGrid.push(swiper.virtualSize - swiperSize);\n    }\n  }\n\n  if (snapGrid.length === 0) snapGrid = [0];\n\n  if (params.spaceBetween !== 0) {\n    const key = swiper.isHorizontal() && rtl ? 'marginLeft' : getDirectionLabel('marginRight');\n    slides.filter((_, slideIndex) => {\n      if (!params.cssMode) return true;\n\n      if (slideIndex === slides.length - 1) {\n        return false;\n      }\n\n      return true;\n    }).css({\n      [key]: `${spaceBetween}px`\n    });\n  }\n\n  if (params.centeredSlides && params.centeredSlidesBounds) {\n    let allSlidesSize = 0;\n    slidesSizesGrid.forEach(slideSizeValue => {\n      allSlidesSize += slideSizeValue + (params.spaceBetween ? params.spaceBetween : 0);\n    });\n    allSlidesSize -= params.spaceBetween;\n    const maxSnap = allSlidesSize - swiperSize;\n    snapGrid = snapGrid.map(snap => {\n      if (snap < 0) return -offsetBefore;\n      if (snap > maxSnap) return maxSnap + offsetAfter;\n      return snap;\n    });\n  }\n\n  if (params.centerInsufficientSlides) {\n    let allSlidesSize = 0;\n    slidesSizesGrid.forEach(slideSizeValue => {\n      allSlidesSize += slideSizeValue + (params.spaceBetween ? params.spaceBetween : 0);\n    });\n    allSlidesSize -= params.spaceBetween;\n\n    if (allSlidesSize < swiperSize) {\n      const allSlidesOffset = (swiperSize - allSlidesSize) / 2;\n      snapGrid.forEach((snap, snapIndex) => {\n        snapGrid[snapIndex] = snap - allSlidesOffset;\n      });\n      slidesGrid.forEach((snap, snapIndex) => {\n        slidesGrid[snapIndex] = snap + allSlidesOffset;\n      });\n    }\n  }\n\n  Object.assign(swiper, {\n    slides,\n    snapGrid,\n    slidesGrid,\n    slidesSizesGrid\n  });\n\n  if (params.centeredSlides && params.cssMode && !params.centeredSlidesBounds) {\n    setCSSProperty(swiper.wrapperEl, '--swiper-centered-offset-before', `${-snapGrid[0]}px`);\n    setCSSProperty(swiper.wrapperEl, '--swiper-centered-offset-after', `${swiper.size / 2 - slidesSizesGrid[slidesSizesGrid.length - 1] / 2}px`);\n    const addToSnapGrid = -swiper.snapGrid[0];\n    const addToSlidesGrid = -swiper.slidesGrid[0];\n    swiper.snapGrid = swiper.snapGrid.map(v => v + addToSnapGrid);\n    swiper.slidesGrid = swiper.slidesGrid.map(v => v + addToSlidesGrid);\n  }\n\n  if (slidesLength !== previousSlidesLength) {\n    swiper.emit('slidesLengthChange');\n  }\n\n  if (snapGrid.length !== previousSnapGridLength) {\n    if (swiper.params.watchOverflow) swiper.checkOverflow();\n    swiper.emit('snapGridLengthChange');\n  }\n\n  if (slidesGrid.length !== previousSlidesGridLength) {\n    swiper.emit('slidesGridLengthChange');\n  }\n\n  if (params.watchSlidesProgress) {\n    swiper.updateSlidesOffset();\n  }\n\n  if (!isVirtual && !params.cssMode && (params.effect === 'slide' || params.effect === 'fade')) {\n    const backFaceHiddenClass = `${params.containerModifierClass}backface-hidden`;\n    const hasClassBackfaceClassAdded = swiper.$el.hasClass(backFaceHiddenClass);\n\n    if (slidesLength <= params.maxBackfaceHiddenSlides) {\n      if (!hasClassBackfaceClassAdded) swiper.$el.addClass(backFaceHiddenClass);\n    } else if (hasClassBackfaceClassAdded) {\n      swiper.$el.removeClass(backFaceHiddenClass);\n    }\n  }\n}","import $ from '../../shared/dom.js';\nexport default function updateAutoHeight(speed) {\n  const swiper = this;\n  const activeSlides = [];\n  const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n  let newHeight = 0;\n  let i;\n\n  if (typeof speed === 'number') {\n    swiper.setTransition(speed);\n  } else if (speed === true) {\n    swiper.setTransition(swiper.params.speed);\n  }\n\n  const getSlideByIndex = index => {\n    if (isVirtual) {\n      return swiper.slides.filter(el => parseInt(el.getAttribute('data-swiper-slide-index'), 10) === index)[0];\n    }\n\n    return swiper.slides.eq(index)[0];\n  }; // Find slides currently in view\n\n\n  if (swiper.params.slidesPerView !== 'auto' && swiper.params.slidesPerView > 1) {\n    if (swiper.params.centeredSlides) {\n      (swiper.visibleSlides || $([])).each(slide => {\n        activeSlides.push(slide);\n      });\n    } else {\n      for (i = 0; i < Math.ceil(swiper.params.slidesPerView); i += 1) {\n        const index = swiper.activeIndex + i;\n        if (index > swiper.slides.length && !isVirtual) break;\n        activeSlides.push(getSlideByIndex(index));\n      }\n    }\n  } else {\n    activeSlides.push(getSlideByIndex(swiper.activeIndex));\n  } // Find new height from highest slide in view\n\n\n  for (i = 0; i < activeSlides.length; i += 1) {\n    if (typeof activeSlides[i] !== 'undefined') {\n      const height = activeSlides[i].offsetHeight;\n      newHeight = height > newHeight ? height : newHeight;\n    }\n  } // Update Height\n\n\n  if (newHeight || newHeight === 0) swiper.$wrapperEl.css('height', `${newHeight}px`);\n}","export default function updateSlidesOffset() {\n  const swiper = this;\n  const slides = swiper.slides;\n\n  for (let i = 0; i < slides.length; i += 1) {\n    slides[i].swiperSlideOffset = swiper.isHorizontal() ? slides[i].offsetLeft : slides[i].offsetTop;\n  }\n}","import $ from '../../shared/dom.js';\nexport default function updateSlidesProgress(translate) {\n  if (translate === void 0) {\n    translate = this && this.translate || 0;\n  }\n\n  const swiper = this;\n  const params = swiper.params;\n  const {\n    slides,\n    rtlTranslate: rtl,\n    snapGrid\n  } = swiper;\n  if (slides.length === 0) return;\n  if (typeof slides[0].swiperSlideOffset === 'undefined') swiper.updateSlidesOffset();\n  let offsetCenter = -translate;\n  if (rtl) offsetCenter = translate; // Visible Slides\n\n  slides.removeClass(params.slideVisibleClass);\n  swiper.visibleSlidesIndexes = [];\n  swiper.visibleSlides = [];\n\n  for (let i = 0; i < slides.length; i += 1) {\n    const slide = slides[i];\n    let slideOffset = slide.swiperSlideOffset;\n\n    if (params.cssMode && params.centeredSlides) {\n      slideOffset -= slides[0].swiperSlideOffset;\n    }\n\n    const slideProgress = (offsetCenter + (params.centeredSlides ? swiper.minTranslate() : 0) - slideOffset) / (slide.swiperSlideSize + params.spaceBetween);\n    const originalSlideProgress = (offsetCenter - snapGrid[0] + (params.centeredSlides ? swiper.minTranslate() : 0) - slideOffset) / (slide.swiperSlideSize + params.spaceBetween);\n    const slideBefore = -(offsetCenter - slideOffset);\n    const slideAfter = slideBefore + swiper.slidesSizesGrid[i];\n    const isVisible = slideBefore >= 0 && slideBefore < swiper.size - 1 || slideAfter > 1 && slideAfter <= swiper.size || slideBefore <= 0 && slideAfter >= swiper.size;\n\n    if (isVisible) {\n      swiper.visibleSlides.push(slide);\n      swiper.visibleSlidesIndexes.push(i);\n      slides.eq(i).addClass(params.slideVisibleClass);\n    }\n\n    slide.progress = rtl ? -slideProgress : slideProgress;\n    slide.originalProgress = rtl ? -originalSlideProgress : originalSlideProgress;\n  }\n\n  swiper.visibleSlides = $(swiper.visibleSlides);\n}","export default function updateProgress(translate) {\n  const swiper = this;\n\n  if (typeof translate === 'undefined') {\n    const multiplier = swiper.rtlTranslate ? -1 : 1; // eslint-disable-next-line\n\n    translate = swiper && swiper.translate && swiper.translate * multiplier || 0;\n  }\n\n  const params = swiper.params;\n  const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n  let {\n    progress,\n    isBeginning,\n    isEnd\n  } = swiper;\n  const wasBeginning = isBeginning;\n  const wasEnd = isEnd;\n\n  if (translatesDiff === 0) {\n    progress = 0;\n    isBeginning = true;\n    isEnd = true;\n  } else {\n    progress = (translate - swiper.minTranslate()) / translatesDiff;\n    isBeginning = progress <= 0;\n    isEnd = progress >= 1;\n  }\n\n  Object.assign(swiper, {\n    progress,\n    isBeginning,\n    isEnd\n  });\n  if (params.watchSlidesProgress || params.centeredSlides && params.autoHeight) swiper.updateSlidesProgress(translate);\n\n  if (isBeginning && !wasBeginning) {\n    swiper.emit('reachBeginning toEdge');\n  }\n\n  if (isEnd && !wasEnd) {\n    swiper.emit('reachEnd toEdge');\n  }\n\n  if (wasBeginning && !isBeginning || wasEnd && !isEnd) {\n    swiper.emit('fromEdge');\n  }\n\n  swiper.emit('progress', progress);\n}","export default function updateSlidesClasses() {\n  const swiper = this;\n  const {\n    slides,\n    params,\n    $wrapperEl,\n    activeIndex,\n    realIndex\n  } = swiper;\n  const isVirtual = swiper.virtual && params.virtual.enabled;\n  slides.removeClass(`${params.slideActiveClass} ${params.slideNextClass} ${params.slidePrevClass} ${params.slideDuplicateActiveClass} ${params.slideDuplicateNextClass} ${params.slideDuplicatePrevClass}`);\n  let activeSlide;\n\n  if (isVirtual) {\n    activeSlide = swiper.$wrapperEl.find(`.${params.slideClass}[data-swiper-slide-index=\"${activeIndex}\"]`);\n  } else {\n    activeSlide = slides.eq(activeIndex);\n  } // Active classes\n\n\n  activeSlide.addClass(params.slideActiveClass);\n\n  if (params.loop) {\n    // Duplicate to all looped slides\n    if (activeSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl.children(`.${params.slideClass}:not(.${params.slideDuplicateClass})[data-swiper-slide-index=\"${realIndex}\"]`).addClass(params.slideDuplicateActiveClass);\n    } else {\n      $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass}[data-swiper-slide-index=\"${realIndex}\"]`).addClass(params.slideDuplicateActiveClass);\n    }\n  } // Next Slide\n\n\n  let nextSlide = activeSlide.nextAll(`.${params.slideClass}`).eq(0).addClass(params.slideNextClass);\n\n  if (params.loop && nextSlide.length === 0) {\n    nextSlide = slides.eq(0);\n    nextSlide.addClass(params.slideNextClass);\n  } // Prev Slide\n\n\n  let prevSlide = activeSlide.prevAll(`.${params.slideClass}`).eq(0).addClass(params.slidePrevClass);\n\n  if (params.loop && prevSlide.length === 0) {\n    prevSlide = slides.eq(-1);\n    prevSlide.addClass(params.slidePrevClass);\n  }\n\n  if (params.loop) {\n    // Duplicate to all looped slides\n    if (nextSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl.children(`.${params.slideClass}:not(.${params.slideDuplicateClass})[data-swiper-slide-index=\"${nextSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicateNextClass);\n    } else {\n      $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass}[data-swiper-slide-index=\"${nextSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicateNextClass);\n    }\n\n    if (prevSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl.children(`.${params.slideClass}:not(.${params.slideDuplicateClass})[data-swiper-slide-index=\"${prevSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicatePrevClass);\n    } else {\n      $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass}[data-swiper-slide-index=\"${prevSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicatePrevClass);\n    }\n  }\n\n  swiper.emitSlidesClasses();\n}","export default function updateActiveIndex(newActiveIndex) {\n  const swiper = this;\n  const translate = swiper.rtlTranslate ? swiper.translate : -swiper.translate;\n  const {\n    slidesGrid,\n    snapGrid,\n    params,\n    activeIndex: previousIndex,\n    realIndex: previousRealIndex,\n    snapIndex: previousSnapIndex\n  } = swiper;\n  let activeIndex = newActiveIndex;\n  let snapIndex;\n\n  if (typeof activeIndex === 'undefined') {\n    for (let i = 0; i < slidesGrid.length; i += 1) {\n      if (typeof slidesGrid[i + 1] !== 'undefined') {\n        if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1] - (slidesGrid[i + 1] - slidesGrid[i]) / 2) {\n          activeIndex = i;\n        } else if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1]) {\n          activeIndex = i + 1;\n        }\n      } else if (translate >= slidesGrid[i]) {\n        activeIndex = i;\n      }\n    } // Normalize slideIndex\n\n\n    if (params.normalizeSlideIndex) {\n      if (activeIndex < 0 || typeof activeIndex === 'undefined') activeIndex = 0;\n    }\n  }\n\n  if (snapGrid.indexOf(translate) >= 0) {\n    snapIndex = snapGrid.indexOf(translate);\n  } else {\n    const skip = Math.min(params.slidesPerGroupSkip, activeIndex);\n    snapIndex = skip + Math.floor((activeIndex - skip) / params.slidesPerGroup);\n  }\n\n  if (snapIndex >= snapGrid.length) snapIndex = snapGrid.length - 1;\n\n  if (activeIndex === previousIndex) {\n    if (snapIndex !== previousSnapIndex) {\n      swiper.snapIndex = snapIndex;\n      swiper.emit('snapIndexChange');\n    }\n\n    return;\n  } // Get real index\n\n\n  const realIndex = parseInt(swiper.slides.eq(activeIndex).attr('data-swiper-slide-index') || activeIndex, 10);\n  Object.assign(swiper, {\n    snapIndex,\n    realIndex,\n    previousIndex,\n    activeIndex\n  });\n  swiper.emit('activeIndexChange');\n  swiper.emit('snapIndexChange');\n\n  if (previousRealIndex !== realIndex) {\n    swiper.emit('realIndexChange');\n  }\n\n  if (swiper.initialized || swiper.params.runCallbacksOnInit) {\n    swiper.emit('slideChange');\n  }\n}","import $ from '../../shared/dom.js';\nexport default function updateClickedSlide(e) {\n  const swiper = this;\n  const params = swiper.params;\n  const slide = $(e).closest(`.${params.slideClass}`)[0];\n  let slideFound = false;\n  let slideIndex;\n\n  if (slide) {\n    for (let i = 0; i < swiper.slides.length; i += 1) {\n      if (swiper.slides[i] === slide) {\n        slideFound = true;\n        slideIndex = i;\n        break;\n      }\n    }\n  }\n\n  if (slide && slideFound) {\n    swiper.clickedSlide = slide;\n\n    if (swiper.virtual && swiper.params.virtual.enabled) {\n      swiper.clickedIndex = parseInt($(slide).attr('data-swiper-slide-index'), 10);\n    } else {\n      swiper.clickedIndex = slideIndex;\n    }\n  } else {\n    swiper.clickedSlide = undefined;\n    swiper.clickedIndex = undefined;\n    return;\n  }\n\n  if (params.slideToClickedSlide && swiper.clickedIndex !== undefined && swiper.clickedIndex !== swiper.activeIndex) {\n    swiper.slideToClickedSlide();\n  }\n}","export default function transitionEmit(_ref) {\n  let {\n    swiper,\n    runCallbacks,\n    direction,\n    step\n  } = _ref;\n  const {\n    activeIndex,\n    previousIndex\n  } = swiper;\n  let dir = direction;\n\n  if (!dir) {\n    if (activeIndex > previousIndex) dir = 'next';else if (activeIndex < previousIndex) dir = 'prev';else dir = 'reset';\n  }\n\n  swiper.emit(`transition${step}`);\n\n  if (runCallbacks && activeIndex !== previousIndex) {\n    if (dir === 'reset') {\n      swiper.emit(`slideResetTransition${step}`);\n      return;\n    }\n\n    swiper.emit(`slideChangeTransition${step}`);\n\n    if (dir === 'next') {\n      swiper.emit(`slideNextTransition${step}`);\n    } else {\n      swiper.emit(`slidePrevTransition${step}`);\n    }\n  }\n}","import slideTo from './slideTo.js';\nimport slideToLoop from './slideToLoop.js';\nimport slideNext from './slideNext.js';\nimport slidePrev from './slidePrev.js';\nimport slideReset from './slideReset.js';\nimport slideToClosest from './slideToClosest.js';\nimport slideToClickedSlide from './slideToClickedSlide.js';\nexport default {\n  slideTo,\n  slideToLoop,\n  slideNext,\n  slidePrev,\n  slideReset,\n  slideToClosest,\n  slideToClickedSlide\n};","import { animateCSSModeScroll } from '../../shared/utils.js';\nexport default function slideTo(index, speed, runCallbacks, internal, initial) {\n  if (index === void 0) {\n    index = 0;\n  }\n\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  if (typeof index !== 'number' && typeof index !== 'string') {\n    throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof index}] given.`);\n  }\n\n  if (typeof index === 'string') {\n    /**\n     * The `index` argument converted from `string` to `number`.\n     * @type {number}\n     */\n    const indexAsNumber = parseInt(index, 10);\n    /**\n     * Determines whether the `index` argument is a valid `number`\n     * after being converted from the `string` type.\n     * @type {boolean}\n     */\n\n    const isValidNumber = isFinite(indexAsNumber);\n\n    if (!isValidNumber) {\n      throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${index}] given.`);\n    } // Knowing that the converted `index` is a valid number,\n    // we can update the original argument's value.\n\n\n    index = indexAsNumber;\n  }\n\n  const swiper = this;\n  let slideIndex = index;\n  if (slideIndex < 0) slideIndex = 0;\n  const {\n    params,\n    snapGrid,\n    slidesGrid,\n    previousIndex,\n    activeIndex,\n    rtlTranslate: rtl,\n    wrapperEl,\n    enabled\n  } = swiper;\n\n  if (swiper.animating && params.preventInteractionOnTransition || !enabled && !internal && !initial) {\n    return false;\n  }\n\n  const skip = Math.min(swiper.params.slidesPerGroupSkip, slideIndex);\n  let snapIndex = skip + Math.floor((slideIndex - skip) / swiper.params.slidesPerGroup);\n  if (snapIndex >= snapGrid.length) snapIndex = snapGrid.length - 1;\n\n  if ((activeIndex || params.initialSlide || 0) === (previousIndex || 0) && runCallbacks) {\n    swiper.emit('beforeSlideChangeStart');\n  }\n\n  const translate = -snapGrid[snapIndex]; // Update progress\n\n  swiper.updateProgress(translate); // Normalize slideIndex\n\n  if (params.normalizeSlideIndex) {\n    for (let i = 0; i < slidesGrid.length; i += 1) {\n      const normalizedTranslate = -Math.floor(translate * 100);\n      const normalizedGrid = Math.floor(slidesGrid[i] * 100);\n      const normalizedGridNext = Math.floor(slidesGrid[i + 1] * 100);\n\n      if (typeof slidesGrid[i + 1] !== 'undefined') {\n        if (normalizedTranslate >= normalizedGrid && normalizedTranslate < normalizedGridNext - (normalizedGridNext - normalizedGrid) / 2) {\n          slideIndex = i;\n        } else if (normalizedTranslate >= normalizedGrid && normalizedTranslate < normalizedGridNext) {\n          slideIndex = i + 1;\n        }\n      } else if (normalizedTranslate >= normalizedGrid) {\n        slideIndex = i;\n      }\n    }\n  } // Directions locks\n\n\n  if (swiper.initialized && slideIndex !== activeIndex) {\n    if (!swiper.allowSlideNext && translate < swiper.translate && translate < swiper.minTranslate()) {\n      return false;\n    }\n\n    if (!swiper.allowSlidePrev && translate > swiper.translate && translate > swiper.maxTranslate()) {\n      if ((activeIndex || 0) !== slideIndex) return false;\n    }\n  }\n\n  let direction;\n  if (slideIndex > activeIndex) direction = 'next';else if (slideIndex < activeIndex) direction = 'prev';else direction = 'reset'; // Update Index\n\n  if (rtl && -translate === swiper.translate || !rtl && translate === swiper.translate) {\n    swiper.updateActiveIndex(slideIndex); // Update Height\n\n    if (params.autoHeight) {\n      swiper.updateAutoHeight();\n    }\n\n    swiper.updateSlidesClasses();\n\n    if (params.effect !== 'slide') {\n      swiper.setTranslate(translate);\n    }\n\n    if (direction !== 'reset') {\n      swiper.transitionStart(runCallbacks, direction);\n      swiper.transitionEnd(runCallbacks, direction);\n    }\n\n    return false;\n  }\n\n  if (params.cssMode) {\n    const isH = swiper.isHorizontal();\n    const t = rtl ? translate : -translate;\n\n    if (speed === 0) {\n      const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n\n      if (isVirtual) {\n        swiper.wrapperEl.style.scrollSnapType = 'none';\n        swiper._immediateVirtual = true;\n      }\n\n      wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = t;\n\n      if (isVirtual) {\n        requestAnimationFrame(() => {\n          swiper.wrapperEl.style.scrollSnapType = '';\n          swiper._swiperImmediateVirtual = false;\n        });\n      }\n    } else {\n      if (!swiper.support.smoothScroll) {\n        animateCSSModeScroll({\n          swiper,\n          targetPosition: t,\n          side: isH ? 'left' : 'top'\n        });\n        return true;\n      }\n\n      wrapperEl.scrollTo({\n        [isH ? 'left' : 'top']: t,\n        behavior: 'smooth'\n      });\n    }\n\n    return true;\n  }\n\n  swiper.setTransition(speed);\n  swiper.setTranslate(translate);\n  swiper.updateActiveIndex(slideIndex);\n  swiper.updateSlidesClasses();\n  swiper.emit('beforeTransitionStart', speed, internal);\n  swiper.transitionStart(runCallbacks, direction);\n\n  if (speed === 0) {\n    swiper.transitionEnd(runCallbacks, direction);\n  } else if (!swiper.animating) {\n    swiper.animating = true;\n\n    if (!swiper.onSlideToWrapperTransitionEnd) {\n      swiper.onSlideToWrapperTransitionEnd = function transitionEnd(e) {\n        if (!swiper || swiper.destroyed) return;\n        if (e.target !== this) return;\n        swiper.$wrapperEl[0].removeEventListener('transitionend', swiper.onSlideToWrapperTransitionEnd);\n        swiper.$wrapperEl[0].removeEventListener('webkitTransitionEnd', swiper.onSlideToWrapperTransitionEnd);\n        swiper.onSlideToWrapperTransitionEnd = null;\n        delete swiper.onSlideToWrapperTransitionEnd;\n        swiper.transitionEnd(runCallbacks, direction);\n      };\n    }\n\n    swiper.$wrapperEl[0].addEventListener('transitionend', swiper.onSlideToWrapperTransitionEnd);\n    swiper.$wrapperEl[0].addEventListener('webkitTransitionEnd', swiper.onSlideToWrapperTransitionEnd);\n  }\n\n  return true;\n}","export default function slideToLoop(index, speed, runCallbacks, internal) {\n  if (index === void 0) {\n    index = 0;\n  }\n\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  if (typeof index === 'string') {\n    /**\n     * The `index` argument converted from `string` to `number`.\n     * @type {number}\n     */\n    const indexAsNumber = parseInt(index, 10);\n    /**\n     * Determines whether the `index` argument is a valid `number`\n     * after being converted from the `string` type.\n     * @type {boolean}\n     */\n\n    const isValidNumber = isFinite(indexAsNumber);\n\n    if (!isValidNumber) {\n      throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${index}] given.`);\n    } // Knowing that the converted `index` is a valid number,\n    // we can update the original argument's value.\n\n\n    index = indexAsNumber;\n  }\n\n  const swiper = this;\n  let newIndex = index;\n\n  if (swiper.params.loop) {\n    newIndex += swiper.loopedSlides;\n  }\n\n  return swiper.slideTo(newIndex, speed, runCallbacks, internal);\n}","/* eslint no-unused-vars: \"off\" */\nexport default function slideNext(speed, runCallbacks, internal) {\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  const swiper = this;\n  const {\n    animating,\n    enabled,\n    params\n  } = swiper;\n  if (!enabled) return swiper;\n  let perGroup = params.slidesPerGroup;\n\n  if (params.slidesPerView === 'auto' && params.slidesPerGroup === 1 && params.slidesPerGroupAuto) {\n    perGroup = Math.max(swiper.slidesPerViewDynamic('current', true), 1);\n  }\n\n  const increment = swiper.activeIndex < params.slidesPerGroupSkip ? 1 : perGroup;\n\n  if (params.loop) {\n    if (animating && params.loopPreventsSlide) return false;\n    swiper.loopFix(); // eslint-disable-next-line\n\n    swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n  }\n\n  if (params.rewind && swiper.isEnd) {\n    return swiper.slideTo(0, speed, runCallbacks, internal);\n  }\n\n  return swiper.slideTo(swiper.activeIndex + increment, speed, runCallbacks, internal);\n}","/* eslint no-unused-vars: \"off\" */\nexport default function slidePrev(speed, runCallbacks, internal) {\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  const swiper = this;\n  const {\n    params,\n    animating,\n    snapGrid,\n    slidesGrid,\n    rtlTranslate,\n    enabled\n  } = swiper;\n  if (!enabled) return swiper;\n\n  if (params.loop) {\n    if (animating && params.loopPreventsSlide) return false;\n    swiper.loopFix(); // eslint-disable-next-line\n\n    swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n  }\n\n  const translate = rtlTranslate ? swiper.translate : -swiper.translate;\n\n  function normalize(val) {\n    if (val < 0) return -Math.floor(Math.abs(val));\n    return Math.floor(val);\n  }\n\n  const normalizedTranslate = normalize(translate);\n  const normalizedSnapGrid = snapGrid.map(val => normalize(val));\n  let prevSnap = snapGrid[normalizedSnapGrid.indexOf(normalizedTranslate) - 1];\n\n  if (typeof prevSnap === 'undefined' && params.cssMode) {\n    let prevSnapIndex;\n    snapGrid.forEach((snap, snapIndex) => {\n      if (normalizedTranslate >= snap) {\n        // prevSnap = snap;\n        prevSnapIndex = snapIndex;\n      }\n    });\n\n    if (typeof prevSnapIndex !== 'undefined') {\n      prevSnap = snapGrid[prevSnapIndex > 0 ? prevSnapIndex - 1 : prevSnapIndex];\n    }\n  }\n\n  let prevIndex = 0;\n\n  if (typeof prevSnap !== 'undefined') {\n    prevIndex = slidesGrid.indexOf(prevSnap);\n    if (prevIndex < 0) prevIndex = swiper.activeIndex - 1;\n\n    if (params.slidesPerView === 'auto' && params.slidesPerGroup === 1 && params.slidesPerGroupAuto) {\n      prevIndex = prevIndex - swiper.slidesPerViewDynamic('previous', true) + 1;\n      prevIndex = Math.max(prevIndex, 0);\n    }\n  }\n\n  if (params.rewind && swiper.isBeginning) {\n    const lastIndex = swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual ? swiper.virtual.slides.length - 1 : swiper.slides.length - 1;\n    return swiper.slideTo(lastIndex, speed, runCallbacks, internal);\n  }\n\n  return swiper.slideTo(prevIndex, speed, runCallbacks, internal);\n}","/* eslint no-unused-vars: \"off\" */\nexport default function slideReset(speed, runCallbacks, internal) {\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  const swiper = this;\n  return swiper.slideTo(swiper.activeIndex, speed, runCallbacks, internal);\n}","/* eslint no-unused-vars: \"off\" */\nexport default function slideToClosest(speed, runCallbacks, internal, threshold) {\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  if (threshold === void 0) {\n    threshold = 0.5;\n  }\n\n  const swiper = this;\n  let index = swiper.activeIndex;\n  const skip = Math.min(swiper.params.slidesPerGroupSkip, index);\n  const snapIndex = skip + Math.floor((index - skip) / swiper.params.slidesPerGroup);\n  const translate = swiper.rtlTranslate ? swiper.translate : -swiper.translate;\n\n  if (translate >= swiper.snapGrid[snapIndex]) {\n    // The current translate is on or after the current snap index, so the choice\n    // is between the current index and the one after it.\n    const currentSnap = swiper.snapGrid[snapIndex];\n    const nextSnap = swiper.snapGrid[snapIndex + 1];\n\n    if (translate - currentSnap > (nextSnap - currentSnap) * threshold) {\n      index += swiper.params.slidesPerGroup;\n    }\n  } else {\n    // The current translate is before the current snap index, so the choice\n    // is between the current index and the one before it.\n    const prevSnap = swiper.snapGrid[snapIndex - 1];\n    const currentSnap = swiper.snapGrid[snapIndex];\n\n    if (translate - prevSnap <= (currentSnap - prevSnap) * threshold) {\n      index -= swiper.params.slidesPerGroup;\n    }\n  }\n\n  index = Math.max(index, 0);\n  index = Math.min(index, swiper.slidesGrid.length - 1);\n  return swiper.slideTo(index, speed, runCallbacks, internal);\n}","import $ from '../../shared/dom.js';\nimport { nextTick } from '../../shared/utils.js';\nexport default function slideToClickedSlide() {\n  const swiper = this;\n  const {\n    params,\n    $wrapperEl\n  } = swiper;\n  const slidesPerView = params.slidesPerView === 'auto' ? swiper.slidesPerViewDynamic() : params.slidesPerView;\n  let slideToIndex = swiper.clickedIndex;\n  let realIndex;\n\n  if (params.loop) {\n    if (swiper.animating) return;\n    realIndex = parseInt($(swiper.clickedSlide).attr('data-swiper-slide-index'), 10);\n\n    if (params.centeredSlides) {\n      if (slideToIndex < swiper.loopedSlides - slidesPerView / 2 || slideToIndex > swiper.slides.length - swiper.loopedSlides + slidesPerView / 2) {\n        swiper.loopFix();\n        slideToIndex = $wrapperEl.children(`.${params.slideClass}[data-swiper-slide-index=\"${realIndex}\"]:not(.${params.slideDuplicateClass})`).eq(0).index();\n        nextTick(() => {\n          swiper.slideTo(slideToIndex);\n        });\n      } else {\n        swiper.slideTo(slideToIndex);\n      }\n    } else if (slideToIndex > swiper.slides.length - slidesPerView) {\n      swiper.loopFix();\n      slideToIndex = $wrapperEl.children(`.${params.slideClass}[data-swiper-slide-index=\"${realIndex}\"]:not(.${params.slideDuplicateClass})`).eq(0).index();\n      nextTick(() => {\n        swiper.slideTo(slideToIndex);\n      });\n    } else {\n      swiper.slideTo(slideToIndex);\n    }\n  } else {\n    swiper.slideTo(slideToIndex);\n  }\n}","import loopCreate from './loopCreate.js';\nimport loopFix from './loopFix.js';\nimport loopDestroy from './loopDestroy.js';\nexport default {\n  loopCreate,\n  loopFix,\n  loopDestroy\n};","import { getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nexport default function loopCreate() {\n  const swiper = this;\n  const document = getDocument();\n  const {\n    params,\n    $wrapperEl\n  } = swiper; // Remove duplicated slides\n\n  const $selector = $wrapperEl.children().length > 0 ? $($wrapperEl.children()[0].parentNode) : $wrapperEl;\n  $selector.children(`.${params.slideClass}.${params.slideDuplicateClass}`).remove();\n  let slides = $selector.children(`.${params.slideClass}`);\n\n  if (params.loopFillGroupWithBlank) {\n    const blankSlidesNum = params.slidesPerGroup - slides.length % params.slidesPerGroup;\n\n    if (blankSlidesNum !== params.slidesPerGroup) {\n      for (let i = 0; i < blankSlidesNum; i += 1) {\n        const blankNode = $(document.createElement('div')).addClass(`${params.slideClass} ${params.slideBlankClass}`);\n        $selector.append(blankNode);\n      }\n\n      slides = $selector.children(`.${params.slideClass}`);\n    }\n  }\n\n  if (params.slidesPerView === 'auto' && !params.loopedSlides) params.loopedSlides = slides.length;\n  swiper.loopedSlides = Math.ceil(parseFloat(params.loopedSlides || params.slidesPerView, 10));\n  swiper.loopedSlides += params.loopAdditionalSlides;\n\n  if (swiper.loopedSlides > slides.length) {\n    swiper.loopedSlides = slides.length;\n  }\n\n  const prependSlides = [];\n  const appendSlides = [];\n  slides.each((el, index) => {\n    const slide = $(el);\n\n    if (index < swiper.loopedSlides) {\n      appendSlides.push(el);\n    }\n\n    if (index < slides.length && index >= slides.length - swiper.loopedSlides) {\n      prependSlides.push(el);\n    }\n\n    slide.attr('data-swiper-slide-index', index);\n  });\n\n  for (let i = 0; i < appendSlides.length; i += 1) {\n    $selector.append($(appendSlides[i].cloneNode(true)).addClass(params.slideDuplicateClass));\n  }\n\n  for (let i = prependSlides.length - 1; i >= 0; i -= 1) {\n    $selector.prepend($(prependSlides[i].cloneNode(true)).addClass(params.slideDuplicateClass));\n  }\n}","export default function loopFix() {\n  const swiper = this;\n  swiper.emit('beforeLoopFix');\n  const {\n    activeIndex,\n    slides,\n    loopedSlides,\n    allowSlidePrev,\n    allowSlideNext,\n    snapGrid,\n    rtlTranslate: rtl\n  } = swiper;\n  let newIndex;\n  swiper.allowSlidePrev = true;\n  swiper.allowSlideNext = true;\n  const snapTranslate = -snapGrid[activeIndex];\n  const diff = snapTranslate - swiper.getTranslate(); // Fix For Negative Oversliding\n\n  if (activeIndex < loopedSlides) {\n    newIndex = slides.length - loopedSlides * 3 + activeIndex;\n    newIndex += loopedSlides;\n    const slideChanged = swiper.slideTo(newIndex, 0, false, true);\n\n    if (slideChanged && diff !== 0) {\n      swiper.setTranslate((rtl ? -swiper.translate : swiper.translate) - diff);\n    }\n  } else if (activeIndex >= slides.length - loopedSlides) {\n    // Fix For Positive Oversliding\n    newIndex = -slides.length + activeIndex + loopedSlides;\n    newIndex += loopedSlides;\n    const slideChanged = swiper.slideTo(newIndex, 0, false, true);\n\n    if (slideChanged && diff !== 0) {\n      swiper.setTranslate((rtl ? -swiper.translate : swiper.translate) - diff);\n    }\n  }\n\n  swiper.allowSlidePrev = allowSlidePrev;\n  swiper.allowSlideNext = allowSlideNext;\n  swiper.emit('loopFix');\n}","export default function loopDestroy() {\n  const swiper = this;\n  const {\n    $wrapperEl,\n    params,\n    slides\n  } = swiper;\n  $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass},.${params.slideClass}.${params.slideBlankClass}`).remove();\n  slides.removeAttr('data-swiper-slide-index');\n}","import { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nimport { now } from '../../shared/utils.js'; // Modified from https://stackoverflow.com/questions/54520554/custom-element-getrootnode-closest-function-crossing-multiple-parent-shadowd\n\nfunction closestElement(selector, base) {\n  if (base === void 0) {\n    base = this;\n  }\n\n  function __closestFrom(el) {\n    if (!el || el === getDocument() || el === getWindow()) return null;\n    if (el.assignedSlot) el = el.assignedSlot;\n    const found = el.closest(selector);\n\n    if (!found && !el.getRootNode) {\n      return null;\n    }\n\n    return found || __closestFrom(el.getRootNode().host);\n  }\n\n  return __closestFrom(base);\n}\n\nexport default function onTouchStart(event) {\n  const swiper = this;\n  const document = getDocument();\n  const window = getWindow();\n  const data = swiper.touchEventsData;\n  const {\n    params,\n    touches,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n\n  if (swiper.animating && params.preventInteractionOnTransition) {\n    return;\n  }\n\n  if (!swiper.animating && params.cssMode && params.loop) {\n    swiper.loopFix();\n  }\n\n  let e = event;\n  if (e.originalEvent) e = e.originalEvent;\n  let $targetEl = $(e.target);\n\n  if (params.touchEventsTarget === 'wrapper') {\n    if (!$targetEl.closest(swiper.wrapperEl).length) return;\n  }\n\n  data.isTouchEvent = e.type === 'touchstart';\n  if (!data.isTouchEvent && 'which' in e && e.which === 3) return;\n  if (!data.isTouchEvent && 'button' in e && e.button > 0) return;\n  if (data.isTouched && data.isMoved) return; // change target el for shadow root component\n\n  const swipingClassHasValue = !!params.noSwipingClass && params.noSwipingClass !== '';\n\n  if (swipingClassHasValue && e.target && e.target.shadowRoot && event.path && event.path[0]) {\n    $targetEl = $(event.path[0]);\n  }\n\n  const noSwipingSelector = params.noSwipingSelector ? params.noSwipingSelector : `.${params.noSwipingClass}`;\n  const isTargetShadow = !!(e.target && e.target.shadowRoot); // use closestElement for shadow root element to get the actual closest for nested shadow root element\n\n  if (params.noSwiping && (isTargetShadow ? closestElement(noSwipingSelector, $targetEl[0]) : $targetEl.closest(noSwipingSelector)[0])) {\n    swiper.allowClick = true;\n    return;\n  }\n\n  if (params.swipeHandler) {\n    if (!$targetEl.closest(params.swipeHandler)[0]) return;\n  }\n\n  touches.currentX = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n  touches.currentY = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n  const startX = touches.currentX;\n  const startY = touches.currentY; // Do NOT start if iOS edge swipe is detected. Otherwise iOS app cannot swipe-to-go-back anymore\n\n  const edgeSwipeDetection = params.edgeSwipeDetection || params.iOSEdgeSwipeDetection;\n  const edgeSwipeThreshold = params.edgeSwipeThreshold || params.iOSEdgeSwipeThreshold;\n\n  if (edgeSwipeDetection && (startX <= edgeSwipeThreshold || startX >= window.innerWidth - edgeSwipeThreshold)) {\n    if (edgeSwipeDetection === 'prevent') {\n      event.preventDefault();\n    } else {\n      return;\n    }\n  }\n\n  Object.assign(data, {\n    isTouched: true,\n    isMoved: false,\n    allowTouchCallbacks: true,\n    isScrolling: undefined,\n    startMoving: undefined\n  });\n  touches.startX = startX;\n  touches.startY = startY;\n  data.touchStartTime = now();\n  swiper.allowClick = true;\n  swiper.updateSize();\n  swiper.swipeDirection = undefined;\n  if (params.threshold > 0) data.allowThresholdMove = false;\n\n  if (e.type !== 'touchstart') {\n    let preventDefault = true;\n\n    if ($targetEl.is(data.focusableElements)) {\n      preventDefault = false;\n\n      if ($targetEl[0].nodeName === 'SELECT') {\n        data.isTouched = false;\n      }\n    }\n\n    if (document.activeElement && $(document.activeElement).is(data.focusableElements) && document.activeElement !== $targetEl[0]) {\n      document.activeElement.blur();\n    }\n\n    const shouldPreventDefault = preventDefault && swiper.allowTouchMove && params.touchStartPreventDefault;\n\n    if ((params.touchStartForcePreventDefault || shouldPreventDefault) && !$targetEl[0].isContentEditable) {\n      e.preventDefault();\n    }\n  }\n\n  if (swiper.params.freeMode && swiper.params.freeMode.enabled && swiper.freeMode && swiper.animating && !params.cssMode) {\n    swiper.freeMode.onTouchStart();\n  }\n\n  swiper.emit('touchStart', e);\n}","import { getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nimport { now } from '../../shared/utils.js';\nexport default function onTouchMove(event) {\n  const document = getDocument();\n  const swiper = this;\n  const data = swiper.touchEventsData;\n  const {\n    params,\n    touches,\n    rtlTranslate: rtl,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n  let e = event;\n  if (e.originalEvent) e = e.originalEvent;\n\n  if (!data.isTouched) {\n    if (data.startMoving && data.isScrolling) {\n      swiper.emit('touchMoveOpposite', e);\n    }\n\n    return;\n  }\n\n  if (data.isTouchEvent && e.type !== 'touchmove') return;\n  const targetTouch = e.type === 'touchmove' && e.targetTouches && (e.targetTouches[0] || e.changedTouches[0]);\n  const pageX = e.type === 'touchmove' ? targetTouch.pageX : e.pageX;\n  const pageY = e.type === 'touchmove' ? targetTouch.pageY : e.pageY;\n\n  if (e.preventedByNestedSwiper) {\n    touches.startX = pageX;\n    touches.startY = pageY;\n    return;\n  }\n\n  if (!swiper.allowTouchMove) {\n    if (!$(e.target).is(data.focusableElements)) {\n      swiper.allowClick = false;\n    }\n\n    if (data.isTouched) {\n      Object.assign(touches, {\n        startX: pageX,\n        startY: pageY,\n        currentX: pageX,\n        currentY: pageY\n      });\n      data.touchStartTime = now();\n    }\n\n    return;\n  }\n\n  if (data.isTouchEvent && params.touchReleaseOnEdges && !params.loop) {\n    if (swiper.isVertical()) {\n      // Vertical\n      if (pageY < touches.startY && swiper.translate <= swiper.maxTranslate() || pageY > touches.startY && swiper.translate >= swiper.minTranslate()) {\n        data.isTouched = false;\n        data.isMoved = false;\n        return;\n      }\n    } else if (pageX < touches.startX && swiper.translate <= swiper.maxTranslate() || pageX > touches.startX && swiper.translate >= swiper.minTranslate()) {\n      return;\n    }\n  }\n\n  if (data.isTouchEvent && document.activeElement) {\n    if (e.target === document.activeElement && $(e.target).is(data.focusableElements)) {\n      data.isMoved = true;\n      swiper.allowClick = false;\n      return;\n    }\n  }\n\n  if (data.allowTouchCallbacks) {\n    swiper.emit('touchMove', e);\n  }\n\n  if (e.targetTouches && e.targetTouches.length > 1) return;\n  touches.currentX = pageX;\n  touches.currentY = pageY;\n  const diffX = touches.currentX - touches.startX;\n  const diffY = touches.currentY - touches.startY;\n  if (swiper.params.threshold && Math.sqrt(diffX ** 2 + diffY ** 2) < swiper.params.threshold) return;\n\n  if (typeof data.isScrolling === 'undefined') {\n    let touchAngle;\n\n    if (swiper.isHorizontal() && touches.currentY === touches.startY || swiper.isVertical() && touches.currentX === touches.startX) {\n      data.isScrolling = false;\n    } else {\n      // eslint-disable-next-line\n      if (diffX * diffX + diffY * diffY >= 25) {\n        touchAngle = Math.atan2(Math.abs(diffY), Math.abs(diffX)) * 180 / Math.PI;\n        data.isScrolling = swiper.isHorizontal() ? touchAngle > params.touchAngle : 90 - touchAngle > params.touchAngle;\n      }\n    }\n  }\n\n  if (data.isScrolling) {\n    swiper.emit('touchMoveOpposite', e);\n  }\n\n  if (typeof data.startMoving === 'undefined') {\n    if (touches.currentX !== touches.startX || touches.currentY !== touches.startY) {\n      data.startMoving = true;\n    }\n  }\n\n  if (data.isScrolling) {\n    data.isTouched = false;\n    return;\n  }\n\n  if (!data.startMoving) {\n    return;\n  }\n\n  swiper.allowClick = false;\n\n  if (!params.cssMode && e.cancelable) {\n    e.preventDefault();\n  }\n\n  if (params.touchMoveStopPropagation && !params.nested) {\n    e.stopPropagation();\n  }\n\n  if (!data.isMoved) {\n    if (params.loop && !params.cssMode) {\n      swiper.loopFix();\n    }\n\n    data.startTranslate = swiper.getTranslate();\n    swiper.setTransition(0);\n\n    if (swiper.animating) {\n      swiper.$wrapperEl.trigger('webkitTransitionEnd transitionend');\n    }\n\n    data.allowMomentumBounce = false; // Grab Cursor\n\n    if (params.grabCursor && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {\n      swiper.setGrabCursor(true);\n    }\n\n    swiper.emit('sliderFirstMove', e);\n  }\n\n  swiper.emit('sliderMove', e);\n  data.isMoved = true;\n  let diff = swiper.isHorizontal() ? diffX : diffY;\n  touches.diff = diff;\n  diff *= params.touchRatio;\n  if (rtl) diff = -diff;\n  swiper.swipeDirection = diff > 0 ? 'prev' : 'next';\n  data.currentTranslate = diff + data.startTranslate;\n  let disableParentSwiper = true;\n  let resistanceRatio = params.resistanceRatio;\n\n  if (params.touchReleaseOnEdges) {\n    resistanceRatio = 0;\n  }\n\n  if (diff > 0 && data.currentTranslate > swiper.minTranslate()) {\n    disableParentSwiper = false;\n    if (params.resistance) data.currentTranslate = swiper.minTranslate() - 1 + (-swiper.minTranslate() + data.startTranslate + diff) ** resistanceRatio;\n  } else if (diff < 0 && data.currentTranslate < swiper.maxTranslate()) {\n    disableParentSwiper = false;\n    if (params.resistance) data.currentTranslate = swiper.maxTranslate() + 1 - (swiper.maxTranslate() - data.startTranslate - diff) ** resistanceRatio;\n  }\n\n  if (disableParentSwiper) {\n    e.preventedByNestedSwiper = true;\n  } // Directions locks\n\n\n  if (!swiper.allowSlideNext && swiper.swipeDirection === 'next' && data.currentTranslate < data.startTranslate) {\n    data.currentTranslate = data.startTranslate;\n  }\n\n  if (!swiper.allowSlidePrev && swiper.swipeDirection === 'prev' && data.currentTranslate > data.startTranslate) {\n    data.currentTranslate = data.startTranslate;\n  }\n\n  if (!swiper.allowSlidePrev && !swiper.allowSlideNext) {\n    data.currentTranslate = data.startTranslate;\n  } // Threshold\n\n\n  if (params.threshold > 0) {\n    if (Math.abs(diff) > params.threshold || data.allowThresholdMove) {\n      if (!data.allowThresholdMove) {\n        data.allowThresholdMove = true;\n        touches.startX = touches.currentX;\n        touches.startY = touches.currentY;\n        data.currentTranslate = data.startTranslate;\n        touches.diff = swiper.isHorizontal() ? touches.currentX - touches.startX : touches.currentY - touches.startY;\n        return;\n      }\n    } else {\n      data.currentTranslate = data.startTranslate;\n      return;\n    }\n  }\n\n  if (!params.followFinger || params.cssMode) return; // Update active index in free mode\n\n  if (params.freeMode && params.freeMode.enabled && swiper.freeMode || params.watchSlidesProgress) {\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  }\n\n  if (swiper.params.freeMode && params.freeMode.enabled && swiper.freeMode) {\n    swiper.freeMode.onTouchMove();\n  } // Update progress\n\n\n  swiper.updateProgress(data.currentTranslate); // Update translate\n\n  swiper.setTranslate(data.currentTranslate);\n}","import { now, nextTick } from '../../shared/utils.js';\nexport default function onTouchEnd(event) {\n  const swiper = this;\n  const data = swiper.touchEventsData;\n  const {\n    params,\n    touches,\n    rtlTranslate: rtl,\n    slidesGrid,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n  let e = event;\n  if (e.originalEvent) e = e.originalEvent;\n\n  if (data.allowTouchCallbacks) {\n    swiper.emit('touchEnd', e);\n  }\n\n  data.allowTouchCallbacks = false;\n\n  if (!data.isTouched) {\n    if (data.isMoved && params.grabCursor) {\n      swiper.setGrabCursor(false);\n    }\n\n    data.isMoved = false;\n    data.startMoving = false;\n    return;\n  } // Return Grab Cursor\n\n\n  if (params.grabCursor && data.isMoved && data.isTouched && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {\n    swiper.setGrabCursor(false);\n  } // Time diff\n\n\n  const touchEndTime = now();\n  const timeDiff = touchEndTime - data.touchStartTime; // Tap, doubleTap, Click\n\n  if (swiper.allowClick) {\n    const pathTree = e.path || e.composedPath && e.composedPath();\n    swiper.updateClickedSlide(pathTree && pathTree[0] || e.target);\n    swiper.emit('tap click', e);\n\n    if (timeDiff < 300 && touchEndTime - data.lastClickTime < 300) {\n      swiper.emit('doubleTap doubleClick', e);\n    }\n  }\n\n  data.lastClickTime = now();\n  nextTick(() => {\n    if (!swiper.destroyed) swiper.allowClick = true;\n  });\n\n  if (!data.isTouched || !data.isMoved || !swiper.swipeDirection || touches.diff === 0 || data.currentTranslate === data.startTranslate) {\n    data.isTouched = false;\n    data.isMoved = false;\n    data.startMoving = false;\n    return;\n  }\n\n  data.isTouched = false;\n  data.isMoved = false;\n  data.startMoving = false;\n  let currentPos;\n\n  if (params.followFinger) {\n    currentPos = rtl ? swiper.translate : -swiper.translate;\n  } else {\n    currentPos = -data.currentTranslate;\n  }\n\n  if (params.cssMode) {\n    return;\n  }\n\n  if (swiper.params.freeMode && params.freeMode.enabled) {\n    swiper.freeMode.onTouchEnd({\n      currentPos\n    });\n    return;\n  } // Find current slide\n\n\n  let stopIndex = 0;\n  let groupSize = swiper.slidesSizesGrid[0];\n\n  for (let i = 0; i < slidesGrid.length; i += i < params.slidesPerGroupSkip ? 1 : params.slidesPerGroup) {\n    const increment = i < params.slidesPerGroupSkip - 1 ? 1 : params.slidesPerGroup;\n\n    if (typeof slidesGrid[i + increment] !== 'undefined') {\n      if (currentPos >= slidesGrid[i] && currentPos < slidesGrid[i + increment]) {\n        stopIndex = i;\n        groupSize = slidesGrid[i + increment] - slidesGrid[i];\n      }\n    } else if (currentPos >= slidesGrid[i]) {\n      stopIndex = i;\n      groupSize = slidesGrid[slidesGrid.length - 1] - slidesGrid[slidesGrid.length - 2];\n    }\n  }\n\n  let rewindFirstIndex = null;\n  let rewindLastIndex = null;\n\n  if (params.rewind) {\n    if (swiper.isBeginning) {\n      rewindLastIndex = swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual ? swiper.virtual.slides.length - 1 : swiper.slides.length - 1;\n    } else if (swiper.isEnd) {\n      rewindFirstIndex = 0;\n    }\n  } // Find current slide size\n\n\n  const ratio = (currentPos - slidesGrid[stopIndex]) / groupSize;\n  const increment = stopIndex < params.slidesPerGroupSkip - 1 ? 1 : params.slidesPerGroup;\n\n  if (timeDiff > params.longSwipesMs) {\n    // Long touches\n    if (!params.longSwipes) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n\n    if (swiper.swipeDirection === 'next') {\n      if (ratio >= params.longSwipesRatio) swiper.slideTo(params.rewind && swiper.isEnd ? rewindFirstIndex : stopIndex + increment);else swiper.slideTo(stopIndex);\n    }\n\n    if (swiper.swipeDirection === 'prev') {\n      if (ratio > 1 - params.longSwipesRatio) {\n        swiper.slideTo(stopIndex + increment);\n      } else if (rewindLastIndex !== null && ratio < 0 && Math.abs(ratio) > params.longSwipesRatio) {\n        swiper.slideTo(rewindLastIndex);\n      } else {\n        swiper.slideTo(stopIndex);\n      }\n    }\n  } else {\n    // Short swipes\n    if (!params.shortSwipes) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n\n    const isNavButtonTarget = swiper.navigation && (e.target === swiper.navigation.nextEl || e.target === swiper.navigation.prevEl);\n\n    if (!isNavButtonTarget) {\n      if (swiper.swipeDirection === 'next') {\n        swiper.slideTo(rewindFirstIndex !== null ? rewindFirstIndex : stopIndex + increment);\n      }\n\n      if (swiper.swipeDirection === 'prev') {\n        swiper.slideTo(rewindLastIndex !== null ? rewindLastIndex : stopIndex);\n      }\n    } else if (e.target === swiper.navigation.nextEl) {\n      swiper.slideTo(stopIndex + increment);\n    } else {\n      swiper.slideTo(stopIndex);\n    }\n  }\n}","export default function onResize() {\n  const swiper = this;\n  const {\n    params,\n    el\n  } = swiper;\n  if (el && el.offsetWidth === 0) return; // Breakpoints\n\n  if (params.breakpoints) {\n    swiper.setBreakpoint();\n  } // Save locks\n\n\n  const {\n    allowSlideNext,\n    allowSlidePrev,\n    snapGrid\n  } = swiper; // Disable locks on resize\n\n  swiper.allowSlideNext = true;\n  swiper.allowSlidePrev = true;\n  swiper.updateSize();\n  swiper.updateSlides();\n  swiper.updateSlidesClasses();\n\n  if ((params.slidesPerView === 'auto' || params.slidesPerView > 1) && swiper.isEnd && !swiper.isBeginning && !swiper.params.centeredSlides) {\n    swiper.slideTo(swiper.slides.length - 1, 0, false, true);\n  } else {\n    swiper.slideTo(swiper.activeIndex, 0, false, true);\n  }\n\n  if (swiper.autoplay && swiper.autoplay.running && swiper.autoplay.paused) {\n    swiper.autoplay.run();\n  } // Return locks after resize\n\n\n  swiper.allowSlidePrev = allowSlidePrev;\n  swiper.allowSlideNext = allowSlideNext;\n\n  if (swiper.params.watchOverflow && snapGrid !== swiper.snapGrid) {\n    swiper.checkOverflow();\n  }\n}","export default function onClick(e) {\n  const swiper = this;\n  if (!swiper.enabled) return;\n\n  if (!swiper.allowClick) {\n    if (swiper.params.preventClicks) e.preventDefault();\n\n    if (swiper.params.preventClicksPropagation && swiper.animating) {\n      e.stopPropagation();\n      e.stopImmediatePropagation();\n    }\n  }\n}","export default function onScroll() {\n  const swiper = this;\n  const {\n    wrapperEl,\n    rtlTranslate,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n  swiper.previousTranslate = swiper.translate;\n\n  if (swiper.isHorizontal()) {\n    swiper.translate = -wrapperEl.scrollLeft;\n  } else {\n    swiper.translate = -wrapperEl.scrollTop;\n  } // eslint-disable-next-line\n\n\n  if (swiper.translate === 0) swiper.translate = 0;\n  swiper.updateActiveIndex();\n  swiper.updateSlidesClasses();\n  let newProgress;\n  const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n\n  if (translatesDiff === 0) {\n    newProgress = 0;\n  } else {\n    newProgress = (swiper.translate - swiper.minTranslate()) / translatesDiff;\n  }\n\n  if (newProgress !== swiper.progress) {\n    swiper.updateProgress(rtlTranslate ? -swiper.translate : swiper.translate);\n  }\n\n  swiper.emit('setTranslate', swiper.translate, false);\n}","import { getDocument } from 'ssr-window';\nimport onTouchStart from './onTouchStart.js';\nimport onTouchMove from './onTouchMove.js';\nimport onTouchEnd from './onTouchEnd.js';\nimport onResize from './onResize.js';\nimport onClick from './onClick.js';\nimport onScroll from './onScroll.js';\nlet dummyEventAttached = false;\n\nfunction dummyEventListener() {}\n\nconst events = (swiper, method) => {\n  const document = getDocument();\n  const {\n    params,\n    touchEvents,\n    el,\n    wrapperEl,\n    device,\n    support\n  } = swiper;\n  const capture = !!params.nested;\n  const domMethod = method === 'on' ? 'addEventListener' : 'removeEventListener';\n  const swiperMethod = method; // Touch Events\n\n  if (!support.touch) {\n    el[domMethod](touchEvents.start, swiper.onTouchStart, false);\n    document[domMethod](touchEvents.move, swiper.onTouchMove, capture);\n    document[domMethod](touchEvents.end, swiper.onTouchEnd, false);\n  } else {\n    const passiveListener = touchEvents.start === 'touchstart' && support.passiveListener && params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    el[domMethod](touchEvents.start, swiper.onTouchStart, passiveListener);\n    el[domMethod](touchEvents.move, swiper.onTouchMove, support.passiveListener ? {\n      passive: false,\n      capture\n    } : capture);\n    el[domMethod](touchEvents.end, swiper.onTouchEnd, passiveListener);\n\n    if (touchEvents.cancel) {\n      el[domMethod](touchEvents.cancel, swiper.onTouchEnd, passiveListener);\n    }\n  } // Prevent Links Clicks\n\n\n  if (params.preventClicks || params.preventClicksPropagation) {\n    el[domMethod]('click', swiper.onClick, true);\n  }\n\n  if (params.cssMode) {\n    wrapperEl[domMethod]('scroll', swiper.onScroll);\n  } // Resize handler\n\n\n  if (params.updateOnWindowResize) {\n    swiper[swiperMethod](device.ios || device.android ? 'resize orientationchange observerUpdate' : 'resize observerUpdate', onResize, true);\n  } else {\n    swiper[swiperMethod]('observerUpdate', onResize, true);\n  }\n};\n\nfunction attachEvents() {\n  const swiper = this;\n  const document = getDocument();\n  const {\n    params,\n    support\n  } = swiper;\n  swiper.onTouchStart = onTouchStart.bind(swiper);\n  swiper.onTouchMove = onTouchMove.bind(swiper);\n  swiper.onTouchEnd = onTouchEnd.bind(swiper);\n\n  if (params.cssMode) {\n    swiper.onScroll = onScroll.bind(swiper);\n  }\n\n  swiper.onClick = onClick.bind(swiper);\n\n  if (support.touch && !dummyEventAttached) {\n    document.addEventListener('touchstart', dummyEventListener);\n    dummyEventAttached = true;\n  }\n\n  events(swiper, 'on');\n}\n\nfunction detachEvents() {\n  const swiper = this;\n  events(swiper, 'off');\n}\n\nexport default {\n  attachEvents,\n  detachEvents\n};","import { extend } from '../../shared/utils.js';\n\nconst isGridEnabled = (swiper, params) => {\n  return swiper.grid && params.grid && params.grid.rows > 1;\n};\n\nexport default function setBreakpoint() {\n  const swiper = this;\n  const {\n    activeIndex,\n    initialized,\n    loopedSlides = 0,\n    params,\n    $el\n  } = swiper;\n  const breakpoints = params.breakpoints;\n  if (!breakpoints || breakpoints && Object.keys(breakpoints).length === 0) return; // Get breakpoint for window width and update parameters\n\n  const breakpoint = swiper.getBreakpoint(breakpoints, swiper.params.breakpointsBase, swiper.el);\n  if (!breakpoint || swiper.currentBreakpoint === breakpoint) return;\n  const breakpointOnlyParams = breakpoint in breakpoints ? breakpoints[breakpoint] : undefined;\n  const breakpointParams = breakpointOnlyParams || swiper.originalParams;\n  const wasMultiRow = isGridEnabled(swiper, params);\n  const isMultiRow = isGridEnabled(swiper, breakpointParams);\n  const wasEnabled = params.enabled;\n\n  if (wasMultiRow && !isMultiRow) {\n    $el.removeClass(`${params.containerModifierClass}grid ${params.containerModifierClass}grid-column`);\n    swiper.emitContainerClasses();\n  } else if (!wasMultiRow && isMultiRow) {\n    $el.addClass(`${params.containerModifierClass}grid`);\n\n    if (breakpointParams.grid.fill && breakpointParams.grid.fill === 'column' || !breakpointParams.grid.fill && params.grid.fill === 'column') {\n      $el.addClass(`${params.containerModifierClass}grid-column`);\n    }\n\n    swiper.emitContainerClasses();\n  } // Toggle navigation, pagination, scrollbar\n\n\n  ['navigation', 'pagination', 'scrollbar'].forEach(prop => {\n    const wasModuleEnabled = params[prop] && params[prop].enabled;\n    const isModuleEnabled = breakpointParams[prop] && breakpointParams[prop].enabled;\n\n    if (wasModuleEnabled && !isModuleEnabled) {\n      swiper[prop].disable();\n    }\n\n    if (!wasModuleEnabled && isModuleEnabled) {\n      swiper[prop].enable();\n    }\n  });\n  const directionChanged = breakpointParams.direction && breakpointParams.direction !== params.direction;\n  const needsReLoop = params.loop && (breakpointParams.slidesPerView !== params.slidesPerView || directionChanged);\n\n  if (directionChanged && initialized) {\n    swiper.changeDirection();\n  }\n\n  extend(swiper.params, breakpointParams);\n  const isEnabled = swiper.params.enabled;\n  Object.assign(swiper, {\n    allowTouchMove: swiper.params.allowTouchMove,\n    allowSlideNext: swiper.params.allowSlideNext,\n    allowSlidePrev: swiper.params.allowSlidePrev\n  });\n\n  if (wasEnabled && !isEnabled) {\n    swiper.disable();\n  } else if (!wasEnabled && isEnabled) {\n    swiper.enable();\n  }\n\n  swiper.currentBreakpoint = breakpoint;\n  swiper.emit('_beforeBreakpoint', breakpointParams);\n\n  if (needsReLoop && initialized) {\n    swiper.loopDestroy();\n    swiper.loopCreate();\n    swiper.updateSlides();\n    swiper.slideTo(activeIndex - loopedSlides + swiper.loopedSlides, 0, false);\n  }\n\n  swiper.emit('breakpoint', breakpointParams);\n}","import addClasses from './addClasses.js';\nimport removeClasses from './removeClasses.js';\nexport default {\n  addClasses,\n  removeClasses\n};","function prepareClasses(entries, prefix) {\n  const resultClasses = [];\n  entries.forEach(item => {\n    if (typeof item === 'object') {\n      Object.keys(item).forEach(classNames => {\n        if (item[classNames]) {\n          resultClasses.push(prefix + classNames);\n        }\n      });\n    } else if (typeof item === 'string') {\n      resultClasses.push(prefix + item);\n    }\n  });\n  return resultClasses;\n}\n\nexport default function addClasses() {\n  const swiper = this;\n  const {\n    classNames,\n    params,\n    rtl,\n    $el,\n    device,\n    support\n  } = swiper; // prettier-ignore\n\n  const suffixes = prepareClasses(['initialized', params.direction, {\n    'pointer-events': !support.touch\n  }, {\n    'free-mode': swiper.params.freeMode && params.freeMode.enabled\n  }, {\n    'autoheight': params.autoHeight\n  }, {\n    'rtl': rtl\n  }, {\n    'grid': params.grid && params.grid.rows > 1\n  }, {\n    'grid-column': params.grid && params.grid.rows > 1 && params.grid.fill === 'column'\n  }, {\n    'android': device.android\n  }, {\n    'ios': device.ios\n  }, {\n    'css-mode': params.cssMode\n  }, {\n    'centered': params.cssMode && params.centeredSlides\n  }, {\n    'watch-progress': params.watchSlidesProgress\n  }], params.containerModifierClass);\n  classNames.push(...suffixes);\n  $el.addClass([...classNames].join(' '));\n  swiper.emitContainerClasses();\n}","export default function removeClasses() {\n  const swiper = this;\n  const {\n    $el,\n    classNames\n  } = swiper;\n  $el.removeClass(classNames.join(' '));\n  swiper.emitContainerClasses();\n}","export default {\n  init: true,\n  direction: 'horizontal',\n  touchEventsTarget: 'wrapper',\n  initialSlide: 0,\n  speed: 300,\n  cssMode: false,\n  updateOnWindowResize: true,\n  resizeObserver: true,\n  nested: false,\n  createElements: false,\n  enabled: true,\n  focusableElements: 'input, select, option, textarea, button, video, label',\n  // Overrides\n  width: null,\n  height: null,\n  //\n  preventInteractionOnTransition: false,\n  // ssr\n  userAgent: null,\n  url: null,\n  // To support iOS's swipe-to-go-back gesture (when being used in-app).\n  edgeSwipeDetection: false,\n  edgeSwipeThreshold: 20,\n  // Autoheight\n  autoHeight: false,\n  // Set wrapper width\n  setWrapperSize: false,\n  // Virtual Translate\n  virtualTranslate: false,\n  // Effects\n  effect: 'slide',\n  // 'slide' or 'fade' or 'cube' or 'coverflow' or 'flip'\n  // Breakpoints\n  breakpoints: undefined,\n  breakpointsBase: 'window',\n  // Slides grid\n  spaceBetween: 0,\n  slidesPerView: 1,\n  slidesPerGroup: 1,\n  slidesPerGroupSkip: 0,\n  slidesPerGroupAuto: false,\n  centeredSlides: false,\n  centeredSlidesBounds: false,\n  slidesOffsetBefore: 0,\n  // in px\n  slidesOffsetAfter: 0,\n  // in px\n  normalizeSlideIndex: true,\n  centerInsufficientSlides: false,\n  // Disable swiper and hide navigation when container not overflow\n  watchOverflow: true,\n  // Round length\n  roundLengths: false,\n  // Touches\n  touchRatio: 1,\n  touchAngle: 45,\n  simulateTouch: true,\n  shortSwipes: true,\n  longSwipes: true,\n  longSwipesRatio: 0.5,\n  longSwipesMs: 300,\n  followFinger: true,\n  allowTouchMove: true,\n  threshold: 0,\n  touchMoveStopPropagation: false,\n  touchStartPreventDefault: true,\n  touchStartForcePreventDefault: false,\n  touchReleaseOnEdges: false,\n  // Unique Navigation Elements\n  uniqueNavElements: true,\n  // Resistance\n  resistance: true,\n  resistanceRatio: 0.85,\n  // Progress\n  watchSlidesProgress: false,\n  // Cursor\n  grabCursor: false,\n  // Clicks\n  preventClicks: true,\n  preventClicksPropagation: true,\n  slideToClickedSlide: false,\n  // Images\n  preloadImages: true,\n  updateOnImagesReady: true,\n  // loop\n  loop: false,\n  loopAdditionalSlides: 0,\n  loopedSlides: null,\n  loopFillGroupWithBlank: false,\n  loopPreventsSlide: true,\n  // rewind\n  rewind: false,\n  // Swiping/no swiping\n  allowSlidePrev: true,\n  allowSlideNext: true,\n  swipeHandler: null,\n  // '.swipe-handler',\n  noSwiping: true,\n  noSwipingClass: 'swiper-no-swiping',\n  noSwipingSelector: null,\n  // Passive Listeners\n  passiveListeners: true,\n  maxBackfaceHiddenSlides: 10,\n  // NS\n  containerModifierClass: 'swiper-',\n  // NEW\n  slideClass: 'swiper-slide',\n  slideBlankClass: 'swiper-slide-invisible-blank',\n  slideActiveClass: 'swiper-slide-active',\n  slideDuplicateActiveClass: 'swiper-slide-duplicate-active',\n  slideVisibleClass: 'swiper-slide-visible',\n  slideDuplicateClass: 'swiper-slide-duplicate',\n  slideNextClass: 'swiper-slide-next',\n  slideDuplicateNextClass: 'swiper-slide-duplicate-next',\n  slidePrevClass: 'swiper-slide-prev',\n  slideDuplicatePrevClass: 'swiper-slide-duplicate-prev',\n  wrapperClass: 'swiper-wrapper',\n  // Callbacks\n  runCallbacksOnInit: true,\n  // Internals\n  _emitClasses: false\n};","import { extend } from '../shared/utils.js';\nexport default function moduleExtendParams(params, allModulesParams) {\n  return function extendParams(obj) {\n    if (obj === void 0) {\n      obj = {};\n    }\n\n    const moduleParamName = Object.keys(obj)[0];\n    const moduleParams = obj[moduleParamName];\n\n    if (typeof moduleParams !== 'object' || moduleParams === null) {\n      extend(allModulesParams, obj);\n      return;\n    }\n\n    if (['navigation', 'pagination', 'scrollbar'].indexOf(moduleParamName) >= 0 && params[moduleParamName] === true) {\n      params[moduleParamName] = {\n        auto: true\n      };\n    }\n\n    if (!(moduleParamName in params && 'enabled' in moduleParams)) {\n      extend(allModulesParams, obj);\n      return;\n    }\n\n    if (params[moduleParamName] === true) {\n      params[moduleParamName] = {\n        enabled: true\n      };\n    }\n\n    if (typeof params[moduleParamName] === 'object' && !('enabled' in params[moduleParamName])) {\n      params[moduleParamName].enabled = true;\n    }\n\n    if (!params[moduleParamName]) params[moduleParamName] = {\n      enabled: false\n    };\n    extend(allModulesParams, obj);\n  };\n}","/* eslint no-param-reassign: \"off\" */\nimport { getDocument } from 'ssr-window';\nimport $ from '../shared/dom.js';\nimport { extend, now, deleteProps } from '../shared/utils.js';\nimport { getSupport } from '../shared/get-support.js';\nimport { getDevice } from '../shared/get-device.js';\nimport { getBrowser } from '../shared/get-browser.js';\nimport Resize from './modules/resize/resize.js';\nimport Observer from './modules/observer/observer.js';\nimport eventsEmitter from './events-emitter.js';\nimport update from './update/index.js';\nimport translate from './translate/index.js';\nimport transition from './transition/index.js';\nimport slide from './slide/index.js';\nimport loop from './loop/index.js';\nimport grabCursor from './grab-cursor/index.js';\nimport events from './events/index.js';\nimport breakpoints from './breakpoints/index.js';\nimport classes from './classes/index.js';\nimport images from './images/index.js';\nimport checkOverflow from './check-overflow/index.js';\nimport defaults from './defaults.js';\nimport moduleExtendParams from './moduleExtendParams.js';\nconst prototypes = {\n  eventsEmitter,\n  update,\n  translate,\n  transition,\n  slide,\n  loop,\n  grabCursor,\n  events,\n  breakpoints,\n  checkOverflow,\n  classes,\n  images\n};\nconst extendedDefaults = {};\n\nclass Swiper {\n  constructor() {\n    let el;\n    let params;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (args.length === 1 && args[0].constructor && Object.prototype.toString.call(args[0]).slice(8, -1) === 'Object') {\n      params = args[0];\n    } else {\n      [el, params] = args;\n    }\n\n    if (!params) params = {};\n    params = extend({}, params);\n    if (el && !params.el) params.el = el;\n\n    if (params.el && $(params.el).length > 1) {\n      const swipers = [];\n      $(params.el).each(containerEl => {\n        const newParams = extend({}, params, {\n          el: containerEl\n        });\n        swipers.push(new Swiper(newParams));\n      });\n      return swipers;\n    } // Swiper Instance\n\n\n    const swiper = this;\n    swiper.__swiper__ = true;\n    swiper.support = getSupport();\n    swiper.device = getDevice({\n      userAgent: params.userAgent\n    });\n    swiper.browser = getBrowser();\n    swiper.eventsListeners = {};\n    swiper.eventsAnyListeners = [];\n    swiper.modules = [...swiper.__modules__];\n\n    if (params.modules && Array.isArray(params.modules)) {\n      swiper.modules.push(...params.modules);\n    }\n\n    const allModulesParams = {};\n    swiper.modules.forEach(mod => {\n      mod({\n        swiper,\n        extendParams: moduleExtendParams(params, allModulesParams),\n        on: swiper.on.bind(swiper),\n        once: swiper.once.bind(swiper),\n        off: swiper.off.bind(swiper),\n        emit: swiper.emit.bind(swiper)\n      });\n    }); // Extend defaults with modules params\n\n    const swiperParams = extend({}, defaults, allModulesParams); // Extend defaults with passed params\n\n    swiper.params = extend({}, swiperParams, extendedDefaults, params);\n    swiper.originalParams = extend({}, swiper.params);\n    swiper.passedParams = extend({}, params); // add event listeners\n\n    if (swiper.params && swiper.params.on) {\n      Object.keys(swiper.params.on).forEach(eventName => {\n        swiper.on(eventName, swiper.params.on[eventName]);\n      });\n    }\n\n    if (swiper.params && swiper.params.onAny) {\n      swiper.onAny(swiper.params.onAny);\n    } // Save Dom lib\n\n\n    swiper.$ = $; // Extend Swiper\n\n    Object.assign(swiper, {\n      enabled: swiper.params.enabled,\n      el,\n      // Classes\n      classNames: [],\n      // Slides\n      slides: $(),\n      slidesGrid: [],\n      snapGrid: [],\n      slidesSizesGrid: [],\n\n      // isDirection\n      isHorizontal() {\n        return swiper.params.direction === 'horizontal';\n      },\n\n      isVertical() {\n        return swiper.params.direction === 'vertical';\n      },\n\n      // Indexes\n      activeIndex: 0,\n      realIndex: 0,\n      //\n      isBeginning: true,\n      isEnd: false,\n      // Props\n      translate: 0,\n      previousTranslate: 0,\n      progress: 0,\n      velocity: 0,\n      animating: false,\n      // Locks\n      allowSlideNext: swiper.params.allowSlideNext,\n      allowSlidePrev: swiper.params.allowSlidePrev,\n      // Touch Events\n      touchEvents: function touchEvents() {\n        const touch = ['touchstart', 'touchmove', 'touchend', 'touchcancel'];\n        const desktop = ['pointerdown', 'pointermove', 'pointerup'];\n        swiper.touchEventsTouch = {\n          start: touch[0],\n          move: touch[1],\n          end: touch[2],\n          cancel: touch[3]\n        };\n        swiper.touchEventsDesktop = {\n          start: desktop[0],\n          move: desktop[1],\n          end: desktop[2]\n        };\n        return swiper.support.touch || !swiper.params.simulateTouch ? swiper.touchEventsTouch : swiper.touchEventsDesktop;\n      }(),\n      touchEventsData: {\n        isTouched: undefined,\n        isMoved: undefined,\n        allowTouchCallbacks: undefined,\n        touchStartTime: undefined,\n        isScrolling: undefined,\n        currentTranslate: undefined,\n        startTranslate: undefined,\n        allowThresholdMove: undefined,\n        // Form elements to match\n        focusableElements: swiper.params.focusableElements,\n        // Last click time\n        lastClickTime: now(),\n        clickTimeout: undefined,\n        // Velocities\n        velocities: [],\n        allowMomentumBounce: undefined,\n        isTouchEvent: undefined,\n        startMoving: undefined\n      },\n      // Clicks\n      allowClick: true,\n      // Touches\n      allowTouchMove: swiper.params.allowTouchMove,\n      touches: {\n        startX: 0,\n        startY: 0,\n        currentX: 0,\n        currentY: 0,\n        diff: 0\n      },\n      // Images\n      imagesToLoad: [],\n      imagesLoaded: 0\n    });\n    swiper.emit('_swiper'); // Init\n\n    if (swiper.params.init) {\n      swiper.init();\n    } // Return app instance\n\n\n    return swiper;\n  }\n\n  enable() {\n    const swiper = this;\n    if (swiper.enabled) return;\n    swiper.enabled = true;\n\n    if (swiper.params.grabCursor) {\n      swiper.setGrabCursor();\n    }\n\n    swiper.emit('enable');\n  }\n\n  disable() {\n    const swiper = this;\n    if (!swiper.enabled) return;\n    swiper.enabled = false;\n\n    if (swiper.params.grabCursor) {\n      swiper.unsetGrabCursor();\n    }\n\n    swiper.emit('disable');\n  }\n\n  setProgress(progress, speed) {\n    const swiper = this;\n    progress = Math.min(Math.max(progress, 0), 1);\n    const min = swiper.minTranslate();\n    const max = swiper.maxTranslate();\n    const current = (max - min) * progress + min;\n    swiper.translateTo(current, typeof speed === 'undefined' ? 0 : speed);\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  }\n\n  emitContainerClasses() {\n    const swiper = this;\n    if (!swiper.params._emitClasses || !swiper.el) return;\n    const cls = swiper.el.className.split(' ').filter(className => {\n      return className.indexOf('swiper') === 0 || className.indexOf(swiper.params.containerModifierClass) === 0;\n    });\n    swiper.emit('_containerClasses', cls.join(' '));\n  }\n\n  getSlideClasses(slideEl) {\n    const swiper = this;\n    if (swiper.destroyed) return '';\n    return slideEl.className.split(' ').filter(className => {\n      return className.indexOf('swiper-slide') === 0 || className.indexOf(swiper.params.slideClass) === 0;\n    }).join(' ');\n  }\n\n  emitSlidesClasses() {\n    const swiper = this;\n    if (!swiper.params._emitClasses || !swiper.el) return;\n    const updates = [];\n    swiper.slides.each(slideEl => {\n      const classNames = swiper.getSlideClasses(slideEl);\n      updates.push({\n        slideEl,\n        classNames\n      });\n      swiper.emit('_slideClass', slideEl, classNames);\n    });\n    swiper.emit('_slideClasses', updates);\n  }\n\n  slidesPerViewDynamic(view, exact) {\n    if (view === void 0) {\n      view = 'current';\n    }\n\n    if (exact === void 0) {\n      exact = false;\n    }\n\n    const swiper = this;\n    const {\n      params,\n      slides,\n      slidesGrid,\n      slidesSizesGrid,\n      size: swiperSize,\n      activeIndex\n    } = swiper;\n    let spv = 1;\n\n    if (params.centeredSlides) {\n      let slideSize = slides[activeIndex].swiperSlideSize;\n      let breakLoop;\n\n      for (let i = activeIndex + 1; i < slides.length; i += 1) {\n        if (slides[i] && !breakLoop) {\n          slideSize += slides[i].swiperSlideSize;\n          spv += 1;\n          if (slideSize > swiperSize) breakLoop = true;\n        }\n      }\n\n      for (let i = activeIndex - 1; i >= 0; i -= 1) {\n        if (slides[i] && !breakLoop) {\n          slideSize += slides[i].swiperSlideSize;\n          spv += 1;\n          if (slideSize > swiperSize) breakLoop = true;\n        }\n      }\n    } else {\n      // eslint-disable-next-line\n      if (view === 'current') {\n        for (let i = activeIndex + 1; i < slides.length; i += 1) {\n          const slideInView = exact ? slidesGrid[i] + slidesSizesGrid[i] - slidesGrid[activeIndex] < swiperSize : slidesGrid[i] - slidesGrid[activeIndex] < swiperSize;\n\n          if (slideInView) {\n            spv += 1;\n          }\n        }\n      } else {\n        // previous\n        for (let i = activeIndex - 1; i >= 0; i -= 1) {\n          const slideInView = slidesGrid[activeIndex] - slidesGrid[i] < swiperSize;\n\n          if (slideInView) {\n            spv += 1;\n          }\n        }\n      }\n    }\n\n    return spv;\n  }\n\n  update() {\n    const swiper = this;\n    if (!swiper || swiper.destroyed) return;\n    const {\n      snapGrid,\n      params\n    } = swiper; // Breakpoints\n\n    if (params.breakpoints) {\n      swiper.setBreakpoint();\n    }\n\n    swiper.updateSize();\n    swiper.updateSlides();\n    swiper.updateProgress();\n    swiper.updateSlidesClasses();\n\n    function setTranslate() {\n      const translateValue = swiper.rtlTranslate ? swiper.translate * -1 : swiper.translate;\n      const newTranslate = Math.min(Math.max(translateValue, swiper.maxTranslate()), swiper.minTranslate());\n      swiper.setTranslate(newTranslate);\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    }\n\n    let translated;\n\n    if (swiper.params.freeMode && swiper.params.freeMode.enabled) {\n      setTranslate();\n\n      if (swiper.params.autoHeight) {\n        swiper.updateAutoHeight();\n      }\n    } else {\n      if ((swiper.params.slidesPerView === 'auto' || swiper.params.slidesPerView > 1) && swiper.isEnd && !swiper.params.centeredSlides) {\n        translated = swiper.slideTo(swiper.slides.length - 1, 0, false, true);\n      } else {\n        translated = swiper.slideTo(swiper.activeIndex, 0, false, true);\n      }\n\n      if (!translated) {\n        setTranslate();\n      }\n    }\n\n    if (params.watchOverflow && snapGrid !== swiper.snapGrid) {\n      swiper.checkOverflow();\n    }\n\n    swiper.emit('update');\n  }\n\n  changeDirection(newDirection, needUpdate) {\n    if (needUpdate === void 0) {\n      needUpdate = true;\n    }\n\n    const swiper = this;\n    const currentDirection = swiper.params.direction;\n\n    if (!newDirection) {\n      // eslint-disable-next-line\n      newDirection = currentDirection === 'horizontal' ? 'vertical' : 'horizontal';\n    }\n\n    if (newDirection === currentDirection || newDirection !== 'horizontal' && newDirection !== 'vertical') {\n      return swiper;\n    }\n\n    swiper.$el.removeClass(`${swiper.params.containerModifierClass}${currentDirection}`).addClass(`${swiper.params.containerModifierClass}${newDirection}`);\n    swiper.emitContainerClasses();\n    swiper.params.direction = newDirection;\n    swiper.slides.each(slideEl => {\n      if (newDirection === 'vertical') {\n        slideEl.style.width = '';\n      } else {\n        slideEl.style.height = '';\n      }\n    });\n    swiper.emit('changeDirection');\n    if (needUpdate) swiper.update();\n    return swiper;\n  }\n\n  changeLanguageDirection(direction) {\n    const swiper = this;\n    if (swiper.rtl && direction === 'rtl' || !swiper.rtl && direction === 'ltr') return;\n    swiper.rtl = direction === 'rtl';\n    swiper.rtlTranslate = swiper.params.direction === 'horizontal' && swiper.rtl;\n\n    if (swiper.rtl) {\n      swiper.$el.addClass(`${swiper.params.containerModifierClass}rtl`);\n      swiper.el.dir = 'rtl';\n    } else {\n      swiper.$el.removeClass(`${swiper.params.containerModifierClass}rtl`);\n      swiper.el.dir = 'ltr';\n    }\n\n    swiper.update();\n  }\n\n  mount(el) {\n    const swiper = this;\n    if (swiper.mounted) return true; // Find el\n\n    const $el = $(el || swiper.params.el);\n    el = $el[0];\n\n    if (!el) {\n      return false;\n    }\n\n    el.swiper = swiper;\n\n    const getWrapperSelector = () => {\n      return `.${(swiper.params.wrapperClass || '').trim().split(' ').join('.')}`;\n    };\n\n    const getWrapper = () => {\n      if (el && el.shadowRoot && el.shadowRoot.querySelector) {\n        const res = $(el.shadowRoot.querySelector(getWrapperSelector())); // Children needs to return slot items\n\n        res.children = options => $el.children(options);\n\n        return res;\n      }\n\n      if (!$el.children) {\n        return $($el).children(getWrapperSelector());\n      }\n\n      return $el.children(getWrapperSelector());\n    }; // Find Wrapper\n\n\n    let $wrapperEl = getWrapper();\n\n    if ($wrapperEl.length === 0 && swiper.params.createElements) {\n      const document = getDocument();\n      const wrapper = document.createElement('div');\n      $wrapperEl = $(wrapper);\n      wrapper.className = swiper.params.wrapperClass;\n      $el.append(wrapper);\n      $el.children(`.${swiper.params.slideClass}`).each(slideEl => {\n        $wrapperEl.append(slideEl);\n      });\n    }\n\n    Object.assign(swiper, {\n      $el,\n      el,\n      $wrapperEl,\n      wrapperEl: $wrapperEl[0],\n      mounted: true,\n      // RTL\n      rtl: el.dir.toLowerCase() === 'rtl' || $el.css('direction') === 'rtl',\n      rtlTranslate: swiper.params.direction === 'horizontal' && (el.dir.toLowerCase() === 'rtl' || $el.css('direction') === 'rtl'),\n      wrongRTL: $wrapperEl.css('display') === '-webkit-box'\n    });\n    return true;\n  }\n\n  init(el) {\n    const swiper = this;\n    if (swiper.initialized) return swiper;\n    const mounted = swiper.mount(el);\n    if (mounted === false) return swiper;\n    swiper.emit('beforeInit'); // Set breakpoint\n\n    if (swiper.params.breakpoints) {\n      swiper.setBreakpoint();\n    } // Add Classes\n\n\n    swiper.addClasses(); // Create loop\n\n    if (swiper.params.loop) {\n      swiper.loopCreate();\n    } // Update size\n\n\n    swiper.updateSize(); // Update slides\n\n    swiper.updateSlides();\n\n    if (swiper.params.watchOverflow) {\n      swiper.checkOverflow();\n    } // Set Grab Cursor\n\n\n    if (swiper.params.grabCursor && swiper.enabled) {\n      swiper.setGrabCursor();\n    }\n\n    if (swiper.params.preloadImages) {\n      swiper.preloadImages();\n    } // Slide To Initial Slide\n\n\n    if (swiper.params.loop) {\n      swiper.slideTo(swiper.params.initialSlide + swiper.loopedSlides, 0, swiper.params.runCallbacksOnInit, false, true);\n    } else {\n      swiper.slideTo(swiper.params.initialSlide, 0, swiper.params.runCallbacksOnInit, false, true);\n    } // Attach events\n\n\n    swiper.attachEvents(); // Init Flag\n\n    swiper.initialized = true; // Emit\n\n    swiper.emit('init');\n    swiper.emit('afterInit');\n    return swiper;\n  }\n\n  destroy(deleteInstance, cleanStyles) {\n    if (deleteInstance === void 0) {\n      deleteInstance = true;\n    }\n\n    if (cleanStyles === void 0) {\n      cleanStyles = true;\n    }\n\n    const swiper = this;\n    const {\n      params,\n      $el,\n      $wrapperEl,\n      slides\n    } = swiper;\n\n    if (typeof swiper.params === 'undefined' || swiper.destroyed) {\n      return null;\n    }\n\n    swiper.emit('beforeDestroy'); // Init Flag\n\n    swiper.initialized = false; // Detach events\n\n    swiper.detachEvents(); // Destroy loop\n\n    if (params.loop) {\n      swiper.loopDestroy();\n    } // Cleanup styles\n\n\n    if (cleanStyles) {\n      swiper.removeClasses();\n      $el.removeAttr('style');\n      $wrapperEl.removeAttr('style');\n\n      if (slides && slides.length) {\n        slides.removeClass([params.slideVisibleClass, params.slideActiveClass, params.slideNextClass, params.slidePrevClass].join(' ')).removeAttr('style').removeAttr('data-swiper-slide-index');\n      }\n    }\n\n    swiper.emit('destroy'); // Detach emitter events\n\n    Object.keys(swiper.eventsListeners).forEach(eventName => {\n      swiper.off(eventName);\n    });\n\n    if (deleteInstance !== false) {\n      swiper.$el[0].swiper = null;\n      deleteProps(swiper);\n    }\n\n    swiper.destroyed = true;\n    return null;\n  }\n\n  static extendDefaults(newDefaults) {\n    extend(extendedDefaults, newDefaults);\n  }\n\n  static get extendedDefaults() {\n    return extendedDefaults;\n  }\n\n  static get defaults() {\n    return defaults;\n  }\n\n  static installModule(mod) {\n    if (!Swiper.prototype.__modules__) Swiper.prototype.__modules__ = [];\n    const modules = Swiper.prototype.__modules__;\n\n    if (typeof mod === 'function' && modules.indexOf(mod) < 0) {\n      modules.push(mod);\n    }\n  }\n\n  static use(module) {\n    if (Array.isArray(module)) {\n      module.forEach(m => Swiper.installModule(m));\n      return Swiper;\n    }\n\n    Swiper.installModule(module);\n    return Swiper;\n  }\n\n}\n\nObject.keys(prototypes).forEach(prototypeGroup => {\n  Object.keys(prototypes[prototypeGroup]).forEach(protoMethod => {\n    Swiper.prototype[protoMethod] = prototypes[prototypeGroup][protoMethod];\n  });\n});\nSwiper.use([Resize, Observer]);\nexport default Swiper;","import getTranslate from './getTranslate.js';\nimport setTranslate from './setTranslate.js';\nimport minTranslate from './minTranslate.js';\nimport maxTranslate from './maxTranslate.js';\nimport translateTo from './translateTo.js';\nexport default {\n  getTranslate,\n  setTranslate,\n  minTranslate,\n  maxTranslate,\n  translateTo\n};","import { getTranslate } from '../../shared/utils.js';\nexport default function getSwiperTranslate(axis) {\n  if (axis === void 0) {\n    axis = this.isHorizontal() ? 'x' : 'y';\n  }\n\n  const swiper = this;\n  const {\n    params,\n    rtlTranslate: rtl,\n    translate,\n    $wrapperEl\n  } = swiper;\n\n  if (params.virtualTranslate) {\n    return rtl ? -translate : translate;\n  }\n\n  if (params.cssMode) {\n    return translate;\n  }\n\n  let currentTranslate = getTranslate($wrapperEl[0], axis);\n  if (rtl) currentTranslate = -currentTranslate;\n  return currentTranslate || 0;\n}","export default function setTranslate(translate, byController) {\n  const swiper = this;\n  const {\n    rtlTranslate: rtl,\n    params,\n    $wrapperEl,\n    wrapperEl,\n    progress\n  } = swiper;\n  let x = 0;\n  let y = 0;\n  const z = 0;\n\n  if (swiper.isHorizontal()) {\n    x = rtl ? -translate : translate;\n  } else {\n    y = translate;\n  }\n\n  if (params.roundLengths) {\n    x = Math.floor(x);\n    y = Math.floor(y);\n  }\n\n  if (params.cssMode) {\n    wrapperEl[swiper.isHorizontal() ? 'scrollLeft' : 'scrollTop'] = swiper.isHorizontal() ? -x : -y;\n  } else if (!params.virtualTranslate) {\n    $wrapperEl.transform(`translate3d(${x}px, ${y}px, ${z}px)`);\n  }\n\n  swiper.previousTranslate = swiper.translate;\n  swiper.translate = swiper.isHorizontal() ? x : y; // Check if we need to update progress\n\n  let newProgress;\n  const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n\n  if (translatesDiff === 0) {\n    newProgress = 0;\n  } else {\n    newProgress = (translate - swiper.minTranslate()) / translatesDiff;\n  }\n\n  if (newProgress !== progress) {\n    swiper.updateProgress(translate);\n  }\n\n  swiper.emit('setTranslate', swiper.translate, byController);\n}","export default function minTranslate() {\n  return -this.snapGrid[0];\n}","export default function maxTranslate() {\n  return -this.snapGrid[this.snapGrid.length - 1];\n}","import { animateCSSModeScroll } from '../../shared/utils.js';\nexport default function translateTo(translate, speed, runCallbacks, translateBounds, internal) {\n  if (translate === void 0) {\n    translate = 0;\n  }\n\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  if (translateBounds === void 0) {\n    translateBounds = true;\n  }\n\n  const swiper = this;\n  const {\n    params,\n    wrapperEl\n  } = swiper;\n\n  if (swiper.animating && params.preventInteractionOnTransition) {\n    return false;\n  }\n\n  const minTranslate = swiper.minTranslate();\n  const maxTranslate = swiper.maxTranslate();\n  let newTranslate;\n  if (translateBounds && translate > minTranslate) newTranslate = minTranslate;else if (translateBounds && translate < maxTranslate) newTranslate = maxTranslate;else newTranslate = translate; // Update progress\n\n  swiper.updateProgress(newTranslate);\n\n  if (params.cssMode) {\n    const isH = swiper.isHorizontal();\n\n    if (speed === 0) {\n      wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = -newTranslate;\n    } else {\n      if (!swiper.support.smoothScroll) {\n        animateCSSModeScroll({\n          swiper,\n          targetPosition: -newTranslate,\n          side: isH ? 'left' : 'top'\n        });\n        return true;\n      }\n\n      wrapperEl.scrollTo({\n        [isH ? 'left' : 'top']: -newTranslate,\n        behavior: 'smooth'\n      });\n    }\n\n    return true;\n  }\n\n  if (speed === 0) {\n    swiper.setTransition(0);\n    swiper.setTranslate(newTranslate);\n\n    if (runCallbacks) {\n      swiper.emit('beforeTransitionStart', speed, internal);\n      swiper.emit('transitionEnd');\n    }\n  } else {\n    swiper.setTransition(speed);\n    swiper.setTranslate(newTranslate);\n\n    if (runCallbacks) {\n      swiper.emit('beforeTransitionStart', speed, internal);\n      swiper.emit('transitionStart');\n    }\n\n    if (!swiper.animating) {\n      swiper.animating = true;\n\n      if (!swiper.onTranslateToWrapperTransitionEnd) {\n        swiper.onTranslateToWrapperTransitionEnd = function transitionEnd(e) {\n          if (!swiper || swiper.destroyed) return;\n          if (e.target !== this) return;\n          swiper.$wrapperEl[0].removeEventListener('transitionend', swiper.onTranslateToWrapperTransitionEnd);\n          swiper.$wrapperEl[0].removeEventListener('webkitTransitionEnd', swiper.onTranslateToWrapperTransitionEnd);\n          swiper.onTranslateToWrapperTransitionEnd = null;\n          delete swiper.onTranslateToWrapperTransitionEnd;\n\n          if (runCallbacks) {\n            swiper.emit('transitionEnd');\n          }\n        };\n      }\n\n      swiper.$wrapperEl[0].addEventListener('transitionend', swiper.onTranslateToWrapperTransitionEnd);\n      swiper.$wrapperEl[0].addEventListener('webkitTransitionEnd', swiper.onTranslateToWrapperTransitionEnd);\n    }\n  }\n\n  return true;\n}","import setTransition from './setTransition.js';\nimport transitionStart from './transitionStart.js';\nimport transitionEnd from './transitionEnd.js';\nexport default {\n  setTransition,\n  transitionStart,\n  transitionEnd\n};","export default function setTransition(duration, byController) {\n  const swiper = this;\n\n  if (!swiper.params.cssMode) {\n    swiper.$wrapperEl.transition(duration);\n  }\n\n  swiper.emit('setTransition', duration, byController);\n}","import transitionEmit from './transitionEmit.js';\nexport default function transitionStart(runCallbacks, direction) {\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  const swiper = this;\n  const {\n    params\n  } = swiper;\n  if (params.cssMode) return;\n\n  if (params.autoHeight) {\n    swiper.updateAutoHeight();\n  }\n\n  transitionEmit({\n    swiper,\n    runCallbacks,\n    direction,\n    step: 'Start'\n  });\n}","import transitionEmit from './transitionEmit.js';\nexport default function transitionEnd(runCallbacks, direction) {\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  const swiper = this;\n  const {\n    params\n  } = swiper;\n  swiper.animating = false;\n  if (params.cssMode) return;\n  swiper.setTransition(0);\n  transitionEmit({\n    swiper,\n    runCallbacks,\n    direction,\n    step: 'End'\n  });\n}","import setGrabCursor from './setGrabCursor.js';\nimport unsetGrabCursor from './unsetGrabCursor.js';\nexport default {\n  setGrabCursor,\n  unsetGrabCursor\n};","export default function setGrabCursor(moving) {\n  const swiper = this;\n  if (swiper.support.touch || !swiper.params.simulateTouch || swiper.params.watchOverflow && swiper.isLocked || swiper.params.cssMode) return;\n  const el = swiper.params.touchEventsTarget === 'container' ? swiper.el : swiper.wrapperEl;\n  el.style.cursor = 'move';\n  el.style.cursor = moving ? 'grabbing' : 'grab';\n}","export default function unsetGrabCursor() {\n  const swiper = this;\n\n  if (swiper.support.touch || swiper.params.watchOverflow && swiper.isLocked || swiper.params.cssMode) {\n    return;\n  }\n\n  swiper[swiper.params.touchEventsTarget === 'container' ? 'el' : 'wrapperEl'].style.cursor = '';\n}","import setBreakpoint from './setBreakpoint.js';\nimport getBreakpoint from './getBreakpoint.js';\nexport default {\n  setBreakpoint,\n  getBreakpoint\n};","import { getWindow } from 'ssr-window';\nexport default function getBreakpoint(breakpoints, base, containerEl) {\n  if (base === void 0) {\n    base = 'window';\n  }\n\n  if (!breakpoints || base === 'container' && !containerEl) return undefined;\n  let breakpoint = false;\n  const window = getWindow();\n  const currentHeight = base === 'window' ? window.innerHeight : containerEl.clientHeight;\n  const points = Object.keys(breakpoints).map(point => {\n    if (typeof point === 'string' && point.indexOf('@') === 0) {\n      const minRatio = parseFloat(point.substr(1));\n      const value = currentHeight * minRatio;\n      return {\n        value,\n        point\n      };\n    }\n\n    return {\n      value: point,\n      point\n    };\n  });\n  points.sort((a, b) => parseInt(a.value, 10) - parseInt(b.value, 10));\n\n  for (let i = 0; i < points.length; i += 1) {\n    const {\n      point,\n      value\n    } = points[i];\n\n    if (base === 'window') {\n      if (window.matchMedia(`(min-width: ${value}px)`).matches) {\n        breakpoint = point;\n      }\n    } else if (value <= containerEl.clientWidth) {\n      breakpoint = point;\n    }\n  }\n\n  return breakpoint || 'max';\n}","function checkOverflow() {\n  const swiper = this;\n  const {\n    isLocked: wasLocked,\n    params\n  } = swiper;\n  const {\n    slidesOffsetBefore\n  } = params;\n\n  if (slidesOffsetBefore) {\n    const lastSlideIndex = swiper.slides.length - 1;\n    const lastSlideRightEdge = swiper.slidesGrid[lastSlideIndex] + swiper.slidesSizesGrid[lastSlideIndex] + slidesOffsetBefore * 2;\n    swiper.isLocked = swiper.size > lastSlideRightEdge;\n  } else {\n    swiper.isLocked = swiper.snapGrid.length === 1;\n  }\n\n  if (params.allowSlideNext === true) {\n    swiper.allowSlideNext = !swiper.isLocked;\n  }\n\n  if (params.allowSlidePrev === true) {\n    swiper.allowSlidePrev = !swiper.isLocked;\n  }\n\n  if (wasLocked && wasLocked !== swiper.isLocked) {\n    swiper.isEnd = false;\n  }\n\n  if (wasLocked !== swiper.isLocked) {\n    swiper.emit(swiper.isLocked ? 'lock' : 'unlock');\n  }\n}\n\nexport default {\n  checkOverflow\n};","import loadImage from './loadImage.js';\nimport preloadImages from './preloadImages.js';\nexport default {\n  loadImage,\n  preloadImages\n};","import { getWindow } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nexport default function loadImage(imageEl, src, srcset, sizes, checkForComplete, callback) {\n  const window = getWindow();\n  let image;\n\n  function onReady() {\n    if (callback) callback();\n  }\n\n  const isPicture = $(imageEl).parent('picture')[0];\n\n  if (!isPicture && (!imageEl.complete || !checkForComplete)) {\n    if (src) {\n      image = new window.Image();\n      image.onload = onReady;\n      image.onerror = onReady;\n\n      if (sizes) {\n        image.sizes = sizes;\n      }\n\n      if (srcset) {\n        image.srcset = srcset;\n      }\n\n      if (src) {\n        image.src = src;\n      }\n    } else {\n      onReady();\n    }\n  } else {\n    // image already loaded...\n    onReady();\n  }\n}","export default function preloadImages() {\n  const swiper = this;\n  swiper.imagesToLoad = swiper.$el.find('img');\n\n  function onReady() {\n    if (typeof swiper === 'undefined' || swiper === null || !swiper || swiper.destroyed) return;\n    if (swiper.imagesLoaded !== undefined) swiper.imagesLoaded += 1;\n\n    if (swiper.imagesLoaded === swiper.imagesToLoad.length) {\n      if (swiper.params.updateOnImagesReady) swiper.update();\n      swiper.emit('imagesReady');\n    }\n  }\n\n  for (let i = 0; i < swiper.imagesToLoad.length; i += 1) {\n    const imageEl = swiper.imagesToLoad[i];\n    swiper.loadImage(imageEl, imageEl.currentSrc || imageEl.getAttribute('src'), imageEl.srcset || imageEl.getAttribute('srcset'), imageEl.sizes || imageEl.getAttribute('sizes'), true, onReady);\n  }\n}","import { getWindow } from 'ssr-window';\nexport default function Resize(_ref) {\n  let {\n    swiper,\n    on,\n    emit\n  } = _ref;\n  const window = getWindow();\n  let observer = null;\n  let animationFrame = null;\n\n  const resizeHandler = () => {\n    if (!swiper || swiper.destroyed || !swiper.initialized) return;\n    emit('beforeResize');\n    emit('resize');\n  };\n\n  const createObserver = () => {\n    if (!swiper || swiper.destroyed || !swiper.initialized) return;\n    observer = new ResizeObserver(entries => {\n      animationFrame = window.requestAnimationFrame(() => {\n        const {\n          width,\n          height\n        } = swiper;\n        let newWidth = width;\n        let newHeight = height;\n        entries.forEach(_ref2 => {\n          let {\n            contentBoxSize,\n            contentRect,\n            target\n          } = _ref2;\n          if (target && target !== swiper.el) return;\n          newWidth = contentRect ? contentRect.width : (contentBoxSize[0] || contentBoxSize).inlineSize;\n          newHeight = contentRect ? contentRect.height : (contentBoxSize[0] || contentBoxSize).blockSize;\n        });\n\n        if (newWidth !== width || newHeight !== height) {\n          resizeHandler();\n        }\n      });\n    });\n    observer.observe(swiper.el);\n  };\n\n  const removeObserver = () => {\n    if (animationFrame) {\n      window.cancelAnimationFrame(animationFrame);\n    }\n\n    if (observer && observer.unobserve && swiper.el) {\n      observer.unobserve(swiper.el);\n      observer = null;\n    }\n  };\n\n  const orientationChangeHandler = () => {\n    if (!swiper || swiper.destroyed || !swiper.initialized) return;\n    emit('orientationchange');\n  };\n\n  on('init', () => {\n    if (swiper.params.resizeObserver && typeof window.ResizeObserver !== 'undefined') {\n      createObserver();\n      return;\n    }\n\n    window.addEventListener('resize', resizeHandler);\n    window.addEventListener('orientationchange', orientationChangeHandler);\n  });\n  on('destroy', () => {\n    removeObserver();\n    window.removeEventListener('resize', resizeHandler);\n    window.removeEventListener('orientationchange', orientationChangeHandler);\n  });\n}","import { getWindow } from 'ssr-window';\nexport default function Observer(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on,\n    emit\n  } = _ref;\n  const observers = [];\n  const window = getWindow();\n\n  const attach = function (target, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    const ObserverFunc = window.MutationObserver || window.WebkitMutationObserver;\n    const observer = new ObserverFunc(mutations => {\n      // The observerUpdate event should only be triggered\n      // once despite the number of mutations.  Additional\n      // triggers are redundant and are very costly\n      if (mutations.length === 1) {\n        emit('observerUpdate', mutations[0]);\n        return;\n      }\n\n      const observerUpdate = function observerUpdate() {\n        emit('observerUpdate', mutations[0]);\n      };\n\n      if (window.requestAnimationFrame) {\n        window.requestAnimationFrame(observerUpdate);\n      } else {\n        window.setTimeout(observerUpdate, 0);\n      }\n    });\n    observer.observe(target, {\n      attributes: typeof options.attributes === 'undefined' ? true : options.attributes,\n      childList: typeof options.childList === 'undefined' ? true : options.childList,\n      characterData: typeof options.characterData === 'undefined' ? true : options.characterData\n    });\n    observers.push(observer);\n  };\n\n  const init = () => {\n    if (!swiper.params.observer) return;\n\n    if (swiper.params.observeParents) {\n      const containerParents = swiper.$el.parents();\n\n      for (let i = 0; i < containerParents.length; i += 1) {\n        attach(containerParents[i]);\n      }\n    } // Observe container\n\n\n    attach(swiper.$el[0], {\n      childList: swiper.params.observeSlideChildren\n    }); // Observe wrapper\n\n    attach(swiper.$wrapperEl[0], {\n      attributes: false\n    });\n  };\n\n  const destroy = () => {\n    observers.forEach(observer => {\n      observer.disconnect();\n    });\n    observers.splice(0, observers.length);\n  };\n\n  extendParams({\n    observer: false,\n    observeParents: false,\n    observeSlideChildren: false\n  });\n  on('init', init);\n  on('destroy', destroy);\n}","import $ from '../../shared/dom.js';\nimport { setCSSProperty } from '../../shared/utils.js';\nexport default function Virtual(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on,\n    emit\n  } = _ref;\n  extendParams({\n    virtual: {\n      enabled: false,\n      slides: [],\n      cache: true,\n      renderSlide: null,\n      renderExternal: null,\n      renderExternalUpdate: true,\n      addSlidesBefore: 0,\n      addSlidesAfter: 0\n    }\n  });\n  let cssModeTimeout;\n  swiper.virtual = {\n    cache: {},\n    from: undefined,\n    to: undefined,\n    slides: [],\n    offset: 0,\n    slidesGrid: []\n  };\n\n  function renderSlide(slide, index) {\n    const params = swiper.params.virtual;\n\n    if (params.cache && swiper.virtual.cache[index]) {\n      return swiper.virtual.cache[index];\n    }\n\n    const $slideEl = params.renderSlide ? $(params.renderSlide.call(swiper, slide, index)) : $(`<div class=\"${swiper.params.slideClass}\" data-swiper-slide-index=\"${index}\">${slide}</div>`);\n    if (!$slideEl.attr('data-swiper-slide-index')) $slideEl.attr('data-swiper-slide-index', index);\n    if (params.cache) swiper.virtual.cache[index] = $slideEl;\n    return $slideEl;\n  }\n\n  function update(force) {\n    const {\n      slidesPerView,\n      slidesPerGroup,\n      centeredSlides\n    } = swiper.params;\n    const {\n      addSlidesBefore,\n      addSlidesAfter\n    } = swiper.params.virtual;\n    const {\n      from: previousFrom,\n      to: previousTo,\n      slides,\n      slidesGrid: previousSlidesGrid,\n      offset: previousOffset\n    } = swiper.virtual;\n\n    if (!swiper.params.cssMode) {\n      swiper.updateActiveIndex();\n    }\n\n    const activeIndex = swiper.activeIndex || 0;\n    let offsetProp;\n    if (swiper.rtlTranslate) offsetProp = 'right';else offsetProp = swiper.isHorizontal() ? 'left' : 'top';\n    let slidesAfter;\n    let slidesBefore;\n\n    if (centeredSlides) {\n      slidesAfter = Math.floor(slidesPerView / 2) + slidesPerGroup + addSlidesAfter;\n      slidesBefore = Math.floor(slidesPerView / 2) + slidesPerGroup + addSlidesBefore;\n    } else {\n      slidesAfter = slidesPerView + (slidesPerGroup - 1) + addSlidesAfter;\n      slidesBefore = slidesPerGroup + addSlidesBefore;\n    }\n\n    const from = Math.max((activeIndex || 0) - slidesBefore, 0);\n    const to = Math.min((activeIndex || 0) + slidesAfter, slides.length - 1);\n    const offset = (swiper.slidesGrid[from] || 0) - (swiper.slidesGrid[0] || 0);\n    Object.assign(swiper.virtual, {\n      from,\n      to,\n      offset,\n      slidesGrid: swiper.slidesGrid\n    });\n\n    function onRendered() {\n      swiper.updateSlides();\n      swiper.updateProgress();\n      swiper.updateSlidesClasses();\n\n      if (swiper.lazy && swiper.params.lazy.enabled) {\n        swiper.lazy.load();\n      }\n\n      emit('virtualUpdate');\n    }\n\n    if (previousFrom === from && previousTo === to && !force) {\n      if (swiper.slidesGrid !== previousSlidesGrid && offset !== previousOffset) {\n        swiper.slides.css(offsetProp, `${offset}px`);\n      }\n\n      swiper.updateProgress();\n      emit('virtualUpdate');\n      return;\n    }\n\n    if (swiper.params.virtual.renderExternal) {\n      swiper.params.virtual.renderExternal.call(swiper, {\n        offset,\n        from,\n        to,\n        slides: function getSlides() {\n          const slidesToRender = [];\n\n          for (let i = from; i <= to; i += 1) {\n            slidesToRender.push(slides[i]);\n          }\n\n          return slidesToRender;\n        }()\n      });\n\n      if (swiper.params.virtual.renderExternalUpdate) {\n        onRendered();\n      } else {\n        emit('virtualUpdate');\n      }\n\n      return;\n    }\n\n    const prependIndexes = [];\n    const appendIndexes = [];\n\n    if (force) {\n      swiper.$wrapperEl.find(`.${swiper.params.slideClass}`).remove();\n    } else {\n      for (let i = previousFrom; i <= previousTo; i += 1) {\n        if (i < from || i > to) {\n          swiper.$wrapperEl.find(`.${swiper.params.slideClass}[data-swiper-slide-index=\"${i}\"]`).remove();\n        }\n      }\n    }\n\n    for (let i = 0; i < slides.length; i += 1) {\n      if (i >= from && i <= to) {\n        if (typeof previousTo === 'undefined' || force) {\n          appendIndexes.push(i);\n        } else {\n          if (i > previousTo) appendIndexes.push(i);\n          if (i < previousFrom) prependIndexes.push(i);\n        }\n      }\n    }\n\n    appendIndexes.forEach(index => {\n      swiper.$wrapperEl.append(renderSlide(slides[index], index));\n    });\n    prependIndexes.sort((a, b) => b - a).forEach(index => {\n      swiper.$wrapperEl.prepend(renderSlide(slides[index], index));\n    });\n    swiper.$wrapperEl.children('.swiper-slide').css(offsetProp, `${offset}px`);\n    onRendered();\n  }\n\n  function appendSlide(slides) {\n    if (typeof slides === 'object' && 'length' in slides) {\n      for (let i = 0; i < slides.length; i += 1) {\n        if (slides[i]) swiper.virtual.slides.push(slides[i]);\n      }\n    } else {\n      swiper.virtual.slides.push(slides);\n    }\n\n    update(true);\n  }\n\n  function prependSlide(slides) {\n    const activeIndex = swiper.activeIndex;\n    let newActiveIndex = activeIndex + 1;\n    let numberOfNewSlides = 1;\n\n    if (Array.isArray(slides)) {\n      for (let i = 0; i < slides.length; i += 1) {\n        if (slides[i]) swiper.virtual.slides.unshift(slides[i]);\n      }\n\n      newActiveIndex = activeIndex + slides.length;\n      numberOfNewSlides = slides.length;\n    } else {\n      swiper.virtual.slides.unshift(slides);\n    }\n\n    if (swiper.params.virtual.cache) {\n      const cache = swiper.virtual.cache;\n      const newCache = {};\n      Object.keys(cache).forEach(cachedIndex => {\n        const $cachedEl = cache[cachedIndex];\n        const cachedElIndex = $cachedEl.attr('data-swiper-slide-index');\n\n        if (cachedElIndex) {\n          $cachedEl.attr('data-swiper-slide-index', parseInt(cachedElIndex, 10) + numberOfNewSlides);\n        }\n\n        newCache[parseInt(cachedIndex, 10) + numberOfNewSlides] = $cachedEl;\n      });\n      swiper.virtual.cache = newCache;\n    }\n\n    update(true);\n    swiper.slideTo(newActiveIndex, 0);\n  }\n\n  function removeSlide(slidesIndexes) {\n    if (typeof slidesIndexes === 'undefined' || slidesIndexes === null) return;\n    let activeIndex = swiper.activeIndex;\n\n    if (Array.isArray(slidesIndexes)) {\n      for (let i = slidesIndexes.length - 1; i >= 0; i -= 1) {\n        swiper.virtual.slides.splice(slidesIndexes[i], 1);\n\n        if (swiper.params.virtual.cache) {\n          delete swiper.virtual.cache[slidesIndexes[i]];\n        }\n\n        if (slidesIndexes[i] < activeIndex) activeIndex -= 1;\n        activeIndex = Math.max(activeIndex, 0);\n      }\n    } else {\n      swiper.virtual.slides.splice(slidesIndexes, 1);\n\n      if (swiper.params.virtual.cache) {\n        delete swiper.virtual.cache[slidesIndexes];\n      }\n\n      if (slidesIndexes < activeIndex) activeIndex -= 1;\n      activeIndex = Math.max(activeIndex, 0);\n    }\n\n    update(true);\n    swiper.slideTo(activeIndex, 0);\n  }\n\n  function removeAllSlides() {\n    swiper.virtual.slides = [];\n\n    if (swiper.params.virtual.cache) {\n      swiper.virtual.cache = {};\n    }\n\n    update(true);\n    swiper.slideTo(0, 0);\n  }\n\n  on('beforeInit', () => {\n    if (!swiper.params.virtual.enabled) return;\n    swiper.virtual.slides = swiper.params.virtual.slides;\n    swiper.classNames.push(`${swiper.params.containerModifierClass}virtual`);\n    swiper.params.watchSlidesProgress = true;\n    swiper.originalParams.watchSlidesProgress = true;\n\n    if (!swiper.params.initialSlide) {\n      update();\n    }\n  });\n  on('setTranslate', () => {\n    if (!swiper.params.virtual.enabled) return;\n\n    if (swiper.params.cssMode && !swiper._immediateVirtual) {\n      clearTimeout(cssModeTimeout);\n      cssModeTimeout = setTimeout(() => {\n        update();\n      }, 100);\n    } else {\n      update();\n    }\n  });\n  on('init update resize', () => {\n    if (!swiper.params.virtual.enabled) return;\n\n    if (swiper.params.cssMode) {\n      setCSSProperty(swiper.wrapperEl, '--swiper-virtual-size', `${swiper.virtualSize}px`);\n    }\n  });\n  Object.assign(swiper.virtual, {\n    appendSlide,\n    prependSlide,\n    removeSlide,\n    removeAllSlides,\n    update\n  });\n}","/* eslint-disable consistent-return */\nimport { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nexport default function Keyboard(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on,\n    emit\n  } = _ref;\n  const document = getDocument();\n  const window = getWindow();\n  swiper.keyboard = {\n    enabled: false\n  };\n  extendParams({\n    keyboard: {\n      enabled: false,\n      onlyInViewport: true,\n      pageUpDown: true\n    }\n  });\n\n  function handle(event) {\n    if (!swiper.enabled) return;\n    const {\n      rtlTranslate: rtl\n    } = swiper;\n    let e = event;\n    if (e.originalEvent) e = e.originalEvent; // jquery fix\n\n    const kc = e.keyCode || e.charCode;\n    const pageUpDown = swiper.params.keyboard.pageUpDown;\n    const isPageUp = pageUpDown && kc === 33;\n    const isPageDown = pageUpDown && kc === 34;\n    const isArrowLeft = kc === 37;\n    const isArrowRight = kc === 39;\n    const isArrowUp = kc === 38;\n    const isArrowDown = kc === 40; // Directions locks\n\n    if (!swiper.allowSlideNext && (swiper.isHorizontal() && isArrowRight || swiper.isVertical() && isArrowDown || isPageDown)) {\n      return false;\n    }\n\n    if (!swiper.allowSlidePrev && (swiper.isHorizontal() && isArrowLeft || swiper.isVertical() && isArrowUp || isPageUp)) {\n      return false;\n    }\n\n    if (e.shiftKey || e.altKey || e.ctrlKey || e.metaKey) {\n      return undefined;\n    }\n\n    if (document.activeElement && document.activeElement.nodeName && (document.activeElement.nodeName.toLowerCase() === 'input' || document.activeElement.nodeName.toLowerCase() === 'textarea')) {\n      return undefined;\n    }\n\n    if (swiper.params.keyboard.onlyInViewport && (isPageUp || isPageDown || isArrowLeft || isArrowRight || isArrowUp || isArrowDown)) {\n      let inView = false; // Check that swiper should be inside of visible area of window\n\n      if (swiper.$el.parents(`.${swiper.params.slideClass}`).length > 0 && swiper.$el.parents(`.${swiper.params.slideActiveClass}`).length === 0) {\n        return undefined;\n      }\n\n      const $el = swiper.$el;\n      const swiperWidth = $el[0].clientWidth;\n      const swiperHeight = $el[0].clientHeight;\n      const windowWidth = window.innerWidth;\n      const windowHeight = window.innerHeight;\n      const swiperOffset = swiper.$el.offset();\n      if (rtl) swiperOffset.left -= swiper.$el[0].scrollLeft;\n      const swiperCoord = [[swiperOffset.left, swiperOffset.top], [swiperOffset.left + swiperWidth, swiperOffset.top], [swiperOffset.left, swiperOffset.top + swiperHeight], [swiperOffset.left + swiperWidth, swiperOffset.top + swiperHeight]];\n\n      for (let i = 0; i < swiperCoord.length; i += 1) {\n        const point = swiperCoord[i];\n\n        if (point[0] >= 0 && point[0] <= windowWidth && point[1] >= 0 && point[1] <= windowHeight) {\n          if (point[0] === 0 && point[1] === 0) continue; // eslint-disable-line\n\n          inView = true;\n        }\n      }\n\n      if (!inView) return undefined;\n    }\n\n    if (swiper.isHorizontal()) {\n      if (isPageUp || isPageDown || isArrowLeft || isArrowRight) {\n        if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n      }\n\n      if ((isPageDown || isArrowRight) && !rtl || (isPageUp || isArrowLeft) && rtl) swiper.slideNext();\n      if ((isPageUp || isArrowLeft) && !rtl || (isPageDown || isArrowRight) && rtl) swiper.slidePrev();\n    } else {\n      if (isPageUp || isPageDown || isArrowUp || isArrowDown) {\n        if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n      }\n\n      if (isPageDown || isArrowDown) swiper.slideNext();\n      if (isPageUp || isArrowUp) swiper.slidePrev();\n    }\n\n    emit('keyPress', kc);\n    return undefined;\n  }\n\n  function enable() {\n    if (swiper.keyboard.enabled) return;\n    $(document).on('keydown', handle);\n    swiper.keyboard.enabled = true;\n  }\n\n  function disable() {\n    if (!swiper.keyboard.enabled) return;\n    $(document).off('keydown', handle);\n    swiper.keyboard.enabled = false;\n  }\n\n  on('init', () => {\n    if (swiper.params.keyboard.enabled) {\n      enable();\n    }\n  });\n  on('destroy', () => {\n    if (swiper.keyboard.enabled) {\n      disable();\n    }\n  });\n  Object.assign(swiper.keyboard, {\n    enable,\n    disable\n  });\n}","/* eslint-disable consistent-return */\nimport { getWindow } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nimport { now, nextTick } from '../../shared/utils.js';\nexport default function Mousewheel(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on,\n    emit\n  } = _ref;\n  const window = getWindow();\n  extendParams({\n    mousewheel: {\n      enabled: false,\n      releaseOnEdges: false,\n      invert: false,\n      forceToAxis: false,\n      sensitivity: 1,\n      eventsTarget: 'container',\n      thresholdDelta: null,\n      thresholdTime: null\n    }\n  });\n  swiper.mousewheel = {\n    enabled: false\n  };\n  let timeout;\n  let lastScrollTime = now();\n  let lastEventBeforeSnap;\n  const recentWheelEvents = [];\n\n  function normalize(e) {\n    // Reasonable defaults\n    const PIXEL_STEP = 10;\n    const LINE_HEIGHT = 40;\n    const PAGE_HEIGHT = 800;\n    let sX = 0;\n    let sY = 0; // spinX, spinY\n\n    let pX = 0;\n    let pY = 0; // pixelX, pixelY\n    // Legacy\n\n    if ('detail' in e) {\n      sY = e.detail;\n    }\n\n    if ('wheelDelta' in e) {\n      sY = -e.wheelDelta / 120;\n    }\n\n    if ('wheelDeltaY' in e) {\n      sY = -e.wheelDeltaY / 120;\n    }\n\n    if ('wheelDeltaX' in e) {\n      sX = -e.wheelDeltaX / 120;\n    } // side scrolling on FF with DOMMouseScroll\n\n\n    if ('axis' in e && e.axis === e.HORIZONTAL_AXIS) {\n      sX = sY;\n      sY = 0;\n    }\n\n    pX = sX * PIXEL_STEP;\n    pY = sY * PIXEL_STEP;\n\n    if ('deltaY' in e) {\n      pY = e.deltaY;\n    }\n\n    if ('deltaX' in e) {\n      pX = e.deltaX;\n    }\n\n    if (e.shiftKey && !pX) {\n      // if user scrolls with shift he wants horizontal scroll\n      pX = pY;\n      pY = 0;\n    }\n\n    if ((pX || pY) && e.deltaMode) {\n      if (e.deltaMode === 1) {\n        // delta in LINE units\n        pX *= LINE_HEIGHT;\n        pY *= LINE_HEIGHT;\n      } else {\n        // delta in PAGE units\n        pX *= PAGE_HEIGHT;\n        pY *= PAGE_HEIGHT;\n      }\n    } // Fall-back if spin cannot be determined\n\n\n    if (pX && !sX) {\n      sX = pX < 1 ? -1 : 1;\n    }\n\n    if (pY && !sY) {\n      sY = pY < 1 ? -1 : 1;\n    }\n\n    return {\n      spinX: sX,\n      spinY: sY,\n      pixelX: pX,\n      pixelY: pY\n    };\n  }\n\n  function handleMouseEnter() {\n    if (!swiper.enabled) return;\n    swiper.mouseEntered = true;\n  }\n\n  function handleMouseLeave() {\n    if (!swiper.enabled) return;\n    swiper.mouseEntered = false;\n  }\n\n  function animateSlider(newEvent) {\n    if (swiper.params.mousewheel.thresholdDelta && newEvent.delta < swiper.params.mousewheel.thresholdDelta) {\n      // Prevent if delta of wheel scroll delta is below configured threshold\n      return false;\n    }\n\n    if (swiper.params.mousewheel.thresholdTime && now() - lastScrollTime < swiper.params.mousewheel.thresholdTime) {\n      // Prevent if time between scrolls is below configured threshold\n      return false;\n    } // If the movement is NOT big enough and\n    // if the last time the user scrolled was too close to the current one (avoid continuously triggering the slider):\n    //   Don't go any further (avoid insignificant scroll movement).\n\n\n    if (newEvent.delta >= 6 && now() - lastScrollTime < 60) {\n      // Return false as a default\n      return true;\n    } // If user is scrolling towards the end:\n    //   If the slider hasn't hit the latest slide or\n    //   if the slider is a loop and\n    //   if the slider isn't moving right now:\n    //     Go to next slide and\n    //     emit a scroll event.\n    // Else (the user is scrolling towards the beginning) and\n    // if the slider hasn't hit the first slide or\n    // if the slider is a loop and\n    // if the slider isn't moving right now:\n    //   Go to prev slide and\n    //   emit a scroll event.\n\n\n    if (newEvent.direction < 0) {\n      if ((!swiper.isEnd || swiper.params.loop) && !swiper.animating) {\n        swiper.slideNext();\n        emit('scroll', newEvent.raw);\n      }\n    } else if ((!swiper.isBeginning || swiper.params.loop) && !swiper.animating) {\n      swiper.slidePrev();\n      emit('scroll', newEvent.raw);\n    } // If you got here is because an animation has been triggered so store the current time\n\n\n    lastScrollTime = new window.Date().getTime(); // Return false as a default\n\n    return false;\n  }\n\n  function releaseScroll(newEvent) {\n    const params = swiper.params.mousewheel;\n\n    if (newEvent.direction < 0) {\n      if (swiper.isEnd && !swiper.params.loop && params.releaseOnEdges) {\n        // Return true to animate scroll on edges\n        return true;\n      }\n    } else if (swiper.isBeginning && !swiper.params.loop && params.releaseOnEdges) {\n      // Return true to animate scroll on edges\n      return true;\n    }\n\n    return false;\n  }\n\n  function handle(event) {\n    let e = event;\n    let disableParentSwiper = true;\n    if (!swiper.enabled) return;\n    const params = swiper.params.mousewheel;\n\n    if (swiper.params.cssMode) {\n      e.preventDefault();\n    }\n\n    let target = swiper.$el;\n\n    if (swiper.params.mousewheel.eventsTarget !== 'container') {\n      target = $(swiper.params.mousewheel.eventsTarget);\n    }\n\n    if (!swiper.mouseEntered && !target[0].contains(e.target) && !params.releaseOnEdges) return true;\n    if (e.originalEvent) e = e.originalEvent; // jquery fix\n\n    let delta = 0;\n    const rtlFactor = swiper.rtlTranslate ? -1 : 1;\n    const data = normalize(e);\n\n    if (params.forceToAxis) {\n      if (swiper.isHorizontal()) {\n        if (Math.abs(data.pixelX) > Math.abs(data.pixelY)) delta = -data.pixelX * rtlFactor;else return true;\n      } else if (Math.abs(data.pixelY) > Math.abs(data.pixelX)) delta = -data.pixelY;else return true;\n    } else {\n      delta = Math.abs(data.pixelX) > Math.abs(data.pixelY) ? -data.pixelX * rtlFactor : -data.pixelY;\n    }\n\n    if (delta === 0) return true;\n    if (params.invert) delta = -delta; // Get the scroll positions\n\n    let positions = swiper.getTranslate() + delta * params.sensitivity;\n    if (positions >= swiper.minTranslate()) positions = swiper.minTranslate();\n    if (positions <= swiper.maxTranslate()) positions = swiper.maxTranslate(); // When loop is true:\n    //     the disableParentSwiper will be true.\n    // When loop is false:\n    //     if the scroll positions is not on edge,\n    //     then the disableParentSwiper will be true.\n    //     if the scroll on edge positions,\n    //     then the disableParentSwiper will be false.\n\n    disableParentSwiper = swiper.params.loop ? true : !(positions === swiper.minTranslate() || positions === swiper.maxTranslate());\n    if (disableParentSwiper && swiper.params.nested) e.stopPropagation();\n\n    if (!swiper.params.freeMode || !swiper.params.freeMode.enabled) {\n      // Register the new event in a variable which stores the relevant data\n      const newEvent = {\n        time: now(),\n        delta: Math.abs(delta),\n        direction: Math.sign(delta),\n        raw: event\n      }; // Keep the most recent events\n\n      if (recentWheelEvents.length >= 2) {\n        recentWheelEvents.shift(); // only store the last N events\n      }\n\n      const prevEvent = recentWheelEvents.length ? recentWheelEvents[recentWheelEvents.length - 1] : undefined;\n      recentWheelEvents.push(newEvent); // If there is at least one previous recorded event:\n      //   If direction has changed or\n      //   if the scroll is quicker than the previous one:\n      //     Animate the slider.\n      // Else (this is the first time the wheel is moved):\n      //     Animate the slider.\n\n      if (prevEvent) {\n        if (newEvent.direction !== prevEvent.direction || newEvent.delta > prevEvent.delta || newEvent.time > prevEvent.time + 150) {\n          animateSlider(newEvent);\n        }\n      } else {\n        animateSlider(newEvent);\n      } // If it's time to release the scroll:\n      //   Return now so you don't hit the preventDefault.\n\n\n      if (releaseScroll(newEvent)) {\n        return true;\n      }\n    } else {\n      // Freemode or scrollContainer:\n      // If we recently snapped after a momentum scroll, then ignore wheel events\n      // to give time for the deceleration to finish. Stop ignoring after 500 msecs\n      // or if it's a new scroll (larger delta or inverse sign as last event before\n      // an end-of-momentum snap).\n      const newEvent = {\n        time: now(),\n        delta: Math.abs(delta),\n        direction: Math.sign(delta)\n      };\n      const ignoreWheelEvents = lastEventBeforeSnap && newEvent.time < lastEventBeforeSnap.time + 500 && newEvent.delta <= lastEventBeforeSnap.delta && newEvent.direction === lastEventBeforeSnap.direction;\n\n      if (!ignoreWheelEvents) {\n        lastEventBeforeSnap = undefined;\n\n        if (swiper.params.loop) {\n          swiper.loopFix();\n        }\n\n        let position = swiper.getTranslate() + delta * params.sensitivity;\n        const wasBeginning = swiper.isBeginning;\n        const wasEnd = swiper.isEnd;\n        if (position >= swiper.minTranslate()) position = swiper.minTranslate();\n        if (position <= swiper.maxTranslate()) position = swiper.maxTranslate();\n        swiper.setTransition(0);\n        swiper.setTranslate(position);\n        swiper.updateProgress();\n        swiper.updateActiveIndex();\n        swiper.updateSlidesClasses();\n\n        if (!wasBeginning && swiper.isBeginning || !wasEnd && swiper.isEnd) {\n          swiper.updateSlidesClasses();\n        }\n\n        if (swiper.params.freeMode.sticky) {\n          // When wheel scrolling starts with sticky (aka snap) enabled, then detect\n          // the end of a momentum scroll by storing recent (N=15?) wheel events.\n          // 1. do all N events have decreasing or same (absolute value) delta?\n          // 2. did all N events arrive in the last M (M=500?) msecs?\n          // 3. does the earliest event have an (absolute value) delta that's\n          //    at least P (P=1?) larger than the most recent event's delta?\n          // 4. does the latest event have a delta that's smaller than Q (Q=6?) pixels?\n          // If 1-4 are \"yes\" then we're near the end of a momentum scroll deceleration.\n          // Snap immediately and ignore remaining wheel events in this scroll.\n          // See comment above for \"remaining wheel events in this scroll\" determination.\n          // If 1-4 aren't satisfied, then wait to snap until 500ms after the last event.\n          clearTimeout(timeout);\n          timeout = undefined;\n\n          if (recentWheelEvents.length >= 15) {\n            recentWheelEvents.shift(); // only store the last N events\n          }\n\n          const prevEvent = recentWheelEvents.length ? recentWheelEvents[recentWheelEvents.length - 1] : undefined;\n          const firstEvent = recentWheelEvents[0];\n          recentWheelEvents.push(newEvent);\n\n          if (prevEvent && (newEvent.delta > prevEvent.delta || newEvent.direction !== prevEvent.direction)) {\n            // Increasing or reverse-sign delta means the user started scrolling again. Clear the wheel event log.\n            recentWheelEvents.splice(0);\n          } else if (recentWheelEvents.length >= 15 && newEvent.time - firstEvent.time < 500 && firstEvent.delta - newEvent.delta >= 1 && newEvent.delta <= 6) {\n            // We're at the end of the deceleration of a momentum scroll, so there's no need\n            // to wait for more events. Snap ASAP on the next tick.\n            // Also, because there's some remaining momentum we'll bias the snap in the\n            // direction of the ongoing scroll because it's better UX for the scroll to snap\n            // in the same direction as the scroll instead of reversing to snap.  Therefore,\n            // if it's already scrolled more than 20% in the current direction, keep going.\n            const snapToThreshold = delta > 0 ? 0.8 : 0.2;\n            lastEventBeforeSnap = newEvent;\n            recentWheelEvents.splice(0);\n            timeout = nextTick(() => {\n              swiper.slideToClosest(swiper.params.speed, true, undefined, snapToThreshold);\n            }, 0); // no delay; move on next tick\n          }\n\n          if (!timeout) {\n            // if we get here, then we haven't detected the end of a momentum scroll, so\n            // we'll consider a scroll \"complete\" when there haven't been any wheel events\n            // for 500ms.\n            timeout = nextTick(() => {\n              const snapToThreshold = 0.5;\n              lastEventBeforeSnap = newEvent;\n              recentWheelEvents.splice(0);\n              swiper.slideToClosest(swiper.params.speed, true, undefined, snapToThreshold);\n            }, 500);\n          }\n        } // Emit event\n\n\n        if (!ignoreWheelEvents) emit('scroll', e); // Stop autoplay\n\n        if (swiper.params.autoplay && swiper.params.autoplayDisableOnInteraction) swiper.autoplay.stop(); // Return page scroll on edge positions\n\n        if (position === swiper.minTranslate() || position === swiper.maxTranslate()) return true;\n      }\n    }\n\n    if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n    return false;\n  }\n\n  function events(method) {\n    let target = swiper.$el;\n\n    if (swiper.params.mousewheel.eventsTarget !== 'container') {\n      target = $(swiper.params.mousewheel.eventsTarget);\n    }\n\n    target[method]('mouseenter', handleMouseEnter);\n    target[method]('mouseleave', handleMouseLeave);\n    target[method]('wheel', handle);\n  }\n\n  function enable() {\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.removeEventListener('wheel', handle);\n      return true;\n    }\n\n    if (swiper.mousewheel.enabled) return false;\n    events('on');\n    swiper.mousewheel.enabled = true;\n    return true;\n  }\n\n  function disable() {\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.addEventListener(event, handle);\n      return true;\n    }\n\n    if (!swiper.mousewheel.enabled) return false;\n    events('off');\n    swiper.mousewheel.enabled = false;\n    return true;\n  }\n\n  on('init', () => {\n    if (!swiper.params.mousewheel.enabled && swiper.params.cssMode) {\n      disable();\n    }\n\n    if (swiper.params.mousewheel.enabled) enable();\n  });\n  on('destroy', () => {\n    if (swiper.params.cssMode) {\n      enable();\n    }\n\n    if (swiper.mousewheel.enabled) disable();\n  });\n  Object.assign(swiper.mousewheel, {\n    enable,\n    disable\n  });\n}","import { getDocument } from 'ssr-window';\nexport default function createElementIfNotDefined(swiper, originalParams, params, checkProps) {\n  const document = getDocument();\n\n  if (swiper.params.createElements) {\n    Object.keys(checkProps).forEach(key => {\n      if (!params[key] && params.auto === true) {\n        let element = swiper.$el.children(`.${checkProps[key]}`)[0];\n\n        if (!element) {\n          element = document.createElement('div');\n          element.className = checkProps[key];\n          swiper.$el.append(element);\n        }\n\n        params[key] = element;\n        originalParams[key] = element;\n      }\n    });\n  }\n\n  return params;\n}","import createElementIfNotDefined from '../../shared/create-element-if-not-defined.js';\nimport $ from '../../shared/dom.js';\nexport default function Navigation(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on,\n    emit\n  } = _ref;\n  extendParams({\n    navigation: {\n      nextEl: null,\n      prevEl: null,\n      hideOnClick: false,\n      disabledClass: 'swiper-button-disabled',\n      hiddenClass: 'swiper-button-hidden',\n      lockClass: 'swiper-button-lock',\n      navigationDisabledClass: 'swiper-navigation-disabled'\n    }\n  });\n  swiper.navigation = {\n    nextEl: null,\n    $nextEl: null,\n    prevEl: null,\n    $prevEl: null\n  };\n\n  function getEl(el) {\n    let $el;\n\n    if (el) {\n      $el = $(el);\n\n      if (swiper.params.uniqueNavElements && typeof el === 'string' && $el.length > 1 && swiper.$el.find(el).length === 1) {\n        $el = swiper.$el.find(el);\n      }\n    }\n\n    return $el;\n  }\n\n  function toggleEl($el, disabled) {\n    const params = swiper.params.navigation;\n\n    if ($el && $el.length > 0) {\n      $el[disabled ? 'addClass' : 'removeClass'](params.disabledClass);\n      if ($el[0] && $el[0].tagName === 'BUTTON') $el[0].disabled = disabled;\n\n      if (swiper.params.watchOverflow && swiper.enabled) {\n        $el[swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);\n      }\n    }\n  }\n\n  function update() {\n    // Update Navigation Buttons\n    if (swiper.params.loop) return;\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n    toggleEl($prevEl, swiper.isBeginning && !swiper.params.rewind);\n    toggleEl($nextEl, swiper.isEnd && !swiper.params.rewind);\n  }\n\n  function onPrevClick(e) {\n    e.preventDefault();\n    if (swiper.isBeginning && !swiper.params.loop && !swiper.params.rewind) return;\n    swiper.slidePrev();\n    emit('navigationPrev');\n  }\n\n  function onNextClick(e) {\n    e.preventDefault();\n    if (swiper.isEnd && !swiper.params.loop && !swiper.params.rewind) return;\n    swiper.slideNext();\n    emit('navigationNext');\n  }\n\n  function init() {\n    const params = swiper.params.navigation;\n    swiper.params.navigation = createElementIfNotDefined(swiper, swiper.originalParams.navigation, swiper.params.navigation, {\n      nextEl: 'swiper-button-next',\n      prevEl: 'swiper-button-prev'\n    });\n    if (!(params.nextEl || params.prevEl)) return;\n    const $nextEl = getEl(params.nextEl);\n    const $prevEl = getEl(params.prevEl);\n\n    if ($nextEl && $nextEl.length > 0) {\n      $nextEl.on('click', onNextClick);\n    }\n\n    if ($prevEl && $prevEl.length > 0) {\n      $prevEl.on('click', onPrevClick);\n    }\n\n    Object.assign(swiper.navigation, {\n      $nextEl,\n      nextEl: $nextEl && $nextEl[0],\n      $prevEl,\n      prevEl: $prevEl && $prevEl[0]\n    });\n\n    if (!swiper.enabled) {\n      if ($nextEl) $nextEl.addClass(params.lockClass);\n      if ($prevEl) $prevEl.addClass(params.lockClass);\n    }\n  }\n\n  function destroy() {\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n\n    if ($nextEl && $nextEl.length) {\n      $nextEl.off('click', onNextClick);\n      $nextEl.removeClass(swiper.params.navigation.disabledClass);\n    }\n\n    if ($prevEl && $prevEl.length) {\n      $prevEl.off('click', onPrevClick);\n      $prevEl.removeClass(swiper.params.navigation.disabledClass);\n    }\n  }\n\n  on('init', () => {\n    if (swiper.params.navigation.enabled === false) {\n      // eslint-disable-next-line\n      disable();\n    } else {\n      init();\n      update();\n    }\n  });\n  on('toEdge fromEdge lock unlock', () => {\n    update();\n  });\n  on('destroy', () => {\n    destroy();\n  });\n  on('enable disable', () => {\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n\n    if ($nextEl) {\n      $nextEl[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.navigation.lockClass);\n    }\n\n    if ($prevEl) {\n      $prevEl[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.navigation.lockClass);\n    }\n  });\n  on('click', (_s, e) => {\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n    const targetEl = e.target;\n\n    if (swiper.params.navigation.hideOnClick && !$(targetEl).is($prevEl) && !$(targetEl).is($nextEl)) {\n      if (swiper.pagination && swiper.params.pagination && swiper.params.pagination.clickable && (swiper.pagination.el === targetEl || swiper.pagination.el.contains(targetEl))) return;\n      let isHidden;\n\n      if ($nextEl) {\n        isHidden = $nextEl.hasClass(swiper.params.navigation.hiddenClass);\n      } else if ($prevEl) {\n        isHidden = $prevEl.hasClass(swiper.params.navigation.hiddenClass);\n      }\n\n      if (isHidden === true) {\n        emit('navigationShow');\n      } else {\n        emit('navigationHide');\n      }\n\n      if ($nextEl) {\n        $nextEl.toggleClass(swiper.params.navigation.hiddenClass);\n      }\n\n      if ($prevEl) {\n        $prevEl.toggleClass(swiper.params.navigation.hiddenClass);\n      }\n    }\n  });\n\n  const enable = () => {\n    swiper.$el.removeClass(swiper.params.navigation.navigationDisabledClass);\n    init();\n    update();\n  };\n\n  const disable = () => {\n    swiper.$el.addClass(swiper.params.navigation.navigationDisabledClass);\n    destroy();\n  };\n\n  Object.assign(swiper.navigation, {\n    enable,\n    disable,\n    update,\n    init,\n    destroy\n  });\n}","export default function classesToSelector(classes) {\n  if (classes === void 0) {\n    classes = '';\n  }\n\n  return `.${classes.trim().replace(/([\\.:!\\/])/g, '\\\\$1') // eslint-disable-line\n  .replace(/ /g, '.')}`;\n}","import $ from '../../shared/dom.js';\nimport classesToSelector from '../../shared/classes-to-selector.js';\nimport createElementIfNotDefined from '../../shared/create-element-if-not-defined.js';\nexport default function Pagination(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on,\n    emit\n  } = _ref;\n  const pfx = 'swiper-pagination';\n  extendParams({\n    pagination: {\n      el: null,\n      bulletElement: 'span',\n      clickable: false,\n      hideOnClick: false,\n      renderBullet: null,\n      renderProgressbar: null,\n      renderFraction: null,\n      renderCustom: null,\n      progressbarOpposite: false,\n      type: 'bullets',\n      // 'bullets' or 'progressbar' or 'fraction' or 'custom'\n      dynamicBullets: false,\n      dynamicMainBullets: 1,\n      formatFractionCurrent: number => number,\n      formatFractionTotal: number => number,\n      bulletClass: `${pfx}-bullet`,\n      bulletActiveClass: `${pfx}-bullet-active`,\n      modifierClass: `${pfx}-`,\n      currentClass: `${pfx}-current`,\n      totalClass: `${pfx}-total`,\n      hiddenClass: `${pfx}-hidden`,\n      progressbarFillClass: `${pfx}-progressbar-fill`,\n      progressbarOppositeClass: `${pfx}-progressbar-opposite`,\n      clickableClass: `${pfx}-clickable`,\n      lockClass: `${pfx}-lock`,\n      horizontalClass: `${pfx}-horizontal`,\n      verticalClass: `${pfx}-vertical`,\n      paginationDisabledClass: `${pfx}-disabled`\n    }\n  });\n  swiper.pagination = {\n    el: null,\n    $el: null,\n    bullets: []\n  };\n  let bulletSize;\n  let dynamicBulletIndex = 0;\n\n  function isPaginationDisabled() {\n    return !swiper.params.pagination.el || !swiper.pagination.el || !swiper.pagination.$el || swiper.pagination.$el.length === 0;\n  }\n\n  function setSideBullets($bulletEl, position) {\n    const {\n      bulletActiveClass\n    } = swiper.params.pagination;\n    $bulletEl[position]().addClass(`${bulletActiveClass}-${position}`)[position]().addClass(`${bulletActiveClass}-${position}-${position}`);\n  }\n\n  function update() {\n    // Render || Update Pagination bullets/items\n    const rtl = swiper.rtl;\n    const params = swiper.params.pagination;\n    if (isPaginationDisabled()) return;\n    const slidesLength = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.slides.length : swiper.slides.length;\n    const $el = swiper.pagination.$el; // Current/Total\n\n    let current;\n    const total = swiper.params.loop ? Math.ceil((slidesLength - swiper.loopedSlides * 2) / swiper.params.slidesPerGroup) : swiper.snapGrid.length;\n\n    if (swiper.params.loop) {\n      current = Math.ceil((swiper.activeIndex - swiper.loopedSlides) / swiper.params.slidesPerGroup);\n\n      if (current > slidesLength - 1 - swiper.loopedSlides * 2) {\n        current -= slidesLength - swiper.loopedSlides * 2;\n      }\n\n      if (current > total - 1) current -= total;\n      if (current < 0 && swiper.params.paginationType !== 'bullets') current = total + current;\n    } else if (typeof swiper.snapIndex !== 'undefined') {\n      current = swiper.snapIndex;\n    } else {\n      current = swiper.activeIndex || 0;\n    } // Types\n\n\n    if (params.type === 'bullets' && swiper.pagination.bullets && swiper.pagination.bullets.length > 0) {\n      const bullets = swiper.pagination.bullets;\n      let firstIndex;\n      let lastIndex;\n      let midIndex;\n\n      if (params.dynamicBullets) {\n        bulletSize = bullets.eq(0)[swiper.isHorizontal() ? 'outerWidth' : 'outerHeight'](true);\n        $el.css(swiper.isHorizontal() ? 'width' : 'height', `${bulletSize * (params.dynamicMainBullets + 4)}px`);\n\n        if (params.dynamicMainBullets > 1 && swiper.previousIndex !== undefined) {\n          dynamicBulletIndex += current - (swiper.previousIndex - swiper.loopedSlides || 0);\n\n          if (dynamicBulletIndex > params.dynamicMainBullets - 1) {\n            dynamicBulletIndex = params.dynamicMainBullets - 1;\n          } else if (dynamicBulletIndex < 0) {\n            dynamicBulletIndex = 0;\n          }\n        }\n\n        firstIndex = Math.max(current - dynamicBulletIndex, 0);\n        lastIndex = firstIndex + (Math.min(bullets.length, params.dynamicMainBullets) - 1);\n        midIndex = (lastIndex + firstIndex) / 2;\n      }\n\n      bullets.removeClass(['', '-next', '-next-next', '-prev', '-prev-prev', '-main'].map(suffix => `${params.bulletActiveClass}${suffix}`).join(' '));\n\n      if ($el.length > 1) {\n        bullets.each(bullet => {\n          const $bullet = $(bullet);\n          const bulletIndex = $bullet.index();\n\n          if (bulletIndex === current) {\n            $bullet.addClass(params.bulletActiveClass);\n          }\n\n          if (params.dynamicBullets) {\n            if (bulletIndex >= firstIndex && bulletIndex <= lastIndex) {\n              $bullet.addClass(`${params.bulletActiveClass}-main`);\n            }\n\n            if (bulletIndex === firstIndex) {\n              setSideBullets($bullet, 'prev');\n            }\n\n            if (bulletIndex === lastIndex) {\n              setSideBullets($bullet, 'next');\n            }\n          }\n        });\n      } else {\n        const $bullet = bullets.eq(current);\n        const bulletIndex = $bullet.index();\n        $bullet.addClass(params.bulletActiveClass);\n\n        if (params.dynamicBullets) {\n          const $firstDisplayedBullet = bullets.eq(firstIndex);\n          const $lastDisplayedBullet = bullets.eq(lastIndex);\n\n          for (let i = firstIndex; i <= lastIndex; i += 1) {\n            bullets.eq(i).addClass(`${params.bulletActiveClass}-main`);\n          }\n\n          if (swiper.params.loop) {\n            if (bulletIndex >= bullets.length) {\n              for (let i = params.dynamicMainBullets; i >= 0; i -= 1) {\n                bullets.eq(bullets.length - i).addClass(`${params.bulletActiveClass}-main`);\n              }\n\n              bullets.eq(bullets.length - params.dynamicMainBullets - 1).addClass(`${params.bulletActiveClass}-prev`);\n            } else {\n              setSideBullets($firstDisplayedBullet, 'prev');\n              setSideBullets($lastDisplayedBullet, 'next');\n            }\n          } else {\n            setSideBullets($firstDisplayedBullet, 'prev');\n            setSideBullets($lastDisplayedBullet, 'next');\n          }\n        }\n      }\n\n      if (params.dynamicBullets) {\n        const dynamicBulletsLength = Math.min(bullets.length, params.dynamicMainBullets + 4);\n        const bulletsOffset = (bulletSize * dynamicBulletsLength - bulletSize) / 2 - midIndex * bulletSize;\n        const offsetProp = rtl ? 'right' : 'left';\n        bullets.css(swiper.isHorizontal() ? offsetProp : 'top', `${bulletsOffset}px`);\n      }\n    }\n\n    if (params.type === 'fraction') {\n      $el.find(classesToSelector(params.currentClass)).text(params.formatFractionCurrent(current + 1));\n      $el.find(classesToSelector(params.totalClass)).text(params.formatFractionTotal(total));\n    }\n\n    if (params.type === 'progressbar') {\n      let progressbarDirection;\n\n      if (params.progressbarOpposite) {\n        progressbarDirection = swiper.isHorizontal() ? 'vertical' : 'horizontal';\n      } else {\n        progressbarDirection = swiper.isHorizontal() ? 'horizontal' : 'vertical';\n      }\n\n      const scale = (current + 1) / total;\n      let scaleX = 1;\n      let scaleY = 1;\n\n      if (progressbarDirection === 'horizontal') {\n        scaleX = scale;\n      } else {\n        scaleY = scale;\n      }\n\n      $el.find(classesToSelector(params.progressbarFillClass)).transform(`translate3d(0,0,0) scaleX(${scaleX}) scaleY(${scaleY})`).transition(swiper.params.speed);\n    }\n\n    if (params.type === 'custom' && params.renderCustom) {\n      $el.html(params.renderCustom(swiper, current + 1, total));\n      emit('paginationRender', $el[0]);\n    } else {\n      emit('paginationUpdate', $el[0]);\n    }\n\n    if (swiper.params.watchOverflow && swiper.enabled) {\n      $el[swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);\n    }\n  }\n\n  function render() {\n    // Render Container\n    const params = swiper.params.pagination;\n    if (isPaginationDisabled()) return;\n    const slidesLength = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.slides.length : swiper.slides.length;\n    const $el = swiper.pagination.$el;\n    let paginationHTML = '';\n\n    if (params.type === 'bullets') {\n      let numberOfBullets = swiper.params.loop ? Math.ceil((slidesLength - swiper.loopedSlides * 2) / swiper.params.slidesPerGroup) : swiper.snapGrid.length;\n\n      if (swiper.params.freeMode && swiper.params.freeMode.enabled && !swiper.params.loop && numberOfBullets > slidesLength) {\n        numberOfBullets = slidesLength;\n      }\n\n      for (let i = 0; i < numberOfBullets; i += 1) {\n        if (params.renderBullet) {\n          paginationHTML += params.renderBullet.call(swiper, i, params.bulletClass);\n        } else {\n          paginationHTML += `<${params.bulletElement} class=\"${params.bulletClass}\"></${params.bulletElement}>`;\n        }\n      }\n\n      $el.html(paginationHTML);\n      swiper.pagination.bullets = $el.find(classesToSelector(params.bulletClass));\n    }\n\n    if (params.type === 'fraction') {\n      if (params.renderFraction) {\n        paginationHTML = params.renderFraction.call(swiper, params.currentClass, params.totalClass);\n      } else {\n        paginationHTML = `<span class=\"${params.currentClass}\"></span>` + ' / ' + `<span class=\"${params.totalClass}\"></span>`;\n      }\n\n      $el.html(paginationHTML);\n    }\n\n    if (params.type === 'progressbar') {\n      if (params.renderProgressbar) {\n        paginationHTML = params.renderProgressbar.call(swiper, params.progressbarFillClass);\n      } else {\n        paginationHTML = `<span class=\"${params.progressbarFillClass}\"></span>`;\n      }\n\n      $el.html(paginationHTML);\n    }\n\n    if (params.type !== 'custom') {\n      emit('paginationRender', swiper.pagination.$el[0]);\n    }\n  }\n\n  function init() {\n    swiper.params.pagination = createElementIfNotDefined(swiper, swiper.originalParams.pagination, swiper.params.pagination, {\n      el: 'swiper-pagination'\n    });\n    const params = swiper.params.pagination;\n    if (!params.el) return;\n    let $el = $(params.el);\n    if ($el.length === 0) return;\n\n    if (swiper.params.uniqueNavElements && typeof params.el === 'string' && $el.length > 1) {\n      $el = swiper.$el.find(params.el); // check if it belongs to another nested Swiper\n\n      if ($el.length > 1) {\n        $el = $el.filter(el => {\n          if ($(el).parents('.swiper')[0] !== swiper.el) return false;\n          return true;\n        });\n      }\n    }\n\n    if (params.type === 'bullets' && params.clickable) {\n      $el.addClass(params.clickableClass);\n    }\n\n    $el.addClass(params.modifierClass + params.type);\n    $el.addClass(swiper.isHorizontal() ? params.horizontalClass : params.verticalClass);\n\n    if (params.type === 'bullets' && params.dynamicBullets) {\n      $el.addClass(`${params.modifierClass}${params.type}-dynamic`);\n      dynamicBulletIndex = 0;\n\n      if (params.dynamicMainBullets < 1) {\n        params.dynamicMainBullets = 1;\n      }\n    }\n\n    if (params.type === 'progressbar' && params.progressbarOpposite) {\n      $el.addClass(params.progressbarOppositeClass);\n    }\n\n    if (params.clickable) {\n      $el.on('click', classesToSelector(params.bulletClass), function onClick(e) {\n        e.preventDefault();\n        let index = $(this).index() * swiper.params.slidesPerGroup;\n        if (swiper.params.loop) index += swiper.loopedSlides;\n        swiper.slideTo(index);\n      });\n    }\n\n    Object.assign(swiper.pagination, {\n      $el,\n      el: $el[0]\n    });\n\n    if (!swiper.enabled) {\n      $el.addClass(params.lockClass);\n    }\n  }\n\n  function destroy() {\n    const params = swiper.params.pagination;\n    if (isPaginationDisabled()) return;\n    const $el = swiper.pagination.$el;\n    $el.removeClass(params.hiddenClass);\n    $el.removeClass(params.modifierClass + params.type);\n    $el.removeClass(swiper.isHorizontal() ? params.horizontalClass : params.verticalClass);\n    if (swiper.pagination.bullets && swiper.pagination.bullets.removeClass) swiper.pagination.bullets.removeClass(params.bulletActiveClass);\n\n    if (params.clickable) {\n      $el.off('click', classesToSelector(params.bulletClass));\n    }\n  }\n\n  on('init', () => {\n    if (swiper.params.pagination.enabled === false) {\n      // eslint-disable-next-line\n      disable();\n    } else {\n      init();\n      render();\n      update();\n    }\n  });\n  on('activeIndexChange', () => {\n    if (swiper.params.loop) {\n      update();\n    } else if (typeof swiper.snapIndex === 'undefined') {\n      update();\n    }\n  });\n  on('snapIndexChange', () => {\n    if (!swiper.params.loop) {\n      update();\n    }\n  });\n  on('slidesLengthChange', () => {\n    if (swiper.params.loop) {\n      render();\n      update();\n    }\n  });\n  on('snapGridLengthChange', () => {\n    if (!swiper.params.loop) {\n      render();\n      update();\n    }\n  });\n  on('destroy', () => {\n    destroy();\n  });\n  on('enable disable', () => {\n    const {\n      $el\n    } = swiper.pagination;\n\n    if ($el) {\n      $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.pagination.lockClass);\n    }\n  });\n  on('lock unlock', () => {\n    update();\n  });\n  on('click', (_s, e) => {\n    const targetEl = e.target;\n    const {\n      $el\n    } = swiper.pagination;\n\n    if (swiper.params.pagination.el && swiper.params.pagination.hideOnClick && $el && $el.length > 0 && !$(targetEl).hasClass(swiper.params.pagination.bulletClass)) {\n      if (swiper.navigation && (swiper.navigation.nextEl && targetEl === swiper.navigation.nextEl || swiper.navigation.prevEl && targetEl === swiper.navigation.prevEl)) return;\n      const isHidden = $el.hasClass(swiper.params.pagination.hiddenClass);\n\n      if (isHidden === true) {\n        emit('paginationShow');\n      } else {\n        emit('paginationHide');\n      }\n\n      $el.toggleClass(swiper.params.pagination.hiddenClass);\n    }\n  });\n\n  const enable = () => {\n    swiper.$el.removeClass(swiper.params.pagination.paginationDisabledClass);\n\n    if (swiper.pagination.$el) {\n      swiper.pagination.$el.removeClass(swiper.params.pagination.paginationDisabledClass);\n    }\n\n    init();\n    render();\n    update();\n  };\n\n  const disable = () => {\n    swiper.$el.addClass(swiper.params.pagination.paginationDisabledClass);\n\n    if (swiper.pagination.$el) {\n      swiper.pagination.$el.addClass(swiper.params.pagination.paginationDisabledClass);\n    }\n\n    destroy();\n  };\n\n  Object.assign(swiper.pagination, {\n    enable,\n    disable,\n    render,\n    update,\n    init,\n    destroy\n  });\n}","import { getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nimport { nextTick } from '../../shared/utils.js';\nimport createElementIfNotDefined from '../../shared/create-element-if-not-defined.js';\nexport default function Scrollbar(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on,\n    emit\n  } = _ref;\n  const document = getDocument();\n  let isTouched = false;\n  let timeout = null;\n  let dragTimeout = null;\n  let dragStartPos;\n  let dragSize;\n  let trackSize;\n  let divider;\n  extendParams({\n    scrollbar: {\n      el: null,\n      dragSize: 'auto',\n      hide: false,\n      draggable: false,\n      snapOnRelease: true,\n      lockClass: 'swiper-scrollbar-lock',\n      dragClass: 'swiper-scrollbar-drag',\n      scrollbarDisabledClass: 'swiper-scrollbar-disabled',\n      horizontalClass: `swiper-scrollbar-horizontal`,\n      verticalClass: `swiper-scrollbar-vertical`\n    }\n  });\n  swiper.scrollbar = {\n    el: null,\n    dragEl: null,\n    $el: null,\n    $dragEl: null\n  };\n\n  function setTranslate() {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    const {\n      scrollbar,\n      rtlTranslate: rtl,\n      progress\n    } = swiper;\n    const {\n      $dragEl,\n      $el\n    } = scrollbar;\n    const params = swiper.params.scrollbar;\n    let newSize = dragSize;\n    let newPos = (trackSize - dragSize) * progress;\n\n    if (rtl) {\n      newPos = -newPos;\n\n      if (newPos > 0) {\n        newSize = dragSize - newPos;\n        newPos = 0;\n      } else if (-newPos + dragSize > trackSize) {\n        newSize = trackSize + newPos;\n      }\n    } else if (newPos < 0) {\n      newSize = dragSize + newPos;\n      newPos = 0;\n    } else if (newPos + dragSize > trackSize) {\n      newSize = trackSize - newPos;\n    }\n\n    if (swiper.isHorizontal()) {\n      $dragEl.transform(`translate3d(${newPos}px, 0, 0)`);\n      $dragEl[0].style.width = `${newSize}px`;\n    } else {\n      $dragEl.transform(`translate3d(0px, ${newPos}px, 0)`);\n      $dragEl[0].style.height = `${newSize}px`;\n    }\n\n    if (params.hide) {\n      clearTimeout(timeout);\n      $el[0].style.opacity = 1;\n      timeout = setTimeout(() => {\n        $el[0].style.opacity = 0;\n        $el.transition(400);\n      }, 1000);\n    }\n  }\n\n  function setTransition(duration) {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    swiper.scrollbar.$dragEl.transition(duration);\n  }\n\n  function updateSize() {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    const {\n      scrollbar\n    } = swiper;\n    const {\n      $dragEl,\n      $el\n    } = scrollbar;\n    $dragEl[0].style.width = '';\n    $dragEl[0].style.height = '';\n    trackSize = swiper.isHorizontal() ? $el[0].offsetWidth : $el[0].offsetHeight;\n    divider = swiper.size / (swiper.virtualSize + swiper.params.slidesOffsetBefore - (swiper.params.centeredSlides ? swiper.snapGrid[0] : 0));\n\n    if (swiper.params.scrollbar.dragSize === 'auto') {\n      dragSize = trackSize * divider;\n    } else {\n      dragSize = parseInt(swiper.params.scrollbar.dragSize, 10);\n    }\n\n    if (swiper.isHorizontal()) {\n      $dragEl[0].style.width = `${dragSize}px`;\n    } else {\n      $dragEl[0].style.height = `${dragSize}px`;\n    }\n\n    if (divider >= 1) {\n      $el[0].style.display = 'none';\n    } else {\n      $el[0].style.display = '';\n    }\n\n    if (swiper.params.scrollbar.hide) {\n      $el[0].style.opacity = 0;\n    }\n\n    if (swiper.params.watchOverflow && swiper.enabled) {\n      scrollbar.$el[swiper.isLocked ? 'addClass' : 'removeClass'](swiper.params.scrollbar.lockClass);\n    }\n  }\n\n  function getPointerPosition(e) {\n    if (swiper.isHorizontal()) {\n      return e.type === 'touchstart' || e.type === 'touchmove' ? e.targetTouches[0].clientX : e.clientX;\n    }\n\n    return e.type === 'touchstart' || e.type === 'touchmove' ? e.targetTouches[0].clientY : e.clientY;\n  }\n\n  function setDragPosition(e) {\n    const {\n      scrollbar,\n      rtlTranslate: rtl\n    } = swiper;\n    const {\n      $el\n    } = scrollbar;\n    let positionRatio;\n    positionRatio = (getPointerPosition(e) - $el.offset()[swiper.isHorizontal() ? 'left' : 'top'] - (dragStartPos !== null ? dragStartPos : dragSize / 2)) / (trackSize - dragSize);\n    positionRatio = Math.max(Math.min(positionRatio, 1), 0);\n\n    if (rtl) {\n      positionRatio = 1 - positionRatio;\n    }\n\n    const position = swiper.minTranslate() + (swiper.maxTranslate() - swiper.minTranslate()) * positionRatio;\n    swiper.updateProgress(position);\n    swiper.setTranslate(position);\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  }\n\n  function onDragStart(e) {\n    const params = swiper.params.scrollbar;\n    const {\n      scrollbar,\n      $wrapperEl\n    } = swiper;\n    const {\n      $el,\n      $dragEl\n    } = scrollbar;\n    isTouched = true;\n    dragStartPos = e.target === $dragEl[0] || e.target === $dragEl ? getPointerPosition(e) - e.target.getBoundingClientRect()[swiper.isHorizontal() ? 'left' : 'top'] : null;\n    e.preventDefault();\n    e.stopPropagation();\n    $wrapperEl.transition(100);\n    $dragEl.transition(100);\n    setDragPosition(e);\n    clearTimeout(dragTimeout);\n    $el.transition(0);\n\n    if (params.hide) {\n      $el.css('opacity', 1);\n    }\n\n    if (swiper.params.cssMode) {\n      swiper.$wrapperEl.css('scroll-snap-type', 'none');\n    }\n\n    emit('scrollbarDragStart', e);\n  }\n\n  function onDragMove(e) {\n    const {\n      scrollbar,\n      $wrapperEl\n    } = swiper;\n    const {\n      $el,\n      $dragEl\n    } = scrollbar;\n    if (!isTouched) return;\n    if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n    setDragPosition(e);\n    $wrapperEl.transition(0);\n    $el.transition(0);\n    $dragEl.transition(0);\n    emit('scrollbarDragMove', e);\n  }\n\n  function onDragEnd(e) {\n    const params = swiper.params.scrollbar;\n    const {\n      scrollbar,\n      $wrapperEl\n    } = swiper;\n    const {\n      $el\n    } = scrollbar;\n    if (!isTouched) return;\n    isTouched = false;\n\n    if (swiper.params.cssMode) {\n      swiper.$wrapperEl.css('scroll-snap-type', '');\n      $wrapperEl.transition('');\n    }\n\n    if (params.hide) {\n      clearTimeout(dragTimeout);\n      dragTimeout = nextTick(() => {\n        $el.css('opacity', 0);\n        $el.transition(400);\n      }, 1000);\n    }\n\n    emit('scrollbarDragEnd', e);\n\n    if (params.snapOnRelease) {\n      swiper.slideToClosest();\n    }\n  }\n\n  function events(method) {\n    const {\n      scrollbar,\n      touchEventsTouch,\n      touchEventsDesktop,\n      params,\n      support\n    } = swiper;\n    const $el = scrollbar.$el;\n    if (!$el) return;\n    const target = $el[0];\n    const activeListener = support.passiveListener && params.passiveListeners ? {\n      passive: false,\n      capture: false\n    } : false;\n    const passiveListener = support.passiveListener && params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    if (!target) return;\n    const eventMethod = method === 'on' ? 'addEventListener' : 'removeEventListener';\n\n    if (!support.touch) {\n      target[eventMethod](touchEventsDesktop.start, onDragStart, activeListener);\n      document[eventMethod](touchEventsDesktop.move, onDragMove, activeListener);\n      document[eventMethod](touchEventsDesktop.end, onDragEnd, passiveListener);\n    } else {\n      target[eventMethod](touchEventsTouch.start, onDragStart, activeListener);\n      target[eventMethod](touchEventsTouch.move, onDragMove, activeListener);\n      target[eventMethod](touchEventsTouch.end, onDragEnd, passiveListener);\n    }\n  }\n\n  function enableDraggable() {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    events('on');\n  }\n\n  function disableDraggable() {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    events('off');\n  }\n\n  function init() {\n    const {\n      scrollbar,\n      $el: $swiperEl\n    } = swiper;\n    swiper.params.scrollbar = createElementIfNotDefined(swiper, swiper.originalParams.scrollbar, swiper.params.scrollbar, {\n      el: 'swiper-scrollbar'\n    });\n    const params = swiper.params.scrollbar;\n    if (!params.el) return;\n    let $el = $(params.el);\n\n    if (swiper.params.uniqueNavElements && typeof params.el === 'string' && $el.length > 1 && $swiperEl.find(params.el).length === 1) {\n      $el = $swiperEl.find(params.el);\n    }\n\n    $el.addClass(swiper.isHorizontal() ? params.horizontalClass : params.verticalClass);\n    let $dragEl = $el.find(`.${swiper.params.scrollbar.dragClass}`);\n\n    if ($dragEl.length === 0) {\n      $dragEl = $(`<div class=\"${swiper.params.scrollbar.dragClass}\"></div>`);\n      $el.append($dragEl);\n    }\n\n    Object.assign(scrollbar, {\n      $el,\n      el: $el[0],\n      $dragEl,\n      dragEl: $dragEl[0]\n    });\n\n    if (params.draggable) {\n      enableDraggable();\n    }\n\n    if ($el) {\n      $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.scrollbar.lockClass);\n    }\n  }\n\n  function destroy() {\n    const params = swiper.params.scrollbar;\n    const $el = swiper.scrollbar.$el;\n\n    if ($el) {\n      $el.removeClass(swiper.isHorizontal() ? params.horizontalClass : params.verticalClass);\n    }\n\n    disableDraggable();\n  }\n\n  on('init', () => {\n    if (swiper.params.scrollbar.enabled === false) {\n      // eslint-disable-next-line\n      disable();\n    } else {\n      init();\n      updateSize();\n      setTranslate();\n    }\n  });\n  on('update resize observerUpdate lock unlock', () => {\n    updateSize();\n  });\n  on('setTranslate', () => {\n    setTranslate();\n  });\n  on('setTransition', (_s, duration) => {\n    setTransition(duration);\n  });\n  on('enable disable', () => {\n    const {\n      $el\n    } = swiper.scrollbar;\n\n    if ($el) {\n      $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.scrollbar.lockClass);\n    }\n  });\n  on('destroy', () => {\n    destroy();\n  });\n\n  const enable = () => {\n    swiper.$el.removeClass(swiper.params.scrollbar.scrollbarDisabledClass);\n\n    if (swiper.scrollbar.$el) {\n      swiper.scrollbar.$el.removeClass(swiper.params.scrollbar.scrollbarDisabledClass);\n    }\n\n    init();\n    updateSize();\n    setTranslate();\n  };\n\n  const disable = () => {\n    swiper.$el.addClass(swiper.params.scrollbar.scrollbarDisabledClass);\n\n    if (swiper.scrollbar.$el) {\n      swiper.scrollbar.$el.addClass(swiper.params.scrollbar.scrollbarDisabledClass);\n    }\n\n    destroy();\n  };\n\n  Object.assign(swiper.scrollbar, {\n    enable,\n    disable,\n    updateSize,\n    setTranslate,\n    init,\n    destroy\n  });\n}","import $ from '../../shared/dom.js';\nexport default function Parallax(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on\n  } = _ref;\n  extendParams({\n    parallax: {\n      enabled: false\n    }\n  });\n\n  const setTransform = (el, progress) => {\n    const {\n      rtl\n    } = swiper;\n    const $el = $(el);\n    const rtlFactor = rtl ? -1 : 1;\n    const p = $el.attr('data-swiper-parallax') || '0';\n    let x = $el.attr('data-swiper-parallax-x');\n    let y = $el.attr('data-swiper-parallax-y');\n    const scale = $el.attr('data-swiper-parallax-scale');\n    const opacity = $el.attr('data-swiper-parallax-opacity');\n\n    if (x || y) {\n      x = x || '0';\n      y = y || '0';\n    } else if (swiper.isHorizontal()) {\n      x = p;\n      y = '0';\n    } else {\n      y = p;\n      x = '0';\n    }\n\n    if (x.indexOf('%') >= 0) {\n      x = `${parseInt(x, 10) * progress * rtlFactor}%`;\n    } else {\n      x = `${x * progress * rtlFactor}px`;\n    }\n\n    if (y.indexOf('%') >= 0) {\n      y = `${parseInt(y, 10) * progress}%`;\n    } else {\n      y = `${y * progress}px`;\n    }\n\n    if (typeof opacity !== 'undefined' && opacity !== null) {\n      const currentOpacity = opacity - (opacity - 1) * (1 - Math.abs(progress));\n      $el[0].style.opacity = currentOpacity;\n    }\n\n    if (typeof scale === 'undefined' || scale === null) {\n      $el.transform(`translate3d(${x}, ${y}, 0px)`);\n    } else {\n      const currentScale = scale - (scale - 1) * (1 - Math.abs(progress));\n      $el.transform(`translate3d(${x}, ${y}, 0px) scale(${currentScale})`);\n    }\n  };\n\n  const setTranslate = () => {\n    const {\n      $el,\n      slides,\n      progress,\n      snapGrid\n    } = swiper;\n    $el.children('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]').each(el => {\n      setTransform(el, progress);\n    });\n    slides.each((slideEl, slideIndex) => {\n      let slideProgress = slideEl.progress;\n\n      if (swiper.params.slidesPerGroup > 1 && swiper.params.slidesPerView !== 'auto') {\n        slideProgress += Math.ceil(slideIndex / 2) - progress * (snapGrid.length - 1);\n      }\n\n      slideProgress = Math.min(Math.max(slideProgress, -1), 1);\n      $(slideEl).find('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]').each(el => {\n        setTransform(el, slideProgress);\n      });\n    });\n  };\n\n  const setTransition = function (duration) {\n    if (duration === void 0) {\n      duration = swiper.params.speed;\n    }\n\n    const {\n      $el\n    } = swiper;\n    $el.find('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]').each(parallaxEl => {\n      const $parallaxEl = $(parallaxEl);\n      let parallaxDuration = parseInt($parallaxEl.attr('data-swiper-parallax-duration'), 10) || duration;\n      if (duration === 0) parallaxDuration = 0;\n      $parallaxEl.transition(parallaxDuration);\n    });\n  };\n\n  on('beforeInit', () => {\n    if (!swiper.params.parallax.enabled) return;\n    swiper.params.watchSlidesProgress = true;\n    swiper.originalParams.watchSlidesProgress = true;\n  });\n  on('init', () => {\n    if (!swiper.params.parallax.enabled) return;\n    setTranslate();\n  });\n  on('setTranslate', () => {\n    if (!swiper.params.parallax.enabled) return;\n    setTranslate();\n  });\n  on('setTransition', (_swiper, duration) => {\n    if (!swiper.params.parallax.enabled) return;\n    setTransition(duration);\n  });\n}","import { getWindow } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nimport { getTranslate } from '../../shared/utils.js';\nexport default function Zoom(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on,\n    emit\n  } = _ref;\n  const window = getWindow();\n  extendParams({\n    zoom: {\n      enabled: false,\n      maxRatio: 3,\n      minRatio: 1,\n      toggle: true,\n      containerClass: 'swiper-zoom-container',\n      zoomedSlideClass: 'swiper-slide-zoomed'\n    }\n  });\n  swiper.zoom = {\n    enabled: false\n  };\n  let currentScale = 1;\n  let isScaling = false;\n  let gesturesEnabled;\n  let fakeGestureTouched;\n  let fakeGestureMoved;\n  const gesture = {\n    $slideEl: undefined,\n    slideWidth: undefined,\n    slideHeight: undefined,\n    $imageEl: undefined,\n    $imageWrapEl: undefined,\n    maxRatio: 3\n  };\n  const image = {\n    isTouched: undefined,\n    isMoved: undefined,\n    currentX: undefined,\n    currentY: undefined,\n    minX: undefined,\n    minY: undefined,\n    maxX: undefined,\n    maxY: undefined,\n    width: undefined,\n    height: undefined,\n    startX: undefined,\n    startY: undefined,\n    touchesStart: {},\n    touchesCurrent: {}\n  };\n  const velocity = {\n    x: undefined,\n    y: undefined,\n    prevPositionX: undefined,\n    prevPositionY: undefined,\n    prevTime: undefined\n  };\n  let scale = 1;\n  Object.defineProperty(swiper.zoom, 'scale', {\n    get() {\n      return scale;\n    },\n\n    set(value) {\n      if (scale !== value) {\n        const imageEl = gesture.$imageEl ? gesture.$imageEl[0] : undefined;\n        const slideEl = gesture.$slideEl ? gesture.$slideEl[0] : undefined;\n        emit('zoomChange', value, imageEl, slideEl);\n      }\n\n      scale = value;\n    }\n\n  });\n\n  function getDistanceBetweenTouches(e) {\n    if (e.targetTouches.length < 2) return 1;\n    const x1 = e.targetTouches[0].pageX;\n    const y1 = e.targetTouches[0].pageY;\n    const x2 = e.targetTouches[1].pageX;\n    const y2 = e.targetTouches[1].pageY;\n    const distance = Math.sqrt((x2 - x1) ** 2 + (y2 - y1) ** 2);\n    return distance;\n  } // Events\n\n\n  function onGestureStart(e) {\n    const support = swiper.support;\n    const params = swiper.params.zoom;\n    fakeGestureTouched = false;\n    fakeGestureMoved = false;\n\n    if (!support.gestures) {\n      if (e.type !== 'touchstart' || e.type === 'touchstart' && e.targetTouches.length < 2) {\n        return;\n      }\n\n      fakeGestureTouched = true;\n      gesture.scaleStart = getDistanceBetweenTouches(e);\n    }\n\n    if (!gesture.$slideEl || !gesture.$slideEl.length) {\n      gesture.$slideEl = $(e.target).closest(`.${swiper.params.slideClass}`);\n      if (gesture.$slideEl.length === 0) gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n      gesture.$imageEl = gesture.$slideEl.find(`.${params.containerClass}`).eq(0).find('picture, img, svg, canvas, .swiper-zoom-target').eq(0);\n      gesture.$imageWrapEl = gesture.$imageEl.parent(`.${params.containerClass}`);\n      gesture.maxRatio = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n\n      if (gesture.$imageWrapEl.length === 0) {\n        gesture.$imageEl = undefined;\n        return;\n      }\n    }\n\n    if (gesture.$imageEl) {\n      gesture.$imageEl.transition(0);\n    }\n\n    isScaling = true;\n  }\n\n  function onGestureChange(e) {\n    const support = swiper.support;\n    const params = swiper.params.zoom;\n    const zoom = swiper.zoom;\n\n    if (!support.gestures) {\n      if (e.type !== 'touchmove' || e.type === 'touchmove' && e.targetTouches.length < 2) {\n        return;\n      }\n\n      fakeGestureMoved = true;\n      gesture.scaleMove = getDistanceBetweenTouches(e);\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) {\n      if (e.type === 'gesturechange') onGestureStart(e);\n      return;\n    }\n\n    if (support.gestures) {\n      zoom.scale = e.scale * currentScale;\n    } else {\n      zoom.scale = gesture.scaleMove / gesture.scaleStart * currentScale;\n    }\n\n    if (zoom.scale > gesture.maxRatio) {\n      zoom.scale = gesture.maxRatio - 1 + (zoom.scale - gesture.maxRatio + 1) ** 0.5;\n    }\n\n    if (zoom.scale < params.minRatio) {\n      zoom.scale = params.minRatio + 1 - (params.minRatio - zoom.scale + 1) ** 0.5;\n    }\n\n    gesture.$imageEl.transform(`translate3d(0,0,0) scale(${zoom.scale})`);\n  }\n\n  function onGestureEnd(e) {\n    const device = swiper.device;\n    const support = swiper.support;\n    const params = swiper.params.zoom;\n    const zoom = swiper.zoom;\n\n    if (!support.gestures) {\n      if (!fakeGestureTouched || !fakeGestureMoved) {\n        return;\n      }\n\n      if (e.type !== 'touchend' || e.type === 'touchend' && e.changedTouches.length < 2 && !device.android) {\n        return;\n      }\n\n      fakeGestureTouched = false;\n      fakeGestureMoved = false;\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    zoom.scale = Math.max(Math.min(zoom.scale, gesture.maxRatio), params.minRatio);\n    gesture.$imageEl.transition(swiper.params.speed).transform(`translate3d(0,0,0) scale(${zoom.scale})`);\n    currentScale = zoom.scale;\n    isScaling = false;\n    if (zoom.scale === 1) gesture.$slideEl = undefined;\n  }\n\n  function onTouchStart(e) {\n    const device = swiper.device;\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    if (image.isTouched) return;\n    if (device.android && e.cancelable) e.preventDefault();\n    image.isTouched = true;\n    image.touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n    image.touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n  }\n\n  function onTouchMove(e) {\n    const zoom = swiper.zoom;\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    swiper.allowClick = false;\n    if (!image.isTouched || !gesture.$slideEl) return;\n\n    if (!image.isMoved) {\n      image.width = gesture.$imageEl[0].offsetWidth;\n      image.height = gesture.$imageEl[0].offsetHeight;\n      image.startX = getTranslate(gesture.$imageWrapEl[0], 'x') || 0;\n      image.startY = getTranslate(gesture.$imageWrapEl[0], 'y') || 0;\n      gesture.slideWidth = gesture.$slideEl[0].offsetWidth;\n      gesture.slideHeight = gesture.$slideEl[0].offsetHeight;\n      gesture.$imageWrapEl.transition(0);\n    } // Define if we need image drag\n\n\n    const scaledWidth = image.width * zoom.scale;\n    const scaledHeight = image.height * zoom.scale;\n    if (scaledWidth < gesture.slideWidth && scaledHeight < gesture.slideHeight) return;\n    image.minX = Math.min(gesture.slideWidth / 2 - scaledWidth / 2, 0);\n    image.maxX = -image.minX;\n    image.minY = Math.min(gesture.slideHeight / 2 - scaledHeight / 2, 0);\n    image.maxY = -image.minY;\n    image.touchesCurrent.x = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n    image.touchesCurrent.y = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n\n    if (!image.isMoved && !isScaling) {\n      if (swiper.isHorizontal() && (Math.floor(image.minX) === Math.floor(image.startX) && image.touchesCurrent.x < image.touchesStart.x || Math.floor(image.maxX) === Math.floor(image.startX) && image.touchesCurrent.x > image.touchesStart.x)) {\n        image.isTouched = false;\n        return;\n      }\n\n      if (!swiper.isHorizontal() && (Math.floor(image.minY) === Math.floor(image.startY) && image.touchesCurrent.y < image.touchesStart.y || Math.floor(image.maxY) === Math.floor(image.startY) && image.touchesCurrent.y > image.touchesStart.y)) {\n        image.isTouched = false;\n        return;\n      }\n    }\n\n    if (e.cancelable) {\n      e.preventDefault();\n    }\n\n    e.stopPropagation();\n    image.isMoved = true;\n    image.currentX = image.touchesCurrent.x - image.touchesStart.x + image.startX;\n    image.currentY = image.touchesCurrent.y - image.touchesStart.y + image.startY;\n\n    if (image.currentX < image.minX) {\n      image.currentX = image.minX + 1 - (image.minX - image.currentX + 1) ** 0.8;\n    }\n\n    if (image.currentX > image.maxX) {\n      image.currentX = image.maxX - 1 + (image.currentX - image.maxX + 1) ** 0.8;\n    }\n\n    if (image.currentY < image.minY) {\n      image.currentY = image.minY + 1 - (image.minY - image.currentY + 1) ** 0.8;\n    }\n\n    if (image.currentY > image.maxY) {\n      image.currentY = image.maxY - 1 + (image.currentY - image.maxY + 1) ** 0.8;\n    } // Velocity\n\n\n    if (!velocity.prevPositionX) velocity.prevPositionX = image.touchesCurrent.x;\n    if (!velocity.prevPositionY) velocity.prevPositionY = image.touchesCurrent.y;\n    if (!velocity.prevTime) velocity.prevTime = Date.now();\n    velocity.x = (image.touchesCurrent.x - velocity.prevPositionX) / (Date.now() - velocity.prevTime) / 2;\n    velocity.y = (image.touchesCurrent.y - velocity.prevPositionY) / (Date.now() - velocity.prevTime) / 2;\n    if (Math.abs(image.touchesCurrent.x - velocity.prevPositionX) < 2) velocity.x = 0;\n    if (Math.abs(image.touchesCurrent.y - velocity.prevPositionY) < 2) velocity.y = 0;\n    velocity.prevPositionX = image.touchesCurrent.x;\n    velocity.prevPositionY = image.touchesCurrent.y;\n    velocity.prevTime = Date.now();\n    gesture.$imageWrapEl.transform(`translate3d(${image.currentX}px, ${image.currentY}px,0)`);\n  }\n\n  function onTouchEnd() {\n    const zoom = swiper.zoom;\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n\n    if (!image.isTouched || !image.isMoved) {\n      image.isTouched = false;\n      image.isMoved = false;\n      return;\n    }\n\n    image.isTouched = false;\n    image.isMoved = false;\n    let momentumDurationX = 300;\n    let momentumDurationY = 300;\n    const momentumDistanceX = velocity.x * momentumDurationX;\n    const newPositionX = image.currentX + momentumDistanceX;\n    const momentumDistanceY = velocity.y * momentumDurationY;\n    const newPositionY = image.currentY + momentumDistanceY; // Fix duration\n\n    if (velocity.x !== 0) momentumDurationX = Math.abs((newPositionX - image.currentX) / velocity.x);\n    if (velocity.y !== 0) momentumDurationY = Math.abs((newPositionY - image.currentY) / velocity.y);\n    const momentumDuration = Math.max(momentumDurationX, momentumDurationY);\n    image.currentX = newPositionX;\n    image.currentY = newPositionY; // Define if we need image drag\n\n    const scaledWidth = image.width * zoom.scale;\n    const scaledHeight = image.height * zoom.scale;\n    image.minX = Math.min(gesture.slideWidth / 2 - scaledWidth / 2, 0);\n    image.maxX = -image.minX;\n    image.minY = Math.min(gesture.slideHeight / 2 - scaledHeight / 2, 0);\n    image.maxY = -image.minY;\n    image.currentX = Math.max(Math.min(image.currentX, image.maxX), image.minX);\n    image.currentY = Math.max(Math.min(image.currentY, image.maxY), image.minY);\n    gesture.$imageWrapEl.transition(momentumDuration).transform(`translate3d(${image.currentX}px, ${image.currentY}px,0)`);\n  }\n\n  function onTransitionEnd() {\n    const zoom = swiper.zoom;\n\n    if (gesture.$slideEl && swiper.previousIndex !== swiper.activeIndex) {\n      if (gesture.$imageEl) {\n        gesture.$imageEl.transform('translate3d(0,0,0) scale(1)');\n      }\n\n      if (gesture.$imageWrapEl) {\n        gesture.$imageWrapEl.transform('translate3d(0,0,0)');\n      }\n\n      zoom.scale = 1;\n      currentScale = 1;\n      gesture.$slideEl = undefined;\n      gesture.$imageEl = undefined;\n      gesture.$imageWrapEl = undefined;\n    }\n  }\n\n  function zoomIn(e) {\n    const zoom = swiper.zoom;\n    const params = swiper.params.zoom;\n\n    if (!gesture.$slideEl) {\n      if (e && e.target) {\n        gesture.$slideEl = $(e.target).closest(`.${swiper.params.slideClass}`);\n      }\n\n      if (!gesture.$slideEl) {\n        if (swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual) {\n          gesture.$slideEl = swiper.$wrapperEl.children(`.${swiper.params.slideActiveClass}`);\n        } else {\n          gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n        }\n      }\n\n      gesture.$imageEl = gesture.$slideEl.find(`.${params.containerClass}`).eq(0).find('picture, img, svg, canvas, .swiper-zoom-target').eq(0);\n      gesture.$imageWrapEl = gesture.$imageEl.parent(`.${params.containerClass}`);\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0 || !gesture.$imageWrapEl || gesture.$imageWrapEl.length === 0) return;\n\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.style.overflow = 'hidden';\n      swiper.wrapperEl.style.touchAction = 'none';\n    }\n\n    gesture.$slideEl.addClass(`${params.zoomedSlideClass}`);\n    let touchX;\n    let touchY;\n    let offsetX;\n    let offsetY;\n    let diffX;\n    let diffY;\n    let translateX;\n    let translateY;\n    let imageWidth;\n    let imageHeight;\n    let scaledWidth;\n    let scaledHeight;\n    let translateMinX;\n    let translateMinY;\n    let translateMaxX;\n    let translateMaxY;\n    let slideWidth;\n    let slideHeight;\n\n    if (typeof image.touchesStart.x === 'undefined' && e) {\n      touchX = e.type === 'touchend' ? e.changedTouches[0].pageX : e.pageX;\n      touchY = e.type === 'touchend' ? e.changedTouches[0].pageY : e.pageY;\n    } else {\n      touchX = image.touchesStart.x;\n      touchY = image.touchesStart.y;\n    }\n\n    zoom.scale = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n    currentScale = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n\n    if (e) {\n      slideWidth = gesture.$slideEl[0].offsetWidth;\n      slideHeight = gesture.$slideEl[0].offsetHeight;\n      offsetX = gesture.$slideEl.offset().left + window.scrollX;\n      offsetY = gesture.$slideEl.offset().top + window.scrollY;\n      diffX = offsetX + slideWidth / 2 - touchX;\n      diffY = offsetY + slideHeight / 2 - touchY;\n      imageWidth = gesture.$imageEl[0].offsetWidth;\n      imageHeight = gesture.$imageEl[0].offsetHeight;\n      scaledWidth = imageWidth * zoom.scale;\n      scaledHeight = imageHeight * zoom.scale;\n      translateMinX = Math.min(slideWidth / 2 - scaledWidth / 2, 0);\n      translateMinY = Math.min(slideHeight / 2 - scaledHeight / 2, 0);\n      translateMaxX = -translateMinX;\n      translateMaxY = -translateMinY;\n      translateX = diffX * zoom.scale;\n      translateY = diffY * zoom.scale;\n\n      if (translateX < translateMinX) {\n        translateX = translateMinX;\n      }\n\n      if (translateX > translateMaxX) {\n        translateX = translateMaxX;\n      }\n\n      if (translateY < translateMinY) {\n        translateY = translateMinY;\n      }\n\n      if (translateY > translateMaxY) {\n        translateY = translateMaxY;\n      }\n    } else {\n      translateX = 0;\n      translateY = 0;\n    }\n\n    gesture.$imageWrapEl.transition(300).transform(`translate3d(${translateX}px, ${translateY}px,0)`);\n    gesture.$imageEl.transition(300).transform(`translate3d(0,0,0) scale(${zoom.scale})`);\n  }\n\n  function zoomOut() {\n    const zoom = swiper.zoom;\n    const params = swiper.params.zoom;\n\n    if (!gesture.$slideEl) {\n      if (swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual) {\n        gesture.$slideEl = swiper.$wrapperEl.children(`.${swiper.params.slideActiveClass}`);\n      } else {\n        gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n      }\n\n      gesture.$imageEl = gesture.$slideEl.find(`.${params.containerClass}`).eq(0).find('picture, img, svg, canvas, .swiper-zoom-target').eq(0);\n      gesture.$imageWrapEl = gesture.$imageEl.parent(`.${params.containerClass}`);\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0 || !gesture.$imageWrapEl || gesture.$imageWrapEl.length === 0) return;\n\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.style.overflow = '';\n      swiper.wrapperEl.style.touchAction = '';\n    }\n\n    zoom.scale = 1;\n    currentScale = 1;\n    gesture.$imageWrapEl.transition(300).transform('translate3d(0,0,0)');\n    gesture.$imageEl.transition(300).transform('translate3d(0,0,0) scale(1)');\n    gesture.$slideEl.removeClass(`${params.zoomedSlideClass}`);\n    gesture.$slideEl = undefined;\n  } // Toggle Zoom\n\n\n  function zoomToggle(e) {\n    const zoom = swiper.zoom;\n\n    if (zoom.scale && zoom.scale !== 1) {\n      // Zoom Out\n      zoomOut();\n    } else {\n      // Zoom In\n      zoomIn(e);\n    }\n  }\n\n  function getListeners() {\n    const support = swiper.support;\n    const passiveListener = swiper.touchEvents.start === 'touchstart' && support.passiveListener && swiper.params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    const activeListenerWithCapture = support.passiveListener ? {\n      passive: false,\n      capture: true\n    } : true;\n    return {\n      passiveListener,\n      activeListenerWithCapture\n    };\n  }\n\n  function getSlideSelector() {\n    return `.${swiper.params.slideClass}`;\n  }\n\n  function toggleGestures(method) {\n    const {\n      passiveListener\n    } = getListeners();\n    const slideSelector = getSlideSelector();\n    swiper.$wrapperEl[method]('gesturestart', slideSelector, onGestureStart, passiveListener);\n    swiper.$wrapperEl[method]('gesturechange', slideSelector, onGestureChange, passiveListener);\n    swiper.$wrapperEl[method]('gestureend', slideSelector, onGestureEnd, passiveListener);\n  }\n\n  function enableGestures() {\n    if (gesturesEnabled) return;\n    gesturesEnabled = true;\n    toggleGestures('on');\n  }\n\n  function disableGestures() {\n    if (!gesturesEnabled) return;\n    gesturesEnabled = false;\n    toggleGestures('off');\n  } // Attach/Detach Events\n\n\n  function enable() {\n    const zoom = swiper.zoom;\n    if (zoom.enabled) return;\n    zoom.enabled = true;\n    const support = swiper.support;\n    const {\n      passiveListener,\n      activeListenerWithCapture\n    } = getListeners();\n    const slideSelector = getSlideSelector(); // Scale image\n\n    if (support.gestures) {\n      swiper.$wrapperEl.on(swiper.touchEvents.start, enableGestures, passiveListener);\n      swiper.$wrapperEl.on(swiper.touchEvents.end, disableGestures, passiveListener);\n    } else if (swiper.touchEvents.start === 'touchstart') {\n      swiper.$wrapperEl.on(swiper.touchEvents.start, slideSelector, onGestureStart, passiveListener);\n      swiper.$wrapperEl.on(swiper.touchEvents.move, slideSelector, onGestureChange, activeListenerWithCapture);\n      swiper.$wrapperEl.on(swiper.touchEvents.end, slideSelector, onGestureEnd, passiveListener);\n\n      if (swiper.touchEvents.cancel) {\n        swiper.$wrapperEl.on(swiper.touchEvents.cancel, slideSelector, onGestureEnd, passiveListener);\n      }\n    } // Move image\n\n\n    swiper.$wrapperEl.on(swiper.touchEvents.move, `.${swiper.params.zoom.containerClass}`, onTouchMove, activeListenerWithCapture);\n  }\n\n  function disable() {\n    const zoom = swiper.zoom;\n    if (!zoom.enabled) return;\n    const support = swiper.support;\n    zoom.enabled = false;\n    const {\n      passiveListener,\n      activeListenerWithCapture\n    } = getListeners();\n    const slideSelector = getSlideSelector(); // Scale image\n\n    if (support.gestures) {\n      swiper.$wrapperEl.off(swiper.touchEvents.start, enableGestures, passiveListener);\n      swiper.$wrapperEl.off(swiper.touchEvents.end, disableGestures, passiveListener);\n    } else if (swiper.touchEvents.start === 'touchstart') {\n      swiper.$wrapperEl.off(swiper.touchEvents.start, slideSelector, onGestureStart, passiveListener);\n      swiper.$wrapperEl.off(swiper.touchEvents.move, slideSelector, onGestureChange, activeListenerWithCapture);\n      swiper.$wrapperEl.off(swiper.touchEvents.end, slideSelector, onGestureEnd, passiveListener);\n\n      if (swiper.touchEvents.cancel) {\n        swiper.$wrapperEl.off(swiper.touchEvents.cancel, slideSelector, onGestureEnd, passiveListener);\n      }\n    } // Move image\n\n\n    swiper.$wrapperEl.off(swiper.touchEvents.move, `.${swiper.params.zoom.containerClass}`, onTouchMove, activeListenerWithCapture);\n  }\n\n  on('init', () => {\n    if (swiper.params.zoom.enabled) {\n      enable();\n    }\n  });\n  on('destroy', () => {\n    disable();\n  });\n  on('touchStart', (_s, e) => {\n    if (!swiper.zoom.enabled) return;\n    onTouchStart(e);\n  });\n  on('touchEnd', (_s, e) => {\n    if (!swiper.zoom.enabled) return;\n    onTouchEnd(e);\n  });\n  on('doubleTap', (_s, e) => {\n    if (!swiper.animating && swiper.params.zoom.enabled && swiper.zoom.enabled && swiper.params.zoom.toggle) {\n      zoomToggle(e);\n    }\n  });\n  on('transitionEnd', () => {\n    if (swiper.zoom.enabled && swiper.params.zoom.enabled) {\n      onTransitionEnd();\n    }\n  });\n  on('slideChange', () => {\n    if (swiper.zoom.enabled && swiper.params.zoom.enabled && swiper.params.cssMode) {\n      onTransitionEnd();\n    }\n  });\n  Object.assign(swiper.zoom, {\n    enable,\n    disable,\n    in: zoomIn,\n    out: zoomOut,\n    toggle: zoomToggle\n  });\n}","import { getWindow } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nexport default function Lazy(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on,\n    emit\n  } = _ref;\n  extendParams({\n    lazy: {\n      checkInView: false,\n      enabled: false,\n      loadPrevNext: false,\n      loadPrevNextAmount: 1,\n      loadOnTransitionStart: false,\n      scrollingElement: '',\n      elementClass: 'swiper-lazy',\n      loadingClass: 'swiper-lazy-loading',\n      loadedClass: 'swiper-lazy-loaded',\n      preloaderClass: 'swiper-lazy-preloader'\n    }\n  });\n  swiper.lazy = {};\n  let scrollHandlerAttached = false;\n  let initialImageLoaded = false;\n\n  function loadInSlide(index, loadInDuplicate) {\n    if (loadInDuplicate === void 0) {\n      loadInDuplicate = true;\n    }\n\n    const params = swiper.params.lazy;\n    if (typeof index === 'undefined') return;\n    if (swiper.slides.length === 0) return;\n    const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n    const $slideEl = isVirtual ? swiper.$wrapperEl.children(`.${swiper.params.slideClass}[data-swiper-slide-index=\"${index}\"]`) : swiper.slides.eq(index);\n    const $images = $slideEl.find(`.${params.elementClass}:not(.${params.loadedClass}):not(.${params.loadingClass})`);\n\n    if ($slideEl.hasClass(params.elementClass) && !$slideEl.hasClass(params.loadedClass) && !$slideEl.hasClass(params.loadingClass)) {\n      $images.push($slideEl[0]);\n    }\n\n    if ($images.length === 0) return;\n    $images.each(imageEl => {\n      const $imageEl = $(imageEl);\n      $imageEl.addClass(params.loadingClass);\n      const background = $imageEl.attr('data-background');\n      const src = $imageEl.attr('data-src');\n      const srcset = $imageEl.attr('data-srcset');\n      const sizes = $imageEl.attr('data-sizes');\n      const $pictureEl = $imageEl.parent('picture');\n      swiper.loadImage($imageEl[0], src || background, srcset, sizes, false, () => {\n        if (typeof swiper === 'undefined' || swiper === null || !swiper || swiper && !swiper.params || swiper.destroyed) return;\n\n        if (background) {\n          $imageEl.css('background-image', `url(\"${background}\")`);\n          $imageEl.removeAttr('data-background');\n        } else {\n          if (srcset) {\n            $imageEl.attr('srcset', srcset);\n            $imageEl.removeAttr('data-srcset');\n          }\n\n          if (sizes) {\n            $imageEl.attr('sizes', sizes);\n            $imageEl.removeAttr('data-sizes');\n          }\n\n          if ($pictureEl.length) {\n            $pictureEl.children('source').each(sourceEl => {\n              const $source = $(sourceEl);\n\n              if ($source.attr('data-srcset')) {\n                $source.attr('srcset', $source.attr('data-srcset'));\n                $source.removeAttr('data-srcset');\n              }\n            });\n          }\n\n          if (src) {\n            $imageEl.attr('src', src);\n            $imageEl.removeAttr('data-src');\n          }\n        }\n\n        $imageEl.addClass(params.loadedClass).removeClass(params.loadingClass);\n        $slideEl.find(`.${params.preloaderClass}`).remove();\n\n        if (swiper.params.loop && loadInDuplicate) {\n          const slideOriginalIndex = $slideEl.attr('data-swiper-slide-index');\n\n          if ($slideEl.hasClass(swiper.params.slideDuplicateClass)) {\n            const originalSlide = swiper.$wrapperEl.children(`[data-swiper-slide-index=\"${slideOriginalIndex}\"]:not(.${swiper.params.slideDuplicateClass})`);\n            loadInSlide(originalSlide.index(), false);\n          } else {\n            const duplicatedSlide = swiper.$wrapperEl.children(`.${swiper.params.slideDuplicateClass}[data-swiper-slide-index=\"${slideOriginalIndex}\"]`);\n            loadInSlide(duplicatedSlide.index(), false);\n          }\n        }\n\n        emit('lazyImageReady', $slideEl[0], $imageEl[0]);\n\n        if (swiper.params.autoHeight) {\n          swiper.updateAutoHeight();\n        }\n      });\n      emit('lazyImageLoad', $slideEl[0], $imageEl[0]);\n    });\n  }\n\n  function load() {\n    const {\n      $wrapperEl,\n      params: swiperParams,\n      slides,\n      activeIndex\n    } = swiper;\n    const isVirtual = swiper.virtual && swiperParams.virtual.enabled;\n    const params = swiperParams.lazy;\n    let slidesPerView = swiperParams.slidesPerView;\n\n    if (slidesPerView === 'auto') {\n      slidesPerView = 0;\n    }\n\n    function slideExist(index) {\n      if (isVirtual) {\n        if ($wrapperEl.children(`.${swiperParams.slideClass}[data-swiper-slide-index=\"${index}\"]`).length) {\n          return true;\n        }\n      } else if (slides[index]) return true;\n\n      return false;\n    }\n\n    function slideIndex(slideEl) {\n      if (isVirtual) {\n        return $(slideEl).attr('data-swiper-slide-index');\n      }\n\n      return $(slideEl).index();\n    }\n\n    if (!initialImageLoaded) initialImageLoaded = true;\n\n    if (swiper.params.watchSlidesProgress) {\n      $wrapperEl.children(`.${swiperParams.slideVisibleClass}`).each(slideEl => {\n        const index = isVirtual ? $(slideEl).attr('data-swiper-slide-index') : $(slideEl).index();\n        loadInSlide(index);\n      });\n    } else if (slidesPerView > 1) {\n      for (let i = activeIndex; i < activeIndex + slidesPerView; i += 1) {\n        if (slideExist(i)) loadInSlide(i);\n      }\n    } else {\n      loadInSlide(activeIndex);\n    }\n\n    if (params.loadPrevNext) {\n      if (slidesPerView > 1 || params.loadPrevNextAmount && params.loadPrevNextAmount > 1) {\n        const amount = params.loadPrevNextAmount;\n        const spv = Math.ceil(slidesPerView);\n        const maxIndex = Math.min(activeIndex + spv + Math.max(amount, spv), slides.length);\n        const minIndex = Math.max(activeIndex - Math.max(spv, amount), 0); // Next Slides\n\n        for (let i = activeIndex + spv; i < maxIndex; i += 1) {\n          if (slideExist(i)) loadInSlide(i);\n        } // Prev Slides\n\n\n        for (let i = minIndex; i < activeIndex; i += 1) {\n          if (slideExist(i)) loadInSlide(i);\n        }\n      } else {\n        const nextSlide = $wrapperEl.children(`.${swiperParams.slideNextClass}`);\n        if (nextSlide.length > 0) loadInSlide(slideIndex(nextSlide));\n        const prevSlide = $wrapperEl.children(`.${swiperParams.slidePrevClass}`);\n        if (prevSlide.length > 0) loadInSlide(slideIndex(prevSlide));\n      }\n    }\n  }\n\n  function checkInViewOnLoad() {\n    const window = getWindow();\n    if (!swiper || swiper.destroyed) return;\n    const $scrollElement = swiper.params.lazy.scrollingElement ? $(swiper.params.lazy.scrollingElement) : $(window);\n    const isWindow = $scrollElement[0] === window;\n    const scrollElementWidth = isWindow ? window.innerWidth : $scrollElement[0].offsetWidth;\n    const scrollElementHeight = isWindow ? window.innerHeight : $scrollElement[0].offsetHeight;\n    const swiperOffset = swiper.$el.offset();\n    const {\n      rtlTranslate: rtl\n    } = swiper;\n    let inView = false;\n    if (rtl) swiperOffset.left -= swiper.$el[0].scrollLeft;\n    const swiperCoord = [[swiperOffset.left, swiperOffset.top], [swiperOffset.left + swiper.width, swiperOffset.top], [swiperOffset.left, swiperOffset.top + swiper.height], [swiperOffset.left + swiper.width, swiperOffset.top + swiper.height]];\n\n    for (let i = 0; i < swiperCoord.length; i += 1) {\n      const point = swiperCoord[i];\n\n      if (point[0] >= 0 && point[0] <= scrollElementWidth && point[1] >= 0 && point[1] <= scrollElementHeight) {\n        if (point[0] === 0 && point[1] === 0) continue; // eslint-disable-line\n\n        inView = true;\n      }\n    }\n\n    const passiveListener = swiper.touchEvents.start === 'touchstart' && swiper.support.passiveListener && swiper.params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n\n    if (inView) {\n      load();\n      $scrollElement.off('scroll', checkInViewOnLoad, passiveListener);\n    } else if (!scrollHandlerAttached) {\n      scrollHandlerAttached = true;\n      $scrollElement.on('scroll', checkInViewOnLoad, passiveListener);\n    }\n  }\n\n  on('beforeInit', () => {\n    if (swiper.params.lazy.enabled && swiper.params.preloadImages) {\n      swiper.params.preloadImages = false;\n    }\n  });\n  on('init', () => {\n    if (swiper.params.lazy.enabled) {\n      if (swiper.params.lazy.checkInView) {\n        checkInViewOnLoad();\n      } else {\n        load();\n      }\n    }\n  });\n  on('scroll', () => {\n    if (swiper.params.freeMode && swiper.params.freeMode.enabled && !swiper.params.freeMode.sticky) {\n      load();\n    }\n  });\n  on('scrollbarDragMove resize _freeModeNoMomentumRelease', () => {\n    if (swiper.params.lazy.enabled) {\n      if (swiper.params.lazy.checkInView) {\n        checkInViewOnLoad();\n      } else {\n        load();\n      }\n    }\n  });\n  on('transitionStart', () => {\n    if (swiper.params.lazy.enabled) {\n      if (swiper.params.lazy.loadOnTransitionStart || !swiper.params.lazy.loadOnTransitionStart && !initialImageLoaded) {\n        if (swiper.params.lazy.checkInView) {\n          checkInViewOnLoad();\n        } else {\n          load();\n        }\n      }\n    }\n  });\n  on('transitionEnd', () => {\n    if (swiper.params.lazy.enabled && !swiper.params.lazy.loadOnTransitionStart) {\n      if (swiper.params.lazy.checkInView) {\n        checkInViewOnLoad();\n      } else {\n        load();\n      }\n    }\n  });\n  on('slideChange', () => {\n    const {\n      lazy,\n      cssMode,\n      watchSlidesProgress,\n      touchReleaseOnEdges,\n      resistanceRatio\n    } = swiper.params;\n\n    if (lazy.enabled && (cssMode || watchSlidesProgress && (touchReleaseOnEdges || resistanceRatio === 0))) {\n      load();\n    }\n  });\n  on('destroy', () => {\n    if (!swiper.$el) return;\n    swiper.$el.find(`.${swiper.params.lazy.loadingClass}`).removeClass(swiper.params.lazy.loadingClass);\n  });\n  Object.assign(swiper.lazy, {\n    load,\n    loadInSlide\n  });\n}","/* eslint no-bitwise: [\"error\", { \"allow\": [\">>\"] }] */\nimport { nextTick } from '../../shared/utils.js';\nexport default function Controller(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on\n  } = _ref;\n  extendParams({\n    controller: {\n      control: undefined,\n      inverse: false,\n      by: 'slide' // or 'container'\n\n    }\n  });\n  swiper.controller = {\n    control: undefined\n  };\n\n  function LinearSpline(x, y) {\n    const binarySearch = function search() {\n      let maxIndex;\n      let minIndex;\n      let guess;\n      return (array, val) => {\n        minIndex = -1;\n        maxIndex = array.length;\n\n        while (maxIndex - minIndex > 1) {\n          guess = maxIndex + minIndex >> 1;\n\n          if (array[guess] <= val) {\n            minIndex = guess;\n          } else {\n            maxIndex = guess;\n          }\n        }\n\n        return maxIndex;\n      };\n    }();\n\n    this.x = x;\n    this.y = y;\n    this.lastIndex = x.length - 1; // Given an x value (x2), return the expected y2 value:\n    // (x1,y1) is the known point before given value,\n    // (x3,y3) is the known point after given value.\n\n    let i1;\n    let i3;\n\n    this.interpolate = function interpolate(x2) {\n      if (!x2) return 0; // Get the indexes of x1 and x3 (the array indexes before and after given x2):\n\n      i3 = binarySearch(this.x, x2);\n      i1 = i3 - 1; // We have our indexes i1 & i3, so we can calculate already:\n      // y2 := ((x2−x1) × (y3−y1)) ÷ (x3−x1) + y1\n\n      return (x2 - this.x[i1]) * (this.y[i3] - this.y[i1]) / (this.x[i3] - this.x[i1]) + this.y[i1];\n    };\n\n    return this;\n  } // xxx: for now i will just save one spline function to to\n\n\n  function getInterpolateFunction(c) {\n    if (!swiper.controller.spline) {\n      swiper.controller.spline = swiper.params.loop ? new LinearSpline(swiper.slidesGrid, c.slidesGrid) : new LinearSpline(swiper.snapGrid, c.snapGrid);\n    }\n  }\n\n  function setTranslate(_t, byController) {\n    const controlled = swiper.controller.control;\n    let multiplier;\n    let controlledTranslate;\n    const Swiper = swiper.constructor;\n\n    function setControlledTranslate(c) {\n      // this will create an Interpolate function based on the snapGrids\n      // x is the Grid of the scrolled scroller and y will be the controlled scroller\n      // it makes sense to create this only once and recall it for the interpolation\n      // the function does a lot of value caching for performance\n      const translate = swiper.rtlTranslate ? -swiper.translate : swiper.translate;\n\n      if (swiper.params.controller.by === 'slide') {\n        getInterpolateFunction(c); // i am not sure why the values have to be multiplicated this way, tried to invert the snapGrid\n        // but it did not work out\n\n        controlledTranslate = -swiper.controller.spline.interpolate(-translate);\n      }\n\n      if (!controlledTranslate || swiper.params.controller.by === 'container') {\n        multiplier = (c.maxTranslate() - c.minTranslate()) / (swiper.maxTranslate() - swiper.minTranslate());\n        controlledTranslate = (translate - swiper.minTranslate()) * multiplier + c.minTranslate();\n      }\n\n      if (swiper.params.controller.inverse) {\n        controlledTranslate = c.maxTranslate() - controlledTranslate;\n      }\n\n      c.updateProgress(controlledTranslate);\n      c.setTranslate(controlledTranslate, swiper);\n      c.updateActiveIndex();\n      c.updateSlidesClasses();\n    }\n\n    if (Array.isArray(controlled)) {\n      for (let i = 0; i < controlled.length; i += 1) {\n        if (controlled[i] !== byController && controlled[i] instanceof Swiper) {\n          setControlledTranslate(controlled[i]);\n        }\n      }\n    } else if (controlled instanceof Swiper && byController !== controlled) {\n      setControlledTranslate(controlled);\n    }\n  }\n\n  function setTransition(duration, byController) {\n    const Swiper = swiper.constructor;\n    const controlled = swiper.controller.control;\n    let i;\n\n    function setControlledTransition(c) {\n      c.setTransition(duration, swiper);\n\n      if (duration !== 0) {\n        c.transitionStart();\n\n        if (c.params.autoHeight) {\n          nextTick(() => {\n            c.updateAutoHeight();\n          });\n        }\n\n        c.$wrapperEl.transitionEnd(() => {\n          if (!controlled) return;\n\n          if (c.params.loop && swiper.params.controller.by === 'slide') {\n            c.loopFix();\n          }\n\n          c.transitionEnd();\n        });\n      }\n    }\n\n    if (Array.isArray(controlled)) {\n      for (i = 0; i < controlled.length; i += 1) {\n        if (controlled[i] !== byController && controlled[i] instanceof Swiper) {\n          setControlledTransition(controlled[i]);\n        }\n      }\n    } else if (controlled instanceof Swiper && byController !== controlled) {\n      setControlledTransition(controlled);\n    }\n  }\n\n  function removeSpline() {\n    if (!swiper.controller.control) return;\n\n    if (swiper.controller.spline) {\n      swiper.controller.spline = undefined;\n      delete swiper.controller.spline;\n    }\n  }\n\n  on('beforeInit', () => {\n    swiper.controller.control = swiper.params.controller.control;\n  });\n  on('update', () => {\n    removeSpline();\n  });\n  on('resize', () => {\n    removeSpline();\n  });\n  on('observerUpdate', () => {\n    removeSpline();\n  });\n  on('setTranslate', (_s, translate, byController) => {\n    if (!swiper.controller.control) return;\n    swiper.controller.setTranslate(translate, byController);\n  });\n  on('setTransition', (_s, duration, byController) => {\n    if (!swiper.controller.control) return;\n    swiper.controller.setTransition(duration, byController);\n  });\n  Object.assign(swiper.controller, {\n    setTranslate,\n    setTransition\n  });\n}","import classesToSelector from '../../shared/classes-to-selector.js';\nimport $ from '../../shared/dom.js';\nexport default function A11y(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on\n  } = _ref;\n  extendParams({\n    a11y: {\n      enabled: true,\n      notificationClass: 'swiper-notification',\n      prevSlideMessage: 'Previous slide',\n      nextSlideMessage: 'Next slide',\n      firstSlideMessage: 'This is the first slide',\n      lastSlideMessage: 'This is the last slide',\n      paginationBulletMessage: 'Go to slide {{index}}',\n      slideLabelMessage: '{{index}} / {{slidesLength}}',\n      containerMessage: null,\n      containerRoleDescriptionMessage: null,\n      itemRoleDescriptionMessage: null,\n      slideRole: 'group',\n      id: null\n    }\n  });\n  let liveRegion = null;\n\n  function notify(message) {\n    const notification = liveRegion;\n    if (notification.length === 0) return;\n    notification.html('');\n    notification.html(message);\n  }\n\n  function getRandomNumber(size) {\n    if (size === void 0) {\n      size = 16;\n    }\n\n    const randomChar = () => Math.round(16 * Math.random()).toString(16);\n\n    return 'x'.repeat(size).replace(/x/g, randomChar);\n  }\n\n  function makeElFocusable($el) {\n    $el.attr('tabIndex', '0');\n  }\n\n  function makeElNotFocusable($el) {\n    $el.attr('tabIndex', '-1');\n  }\n\n  function addElRole($el, role) {\n    $el.attr('role', role);\n  }\n\n  function addElRoleDescription($el, description) {\n    $el.attr('aria-roledescription', description);\n  }\n\n  function addElControls($el, controls) {\n    $el.attr('aria-controls', controls);\n  }\n\n  function addElLabel($el, label) {\n    $el.attr('aria-label', label);\n  }\n\n  function addElId($el, id) {\n    $el.attr('id', id);\n  }\n\n  function addElLive($el, live) {\n    $el.attr('aria-live', live);\n  }\n\n  function disableEl($el) {\n    $el.attr('aria-disabled', true);\n  }\n\n  function enableEl($el) {\n    $el.attr('aria-disabled', false);\n  }\n\n  function onEnterOrSpaceKey(e) {\n    if (e.keyCode !== 13 && e.keyCode !== 32) return;\n    const params = swiper.params.a11y;\n    const $targetEl = $(e.target);\n\n    if (swiper.navigation && swiper.navigation.$nextEl && $targetEl.is(swiper.navigation.$nextEl)) {\n      if (!(swiper.isEnd && !swiper.params.loop)) {\n        swiper.slideNext();\n      }\n\n      if (swiper.isEnd) {\n        notify(params.lastSlideMessage);\n      } else {\n        notify(params.nextSlideMessage);\n      }\n    }\n\n    if (swiper.navigation && swiper.navigation.$prevEl && $targetEl.is(swiper.navigation.$prevEl)) {\n      if (!(swiper.isBeginning && !swiper.params.loop)) {\n        swiper.slidePrev();\n      }\n\n      if (swiper.isBeginning) {\n        notify(params.firstSlideMessage);\n      } else {\n        notify(params.prevSlideMessage);\n      }\n    }\n\n    if (swiper.pagination && $targetEl.is(classesToSelector(swiper.params.pagination.bulletClass))) {\n      $targetEl[0].click();\n    }\n  }\n\n  function updateNavigation() {\n    if (swiper.params.loop || swiper.params.rewind || !swiper.navigation) return;\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n\n    if ($prevEl && $prevEl.length > 0) {\n      if (swiper.isBeginning) {\n        disableEl($prevEl);\n        makeElNotFocusable($prevEl);\n      } else {\n        enableEl($prevEl);\n        makeElFocusable($prevEl);\n      }\n    }\n\n    if ($nextEl && $nextEl.length > 0) {\n      if (swiper.isEnd) {\n        disableEl($nextEl);\n        makeElNotFocusable($nextEl);\n      } else {\n        enableEl($nextEl);\n        makeElFocusable($nextEl);\n      }\n    }\n  }\n\n  function hasPagination() {\n    return swiper.pagination && swiper.pagination.bullets && swiper.pagination.bullets.length;\n  }\n\n  function hasClickablePagination() {\n    return hasPagination() && swiper.params.pagination.clickable;\n  }\n\n  function updatePagination() {\n    const params = swiper.params.a11y;\n    if (!hasPagination()) return;\n    swiper.pagination.bullets.each(bulletEl => {\n      const $bulletEl = $(bulletEl);\n\n      if (swiper.params.pagination.clickable) {\n        makeElFocusable($bulletEl);\n\n        if (!swiper.params.pagination.renderBullet) {\n          addElRole($bulletEl, 'button');\n          addElLabel($bulletEl, params.paginationBulletMessage.replace(/\\{\\{index\\}\\}/, $bulletEl.index() + 1));\n        }\n      }\n\n      if ($bulletEl.is(`.${swiper.params.pagination.bulletActiveClass}`)) {\n        $bulletEl.attr('aria-current', 'true');\n      } else {\n        $bulletEl.removeAttr('aria-current');\n      }\n    });\n  }\n\n  const initNavEl = ($el, wrapperId, message) => {\n    makeElFocusable($el);\n\n    if ($el[0].tagName !== 'BUTTON') {\n      addElRole($el, 'button');\n      $el.on('keydown', onEnterOrSpaceKey);\n    }\n\n    addElLabel($el, message);\n    addElControls($el, wrapperId);\n  };\n\n  const handleFocus = e => {\n    const slideEl = e.target.closest(`.${swiper.params.slideClass}`);\n    if (!slideEl || !swiper.slides.includes(slideEl)) return;\n    const isActive = swiper.slides.indexOf(slideEl) === swiper.activeIndex;\n    const isVisible = swiper.params.watchSlidesProgress && swiper.visibleSlides && swiper.visibleSlides.includes(slideEl);\n    if (isActive || isVisible) return;\n    swiper.slideTo(swiper.slides.indexOf(slideEl), 0);\n  };\n\n  const initSlides = () => {\n    const params = swiper.params.a11y;\n\n    if (params.itemRoleDescriptionMessage) {\n      addElRoleDescription($(swiper.slides), params.itemRoleDescriptionMessage);\n    }\n\n    if (params.slideRole) {\n      addElRole($(swiper.slides), params.slideRole);\n    }\n\n    const slidesLength = swiper.params.loop ? swiper.slides.filter(el => !el.classList.contains(swiper.params.slideDuplicateClass)).length : swiper.slides.length;\n\n    if (params.slideLabelMessage) {\n      swiper.slides.each((slideEl, index) => {\n        const $slideEl = $(slideEl);\n        const slideIndex = swiper.params.loop ? parseInt($slideEl.attr('data-swiper-slide-index'), 10) : index;\n        const ariaLabelMessage = params.slideLabelMessage.replace(/\\{\\{index\\}\\}/, slideIndex + 1).replace(/\\{\\{slidesLength\\}\\}/, slidesLength);\n        addElLabel($slideEl, ariaLabelMessage);\n      });\n    }\n  };\n\n  const init = () => {\n    const params = swiper.params.a11y;\n    swiper.$el.append(liveRegion); // Container\n\n    const $containerEl = swiper.$el;\n\n    if (params.containerRoleDescriptionMessage) {\n      addElRoleDescription($containerEl, params.containerRoleDescriptionMessage);\n    }\n\n    if (params.containerMessage) {\n      addElLabel($containerEl, params.containerMessage);\n    } // Wrapper\n\n\n    const $wrapperEl = swiper.$wrapperEl;\n    const wrapperId = params.id || $wrapperEl.attr('id') || `swiper-wrapper-${getRandomNumber(16)}`;\n    const live = swiper.params.autoplay && swiper.params.autoplay.enabled ? 'off' : 'polite';\n    addElId($wrapperEl, wrapperId);\n    addElLive($wrapperEl, live); // Slide\n\n    initSlides(); // Navigation\n\n    let $nextEl;\n    let $prevEl;\n\n    if (swiper.navigation && swiper.navigation.$nextEl) {\n      $nextEl = swiper.navigation.$nextEl;\n    }\n\n    if (swiper.navigation && swiper.navigation.$prevEl) {\n      $prevEl = swiper.navigation.$prevEl;\n    }\n\n    if ($nextEl && $nextEl.length) {\n      initNavEl($nextEl, wrapperId, params.nextSlideMessage);\n    }\n\n    if ($prevEl && $prevEl.length) {\n      initNavEl($prevEl, wrapperId, params.prevSlideMessage);\n    } // Pagination\n\n\n    if (hasClickablePagination()) {\n      swiper.pagination.$el.on('keydown', classesToSelector(swiper.params.pagination.bulletClass), onEnterOrSpaceKey);\n    } // Tab focus\n\n\n    swiper.$el.on('focus', handleFocus, true);\n  };\n\n  function destroy() {\n    if (liveRegion && liveRegion.length > 0) liveRegion.remove();\n    let $nextEl;\n    let $prevEl;\n\n    if (swiper.navigation && swiper.navigation.$nextEl) {\n      $nextEl = swiper.navigation.$nextEl;\n    }\n\n    if (swiper.navigation && swiper.navigation.$prevEl) {\n      $prevEl = swiper.navigation.$prevEl;\n    }\n\n    if ($nextEl) {\n      $nextEl.off('keydown', onEnterOrSpaceKey);\n    }\n\n    if ($prevEl) {\n      $prevEl.off('keydown', onEnterOrSpaceKey);\n    } // Pagination\n\n\n    if (hasClickablePagination()) {\n      swiper.pagination.$el.off('keydown', classesToSelector(swiper.params.pagination.bulletClass), onEnterOrSpaceKey);\n    } // Tab focus\n\n\n    swiper.$el.off('focus', handleFocus, true);\n  }\n\n  on('beforeInit', () => {\n    liveRegion = $(`<span class=\"${swiper.params.a11y.notificationClass}\" aria-live=\"assertive\" aria-atomic=\"true\"></span>`);\n  });\n  on('afterInit', () => {\n    if (!swiper.params.a11y.enabled) return;\n    init();\n  });\n  on('slidesLengthChange snapGridLengthChange slidesGridLengthChange', () => {\n    if (!swiper.params.a11y.enabled) return;\n    initSlides();\n  });\n  on('fromEdge toEdge afterInit lock unlock', () => {\n    if (!swiper.params.a11y.enabled) return;\n    updateNavigation();\n  });\n  on('paginationUpdate', () => {\n    if (!swiper.params.a11y.enabled) return;\n    updatePagination();\n  });\n  on('destroy', () => {\n    if (!swiper.params.a11y.enabled) return;\n    destroy();\n  });\n}","import { getWindow } from 'ssr-window';\nexport default function History(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on\n  } = _ref;\n  extendParams({\n    history: {\n      enabled: false,\n      root: '',\n      replaceState: false,\n      key: 'slides',\n      keepQuery: false\n    }\n  });\n  let initialized = false;\n  let paths = {};\n\n  const slugify = text => {\n    return text.toString().replace(/\\s+/g, '-').replace(/[^\\w-]+/g, '').replace(/--+/g, '-').replace(/^-+/, '').replace(/-+$/, '');\n  };\n\n  const getPathValues = urlOverride => {\n    const window = getWindow();\n    let location;\n\n    if (urlOverride) {\n      location = new URL(urlOverride);\n    } else {\n      location = window.location;\n    }\n\n    const pathArray = location.pathname.slice(1).split('/').filter(part => part !== '');\n    const total = pathArray.length;\n    const key = pathArray[total - 2];\n    const value = pathArray[total - 1];\n    return {\n      key,\n      value\n    };\n  };\n\n  const setHistory = (key, index) => {\n    const window = getWindow();\n    if (!initialized || !swiper.params.history.enabled) return;\n    let location;\n\n    if (swiper.params.url) {\n      location = new URL(swiper.params.url);\n    } else {\n      location = window.location;\n    }\n\n    const slide = swiper.slides.eq(index);\n    let value = slugify(slide.attr('data-history'));\n\n    if (swiper.params.history.root.length > 0) {\n      let root = swiper.params.history.root;\n      if (root[root.length - 1] === '/') root = root.slice(0, root.length - 1);\n      value = `${root}/${key}/${value}`;\n    } else if (!location.pathname.includes(key)) {\n      value = `${key}/${value}`;\n    }\n\n    if (swiper.params.history.keepQuery) {\n      value += location.search;\n    }\n\n    const currentState = window.history.state;\n\n    if (currentState && currentState.value === value) {\n      return;\n    }\n\n    if (swiper.params.history.replaceState) {\n      window.history.replaceState({\n        value\n      }, null, value);\n    } else {\n      window.history.pushState({\n        value\n      }, null, value);\n    }\n  };\n\n  const scrollToSlide = (speed, value, runCallbacks) => {\n    if (value) {\n      for (let i = 0, length = swiper.slides.length; i < length; i += 1) {\n        const slide = swiper.slides.eq(i);\n        const slideHistory = slugify(slide.attr('data-history'));\n\n        if (slideHistory === value && !slide.hasClass(swiper.params.slideDuplicateClass)) {\n          const index = slide.index();\n          swiper.slideTo(index, speed, runCallbacks);\n        }\n      }\n    } else {\n      swiper.slideTo(0, speed, runCallbacks);\n    }\n  };\n\n  const setHistoryPopState = () => {\n    paths = getPathValues(swiper.params.url);\n    scrollToSlide(swiper.params.speed, paths.value, false);\n  };\n\n  const init = () => {\n    const window = getWindow();\n    if (!swiper.params.history) return;\n\n    if (!window.history || !window.history.pushState) {\n      swiper.params.history.enabled = false;\n      swiper.params.hashNavigation.enabled = true;\n      return;\n    }\n\n    initialized = true;\n    paths = getPathValues(swiper.params.url);\n    if (!paths.key && !paths.value) return;\n    scrollToSlide(0, paths.value, swiper.params.runCallbacksOnInit);\n\n    if (!swiper.params.history.replaceState) {\n      window.addEventListener('popstate', setHistoryPopState);\n    }\n  };\n\n  const destroy = () => {\n    const window = getWindow();\n\n    if (!swiper.params.history.replaceState) {\n      window.removeEventListener('popstate', setHistoryPopState);\n    }\n  };\n\n  on('init', () => {\n    if (swiper.params.history.enabled) {\n      init();\n    }\n  });\n  on('destroy', () => {\n    if (swiper.params.history.enabled) {\n      destroy();\n    }\n  });\n  on('transitionEnd _freeModeNoMomentumRelease', () => {\n    if (initialized) {\n      setHistory(swiper.params.history.key, swiper.activeIndex);\n    }\n  });\n  on('slideChange', () => {\n    if (initialized && swiper.params.cssMode) {\n      setHistory(swiper.params.history.key, swiper.activeIndex);\n    }\n  });\n}","import { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nexport default function HashNavigation(_ref) {\n  let {\n    swiper,\n    extendParams,\n    emit,\n    on\n  } = _ref;\n  let initialized = false;\n  const document = getDocument();\n  const window = getWindow();\n  extendParams({\n    hashNavigation: {\n      enabled: false,\n      replaceState: false,\n      watchState: false\n    }\n  });\n\n  const onHashChange = () => {\n    emit('hashChange');\n    const newHash = document.location.hash.replace('#', '');\n    const activeSlideHash = swiper.slides.eq(swiper.activeIndex).attr('data-hash');\n\n    if (newHash !== activeSlideHash) {\n      const newIndex = swiper.$wrapperEl.children(`.${swiper.params.slideClass}[data-hash=\"${newHash}\"]`).index();\n      if (typeof newIndex === 'undefined') return;\n      swiper.slideTo(newIndex);\n    }\n  };\n\n  const setHash = () => {\n    if (!initialized || !swiper.params.hashNavigation.enabled) return;\n\n    if (swiper.params.hashNavigation.replaceState && window.history && window.history.replaceState) {\n      window.history.replaceState(null, null, `#${swiper.slides.eq(swiper.activeIndex).attr('data-hash')}` || '');\n      emit('hashSet');\n    } else {\n      const slide = swiper.slides.eq(swiper.activeIndex);\n      const hash = slide.attr('data-hash') || slide.attr('data-history');\n      document.location.hash = hash || '';\n      emit('hashSet');\n    }\n  };\n\n  const init = () => {\n    if (!swiper.params.hashNavigation.enabled || swiper.params.history && swiper.params.history.enabled) return;\n    initialized = true;\n    const hash = document.location.hash.replace('#', '');\n\n    if (hash) {\n      const speed = 0;\n\n      for (let i = 0, length = swiper.slides.length; i < length; i += 1) {\n        const slide = swiper.slides.eq(i);\n        const slideHash = slide.attr('data-hash') || slide.attr('data-history');\n\n        if (slideHash === hash && !slide.hasClass(swiper.params.slideDuplicateClass)) {\n          const index = slide.index();\n          swiper.slideTo(index, speed, swiper.params.runCallbacksOnInit, true);\n        }\n      }\n    }\n\n    if (swiper.params.hashNavigation.watchState) {\n      $(window).on('hashchange', onHashChange);\n    }\n  };\n\n  const destroy = () => {\n    if (swiper.params.hashNavigation.watchState) {\n      $(window).off('hashchange', onHashChange);\n    }\n  };\n\n  on('init', () => {\n    if (swiper.params.hashNavigation.enabled) {\n      init();\n    }\n  });\n  on('destroy', () => {\n    if (swiper.params.hashNavigation.enabled) {\n      destroy();\n    }\n  });\n  on('transitionEnd _freeModeNoMomentumRelease', () => {\n    if (initialized) {\n      setHash();\n    }\n  });\n  on('slideChange', () => {\n    if (initialized && swiper.params.cssMode) {\n      setHash();\n    }\n  });\n}","/* eslint no-underscore-dangle: \"off\" */\n\n/* eslint no-use-before-define: \"off\" */\nimport { getDocument } from 'ssr-window';\nimport { nextTick } from '../../shared/utils.js';\nexport default function Autoplay(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on,\n    emit\n  } = _ref;\n  let timeout;\n  swiper.autoplay = {\n    running: false,\n    paused: false\n  };\n  extendParams({\n    autoplay: {\n      enabled: false,\n      delay: 3000,\n      waitForTransition: true,\n      disableOnInteraction: true,\n      stopOnLastSlide: false,\n      reverseDirection: false,\n      pauseOnMouseEnter: false\n    }\n  });\n\n  function run() {\n    const $activeSlideEl = swiper.slides.eq(swiper.activeIndex);\n    let delay = swiper.params.autoplay.delay;\n\n    if ($activeSlideEl.attr('data-swiper-autoplay')) {\n      delay = $activeSlideEl.attr('data-swiper-autoplay') || swiper.params.autoplay.delay;\n    }\n\n    clearTimeout(timeout);\n    timeout = nextTick(() => {\n      let autoplayResult;\n\n      if (swiper.params.autoplay.reverseDirection) {\n        if (swiper.params.loop) {\n          swiper.loopFix();\n          autoplayResult = swiper.slidePrev(swiper.params.speed, true, true);\n          emit('autoplay');\n        } else if (!swiper.isBeginning) {\n          autoplayResult = swiper.slidePrev(swiper.params.speed, true, true);\n          emit('autoplay');\n        } else if (!swiper.params.autoplay.stopOnLastSlide) {\n          autoplayResult = swiper.slideTo(swiper.slides.length - 1, swiper.params.speed, true, true);\n          emit('autoplay');\n        } else {\n          stop();\n        }\n      } else if (swiper.params.loop) {\n        swiper.loopFix();\n        autoplayResult = swiper.slideNext(swiper.params.speed, true, true);\n        emit('autoplay');\n      } else if (!swiper.isEnd) {\n        autoplayResult = swiper.slideNext(swiper.params.speed, true, true);\n        emit('autoplay');\n      } else if (!swiper.params.autoplay.stopOnLastSlide) {\n        autoplayResult = swiper.slideTo(0, swiper.params.speed, true, true);\n        emit('autoplay');\n      } else {\n        stop();\n      }\n\n      if (swiper.params.cssMode && swiper.autoplay.running) run();else if (autoplayResult === false) {\n        run();\n      }\n    }, delay);\n  }\n\n  function start() {\n    if (typeof timeout !== 'undefined') return false;\n    if (swiper.autoplay.running) return false;\n    swiper.autoplay.running = true;\n    emit('autoplayStart');\n    run();\n    return true;\n  }\n\n  function stop() {\n    if (!swiper.autoplay.running) return false;\n    if (typeof timeout === 'undefined') return false;\n\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = undefined;\n    }\n\n    swiper.autoplay.running = false;\n    emit('autoplayStop');\n    return true;\n  }\n\n  function pause(speed) {\n    if (!swiper.autoplay.running) return;\n    if (swiper.autoplay.paused) return;\n    if (timeout) clearTimeout(timeout);\n    swiper.autoplay.paused = true;\n\n    if (speed === 0 || !swiper.params.autoplay.waitForTransition) {\n      swiper.autoplay.paused = false;\n      run();\n    } else {\n      ['transitionend', 'webkitTransitionEnd'].forEach(event => {\n        swiper.$wrapperEl[0].addEventListener(event, onTransitionEnd);\n      });\n    }\n  }\n\n  function onVisibilityChange() {\n    const document = getDocument();\n\n    if (document.visibilityState === 'hidden' && swiper.autoplay.running) {\n      pause();\n    }\n\n    if (document.visibilityState === 'visible' && swiper.autoplay.paused) {\n      run();\n      swiper.autoplay.paused = false;\n    }\n  }\n\n  function onTransitionEnd(e) {\n    if (!swiper || swiper.destroyed || !swiper.$wrapperEl) return;\n    if (e.target !== swiper.$wrapperEl[0]) return;\n    ['transitionend', 'webkitTransitionEnd'].forEach(event => {\n      swiper.$wrapperEl[0].removeEventListener(event, onTransitionEnd);\n    });\n    swiper.autoplay.paused = false;\n\n    if (!swiper.autoplay.running) {\n      stop();\n    } else {\n      run();\n    }\n  }\n\n  function onMouseEnter() {\n    if (swiper.params.autoplay.disableOnInteraction) {\n      stop();\n    } else {\n      emit('autoplayPause');\n      pause();\n    }\n\n    ['transitionend', 'webkitTransitionEnd'].forEach(event => {\n      swiper.$wrapperEl[0].removeEventListener(event, onTransitionEnd);\n    });\n  }\n\n  function onMouseLeave() {\n    if (swiper.params.autoplay.disableOnInteraction) {\n      return;\n    }\n\n    swiper.autoplay.paused = false;\n    emit('autoplayResume');\n    run();\n  }\n\n  function attachMouseEvents() {\n    if (swiper.params.autoplay.pauseOnMouseEnter) {\n      swiper.$el.on('mouseenter', onMouseEnter);\n      swiper.$el.on('mouseleave', onMouseLeave);\n    }\n  }\n\n  function detachMouseEvents() {\n    swiper.$el.off('mouseenter', onMouseEnter);\n    swiper.$el.off('mouseleave', onMouseLeave);\n  }\n\n  on('init', () => {\n    if (swiper.params.autoplay.enabled) {\n      start();\n      const document = getDocument();\n      document.addEventListener('visibilitychange', onVisibilityChange);\n      attachMouseEvents();\n    }\n  });\n  on('beforeTransitionStart', (_s, speed, internal) => {\n    if (swiper.autoplay.running) {\n      if (internal || !swiper.params.autoplay.disableOnInteraction) {\n        swiper.autoplay.pause(speed);\n      } else {\n        stop();\n      }\n    }\n  });\n  on('sliderFirstMove', () => {\n    if (swiper.autoplay.running) {\n      if (swiper.params.autoplay.disableOnInteraction) {\n        stop();\n      } else {\n        pause();\n      }\n    }\n  });\n  on('touchEnd', () => {\n    if (swiper.params.cssMode && swiper.autoplay.paused && !swiper.params.autoplay.disableOnInteraction) {\n      run();\n    }\n  });\n  on('destroy', () => {\n    detachMouseEvents();\n\n    if (swiper.autoplay.running) {\n      stop();\n    }\n\n    const document = getDocument();\n    document.removeEventListener('visibilitychange', onVisibilityChange);\n  });\n  Object.assign(swiper.autoplay, {\n    pause,\n    run,\n    start,\n    stop\n  });\n}","import { isObject } from '../../shared/utils.js';\nimport $ from '../../shared/dom.js';\nexport default function Thumb(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on\n  } = _ref;\n  extendParams({\n    thumbs: {\n      swiper: null,\n      multipleActiveThumbs: true,\n      autoScrollOffset: 0,\n      slideThumbActiveClass: 'swiper-slide-thumb-active',\n      thumbsContainerClass: 'swiper-thumbs'\n    }\n  });\n  let initialized = false;\n  let swiperCreated = false;\n  swiper.thumbs = {\n    swiper: null\n  };\n\n  function onThumbClick() {\n    const thumbsSwiper = swiper.thumbs.swiper;\n    if (!thumbsSwiper || thumbsSwiper.destroyed) return;\n    const clickedIndex = thumbsSwiper.clickedIndex;\n    const clickedSlide = thumbsSwiper.clickedSlide;\n    if (clickedSlide && $(clickedSlide).hasClass(swiper.params.thumbs.slideThumbActiveClass)) return;\n    if (typeof clickedIndex === 'undefined' || clickedIndex === null) return;\n    let slideToIndex;\n\n    if (thumbsSwiper.params.loop) {\n      slideToIndex = parseInt($(thumbsSwiper.clickedSlide).attr('data-swiper-slide-index'), 10);\n    } else {\n      slideToIndex = clickedIndex;\n    }\n\n    if (swiper.params.loop) {\n      let currentIndex = swiper.activeIndex;\n\n      if (swiper.slides.eq(currentIndex).hasClass(swiper.params.slideDuplicateClass)) {\n        swiper.loopFix(); // eslint-disable-next-line\n\n        swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n        currentIndex = swiper.activeIndex;\n      }\n\n      const prevIndex = swiper.slides.eq(currentIndex).prevAll(`[data-swiper-slide-index=\"${slideToIndex}\"]`).eq(0).index();\n      const nextIndex = swiper.slides.eq(currentIndex).nextAll(`[data-swiper-slide-index=\"${slideToIndex}\"]`).eq(0).index();\n      if (typeof prevIndex === 'undefined') slideToIndex = nextIndex;else if (typeof nextIndex === 'undefined') slideToIndex = prevIndex;else if (nextIndex - currentIndex < currentIndex - prevIndex) slideToIndex = nextIndex;else slideToIndex = prevIndex;\n    }\n\n    swiper.slideTo(slideToIndex);\n  }\n\n  function init() {\n    const {\n      thumbs: thumbsParams\n    } = swiper.params;\n    if (initialized) return false;\n    initialized = true;\n    const SwiperClass = swiper.constructor;\n\n    if (thumbsParams.swiper instanceof SwiperClass) {\n      swiper.thumbs.swiper = thumbsParams.swiper;\n      Object.assign(swiper.thumbs.swiper.originalParams, {\n        watchSlidesProgress: true,\n        slideToClickedSlide: false\n      });\n      Object.assign(swiper.thumbs.swiper.params, {\n        watchSlidesProgress: true,\n        slideToClickedSlide: false\n      });\n    } else if (isObject(thumbsParams.swiper)) {\n      const thumbsSwiperParams = Object.assign({}, thumbsParams.swiper);\n      Object.assign(thumbsSwiperParams, {\n        watchSlidesProgress: true,\n        slideToClickedSlide: false\n      });\n      swiper.thumbs.swiper = new SwiperClass(thumbsSwiperParams);\n      swiperCreated = true;\n    }\n\n    swiper.thumbs.swiper.$el.addClass(swiper.params.thumbs.thumbsContainerClass);\n    swiper.thumbs.swiper.on('tap', onThumbClick);\n    return true;\n  }\n\n  function update(initial) {\n    const thumbsSwiper = swiper.thumbs.swiper;\n    if (!thumbsSwiper || thumbsSwiper.destroyed) return;\n    const slidesPerView = thumbsSwiper.params.slidesPerView === 'auto' ? thumbsSwiper.slidesPerViewDynamic() : thumbsSwiper.params.slidesPerView; // Activate thumbs\n\n    let thumbsToActivate = 1;\n    const thumbActiveClass = swiper.params.thumbs.slideThumbActiveClass;\n\n    if (swiper.params.slidesPerView > 1 && !swiper.params.centeredSlides) {\n      thumbsToActivate = swiper.params.slidesPerView;\n    }\n\n    if (!swiper.params.thumbs.multipleActiveThumbs) {\n      thumbsToActivate = 1;\n    }\n\n    thumbsToActivate = Math.floor(thumbsToActivate);\n    thumbsSwiper.slides.removeClass(thumbActiveClass);\n\n    if (thumbsSwiper.params.loop || thumbsSwiper.params.virtual && thumbsSwiper.params.virtual.enabled) {\n      for (let i = 0; i < thumbsToActivate; i += 1) {\n        thumbsSwiper.$wrapperEl.children(`[data-swiper-slide-index=\"${swiper.realIndex + i}\"]`).addClass(thumbActiveClass);\n      }\n    } else {\n      for (let i = 0; i < thumbsToActivate; i += 1) {\n        thumbsSwiper.slides.eq(swiper.realIndex + i).addClass(thumbActiveClass);\n      }\n    }\n\n    const autoScrollOffset = swiper.params.thumbs.autoScrollOffset;\n    const useOffset = autoScrollOffset && !thumbsSwiper.params.loop;\n\n    if (swiper.realIndex !== thumbsSwiper.realIndex || useOffset) {\n      let currentThumbsIndex = thumbsSwiper.activeIndex;\n      let newThumbsIndex;\n      let direction;\n\n      if (thumbsSwiper.params.loop) {\n        if (thumbsSwiper.slides.eq(currentThumbsIndex).hasClass(thumbsSwiper.params.slideDuplicateClass)) {\n          thumbsSwiper.loopFix(); // eslint-disable-next-line\n\n          thumbsSwiper._clientLeft = thumbsSwiper.$wrapperEl[0].clientLeft;\n          currentThumbsIndex = thumbsSwiper.activeIndex;\n        } // Find actual thumbs index to slide to\n\n\n        const prevThumbsIndex = thumbsSwiper.slides.eq(currentThumbsIndex).prevAll(`[data-swiper-slide-index=\"${swiper.realIndex}\"]`).eq(0).index();\n        const nextThumbsIndex = thumbsSwiper.slides.eq(currentThumbsIndex).nextAll(`[data-swiper-slide-index=\"${swiper.realIndex}\"]`).eq(0).index();\n\n        if (typeof prevThumbsIndex === 'undefined') {\n          newThumbsIndex = nextThumbsIndex;\n        } else if (typeof nextThumbsIndex === 'undefined') {\n          newThumbsIndex = prevThumbsIndex;\n        } else if (nextThumbsIndex - currentThumbsIndex === currentThumbsIndex - prevThumbsIndex) {\n          newThumbsIndex = thumbsSwiper.params.slidesPerGroup > 1 ? nextThumbsIndex : currentThumbsIndex;\n        } else if (nextThumbsIndex - currentThumbsIndex < currentThumbsIndex - prevThumbsIndex) {\n          newThumbsIndex = nextThumbsIndex;\n        } else {\n          newThumbsIndex = prevThumbsIndex;\n        }\n\n        direction = swiper.activeIndex > swiper.previousIndex ? 'next' : 'prev';\n      } else {\n        newThumbsIndex = swiper.realIndex;\n        direction = newThumbsIndex > swiper.previousIndex ? 'next' : 'prev';\n      }\n\n      if (useOffset) {\n        newThumbsIndex += direction === 'next' ? autoScrollOffset : -1 * autoScrollOffset;\n      }\n\n      if (thumbsSwiper.visibleSlidesIndexes && thumbsSwiper.visibleSlidesIndexes.indexOf(newThumbsIndex) < 0) {\n        if (thumbsSwiper.params.centeredSlides) {\n          if (newThumbsIndex > currentThumbsIndex) {\n            newThumbsIndex = newThumbsIndex - Math.floor(slidesPerView / 2) + 1;\n          } else {\n            newThumbsIndex = newThumbsIndex + Math.floor(slidesPerView / 2) - 1;\n          }\n        } else if (newThumbsIndex > currentThumbsIndex && thumbsSwiper.params.slidesPerGroup === 1) {// newThumbsIndex = newThumbsIndex - slidesPerView + 1;\n        }\n\n        thumbsSwiper.slideTo(newThumbsIndex, initial ? 0 : undefined);\n      }\n    }\n  }\n\n  on('beforeInit', () => {\n    const {\n      thumbs\n    } = swiper.params;\n    if (!thumbs || !thumbs.swiper) return;\n    init();\n    update(true);\n  });\n  on('slideChange update resize observerUpdate', () => {\n    update();\n  });\n  on('setTransition', (_s, duration) => {\n    const thumbsSwiper = swiper.thumbs.swiper;\n    if (!thumbsSwiper || thumbsSwiper.destroyed) return;\n    thumbsSwiper.setTransition(duration);\n  });\n  on('beforeDestroy', () => {\n    const thumbsSwiper = swiper.thumbs.swiper;\n    if (!thumbsSwiper || thumbsSwiper.destroyed) return;\n\n    if (swiperCreated) {\n      thumbsSwiper.destroy();\n    }\n  });\n  Object.assign(swiper.thumbs, {\n    init,\n    update\n  });\n}","import { now } from '../../shared/utils.js';\nexport default function freeMode(_ref) {\n  let {\n    swiper,\n    extendParams,\n    emit,\n    once\n  } = _ref;\n  extendParams({\n    freeMode: {\n      enabled: false,\n      momentum: true,\n      momentumRatio: 1,\n      momentumBounce: true,\n      momentumBounceRatio: 1,\n      momentumVelocityRatio: 1,\n      sticky: false,\n      minimumVelocity: 0.02\n    }\n  });\n\n  function onTouchStart() {\n    const translate = swiper.getTranslate();\n    swiper.setTranslate(translate);\n    swiper.setTransition(0);\n    swiper.touchEventsData.velocities.length = 0;\n    swiper.freeMode.onTouchEnd({\n      currentPos: swiper.rtl ? swiper.translate : -swiper.translate\n    });\n  }\n\n  function onTouchMove() {\n    const {\n      touchEventsData: data,\n      touches\n    } = swiper; // Velocity\n\n    if (data.velocities.length === 0) {\n      data.velocities.push({\n        position: touches[swiper.isHorizontal() ? 'startX' : 'startY'],\n        time: data.touchStartTime\n      });\n    }\n\n    data.velocities.push({\n      position: touches[swiper.isHorizontal() ? 'currentX' : 'currentY'],\n      time: now()\n    });\n  }\n\n  function onTouchEnd(_ref2) {\n    let {\n      currentPos\n    } = _ref2;\n    const {\n      params,\n      $wrapperEl,\n      rtlTranslate: rtl,\n      snapGrid,\n      touchEventsData: data\n    } = swiper; // Time diff\n\n    const touchEndTime = now();\n    const timeDiff = touchEndTime - data.touchStartTime;\n\n    if (currentPos < -swiper.minTranslate()) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n\n    if (currentPos > -swiper.maxTranslate()) {\n      if (swiper.slides.length < snapGrid.length) {\n        swiper.slideTo(snapGrid.length - 1);\n      } else {\n        swiper.slideTo(swiper.slides.length - 1);\n      }\n\n      return;\n    }\n\n    if (params.freeMode.momentum) {\n      if (data.velocities.length > 1) {\n        const lastMoveEvent = data.velocities.pop();\n        const velocityEvent = data.velocities.pop();\n        const distance = lastMoveEvent.position - velocityEvent.position;\n        const time = lastMoveEvent.time - velocityEvent.time;\n        swiper.velocity = distance / time;\n        swiper.velocity /= 2;\n\n        if (Math.abs(swiper.velocity) < params.freeMode.minimumVelocity) {\n          swiper.velocity = 0;\n        } // this implies that the user stopped moving a finger then released.\n        // There would be no events with distance zero, so the last event is stale.\n\n\n        if (time > 150 || now() - lastMoveEvent.time > 300) {\n          swiper.velocity = 0;\n        }\n      } else {\n        swiper.velocity = 0;\n      }\n\n      swiper.velocity *= params.freeMode.momentumVelocityRatio;\n      data.velocities.length = 0;\n      let momentumDuration = 1000 * params.freeMode.momentumRatio;\n      const momentumDistance = swiper.velocity * momentumDuration;\n      let newPosition = swiper.translate + momentumDistance;\n      if (rtl) newPosition = -newPosition;\n      let doBounce = false;\n      let afterBouncePosition;\n      const bounceAmount = Math.abs(swiper.velocity) * 20 * params.freeMode.momentumBounceRatio;\n      let needsLoopFix;\n\n      if (newPosition < swiper.maxTranslate()) {\n        if (params.freeMode.momentumBounce) {\n          if (newPosition + swiper.maxTranslate() < -bounceAmount) {\n            newPosition = swiper.maxTranslate() - bounceAmount;\n          }\n\n          afterBouncePosition = swiper.maxTranslate();\n          doBounce = true;\n          data.allowMomentumBounce = true;\n        } else {\n          newPosition = swiper.maxTranslate();\n        }\n\n        if (params.loop && params.centeredSlides) needsLoopFix = true;\n      } else if (newPosition > swiper.minTranslate()) {\n        if (params.freeMode.momentumBounce) {\n          if (newPosition - swiper.minTranslate() > bounceAmount) {\n            newPosition = swiper.minTranslate() + bounceAmount;\n          }\n\n          afterBouncePosition = swiper.minTranslate();\n          doBounce = true;\n          data.allowMomentumBounce = true;\n        } else {\n          newPosition = swiper.minTranslate();\n        }\n\n        if (params.loop && params.centeredSlides) needsLoopFix = true;\n      } else if (params.freeMode.sticky) {\n        let nextSlide;\n\n        for (let j = 0; j < snapGrid.length; j += 1) {\n          if (snapGrid[j] > -newPosition) {\n            nextSlide = j;\n            break;\n          }\n        }\n\n        if (Math.abs(snapGrid[nextSlide] - newPosition) < Math.abs(snapGrid[nextSlide - 1] - newPosition) || swiper.swipeDirection === 'next') {\n          newPosition = snapGrid[nextSlide];\n        } else {\n          newPosition = snapGrid[nextSlide - 1];\n        }\n\n        newPosition = -newPosition;\n      }\n\n      if (needsLoopFix) {\n        once('transitionEnd', () => {\n          swiper.loopFix();\n        });\n      } // Fix duration\n\n\n      if (swiper.velocity !== 0) {\n        if (rtl) {\n          momentumDuration = Math.abs((-newPosition - swiper.translate) / swiper.velocity);\n        } else {\n          momentumDuration = Math.abs((newPosition - swiper.translate) / swiper.velocity);\n        }\n\n        if (params.freeMode.sticky) {\n          // If freeMode.sticky is active and the user ends a swipe with a slow-velocity\n          // event, then durations can be 20+ seconds to slide one (or zero!) slides.\n          // It's easy to see this when simulating touch with mouse events. To fix this,\n          // limit single-slide swipes to the default slide duration. This also has the\n          // nice side effect of matching slide speed if the user stopped moving before\n          // lifting finger or mouse vs. moving slowly before lifting the finger/mouse.\n          // For faster swipes, also apply limits (albeit higher ones).\n          const moveDistance = Math.abs((rtl ? -newPosition : newPosition) - swiper.translate);\n          const currentSlideSize = swiper.slidesSizesGrid[swiper.activeIndex];\n\n          if (moveDistance < currentSlideSize) {\n            momentumDuration = params.speed;\n          } else if (moveDistance < 2 * currentSlideSize) {\n            momentumDuration = params.speed * 1.5;\n          } else {\n            momentumDuration = params.speed * 2.5;\n          }\n        }\n      } else if (params.freeMode.sticky) {\n        swiper.slideToClosest();\n        return;\n      }\n\n      if (params.freeMode.momentumBounce && doBounce) {\n        swiper.updateProgress(afterBouncePosition);\n        swiper.setTransition(momentumDuration);\n        swiper.setTranslate(newPosition);\n        swiper.transitionStart(true, swiper.swipeDirection);\n        swiper.animating = true;\n        $wrapperEl.transitionEnd(() => {\n          if (!swiper || swiper.destroyed || !data.allowMomentumBounce) return;\n          emit('momentumBounce');\n          swiper.setTransition(params.speed);\n          setTimeout(() => {\n            swiper.setTranslate(afterBouncePosition);\n            $wrapperEl.transitionEnd(() => {\n              if (!swiper || swiper.destroyed) return;\n              swiper.transitionEnd();\n            });\n          }, 0);\n        });\n      } else if (swiper.velocity) {\n        emit('_freeModeNoMomentumRelease');\n        swiper.updateProgress(newPosition);\n        swiper.setTransition(momentumDuration);\n        swiper.setTranslate(newPosition);\n        swiper.transitionStart(true, swiper.swipeDirection);\n\n        if (!swiper.animating) {\n          swiper.animating = true;\n          $wrapperEl.transitionEnd(() => {\n            if (!swiper || swiper.destroyed) return;\n            swiper.transitionEnd();\n          });\n        }\n      } else {\n        swiper.updateProgress(newPosition);\n      }\n\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    } else if (params.freeMode.sticky) {\n      swiper.slideToClosest();\n      return;\n    } else if (params.freeMode) {\n      emit('_freeModeNoMomentumRelease');\n    }\n\n    if (!params.freeMode.momentum || timeDiff >= params.longSwipesMs) {\n      swiper.updateProgress();\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    }\n  }\n\n  Object.assign(swiper, {\n    freeMode: {\n      onTouchStart,\n      onTouchMove,\n      onTouchEnd\n    }\n  });\n}","export default function Grid(_ref) {\n  let {\n    swiper,\n    extendParams\n  } = _ref;\n  extendParams({\n    grid: {\n      rows: 1,\n      fill: 'column'\n    }\n  });\n  let slidesNumberEvenToRows;\n  let slidesPerRow;\n  let numFullColumns;\n\n  const initSlides = slidesLength => {\n    const {\n      slidesPerView\n    } = swiper.params;\n    const {\n      rows,\n      fill\n    } = swiper.params.grid;\n    slidesPerRow = slidesNumberEvenToRows / rows;\n    numFullColumns = Math.floor(slidesLength / rows);\n\n    if (Math.floor(slidesLength / rows) === slidesLength / rows) {\n      slidesNumberEvenToRows = slidesLength;\n    } else {\n      slidesNumberEvenToRows = Math.ceil(slidesLength / rows) * rows;\n    }\n\n    if (slidesPerView !== 'auto' && fill === 'row') {\n      slidesNumberEvenToRows = Math.max(slidesNumberEvenToRows, slidesPerView * rows);\n    }\n  };\n\n  const updateSlide = (i, slide, slidesLength, getDirectionLabel) => {\n    const {\n      slidesPerGroup,\n      spaceBetween\n    } = swiper.params;\n    const {\n      rows,\n      fill\n    } = swiper.params.grid; // Set slides order\n\n    let newSlideOrderIndex;\n    let column;\n    let row;\n\n    if (fill === 'row' && slidesPerGroup > 1) {\n      const groupIndex = Math.floor(i / (slidesPerGroup * rows));\n      const slideIndexInGroup = i - rows * slidesPerGroup * groupIndex;\n      const columnsInGroup = groupIndex === 0 ? slidesPerGroup : Math.min(Math.ceil((slidesLength - groupIndex * rows * slidesPerGroup) / rows), slidesPerGroup);\n      row = Math.floor(slideIndexInGroup / columnsInGroup);\n      column = slideIndexInGroup - row * columnsInGroup + groupIndex * slidesPerGroup;\n      newSlideOrderIndex = column + row * slidesNumberEvenToRows / rows;\n      slide.css({\n        '-webkit-order': newSlideOrderIndex,\n        order: newSlideOrderIndex\n      });\n    } else if (fill === 'column') {\n      column = Math.floor(i / rows);\n      row = i - column * rows;\n\n      if (column > numFullColumns || column === numFullColumns && row === rows - 1) {\n        row += 1;\n\n        if (row >= rows) {\n          row = 0;\n          column += 1;\n        }\n      }\n    } else {\n      row = Math.floor(i / slidesPerRow);\n      column = i - row * slidesPerRow;\n    }\n\n    slide.css(getDirectionLabel('margin-top'), row !== 0 ? spaceBetween && `${spaceBetween}px` : '');\n  };\n\n  const updateWrapperSize = (slideSize, snapGrid, getDirectionLabel) => {\n    const {\n      spaceBetween,\n      centeredSlides,\n      roundLengths\n    } = swiper.params;\n    const {\n      rows\n    } = swiper.params.grid;\n    swiper.virtualSize = (slideSize + spaceBetween) * slidesNumberEvenToRows;\n    swiper.virtualSize = Math.ceil(swiper.virtualSize / rows) - spaceBetween;\n    swiper.$wrapperEl.css({\n      [getDirectionLabel('width')]: `${swiper.virtualSize + spaceBetween}px`\n    });\n\n    if (centeredSlides) {\n      snapGrid.splice(0, snapGrid.length);\n      const newSlidesGrid = [];\n\n      for (let i = 0; i < snapGrid.length; i += 1) {\n        let slidesGridItem = snapGrid[i];\n        if (roundLengths) slidesGridItem = Math.floor(slidesGridItem);\n        if (snapGrid[i] < swiper.virtualSize + snapGrid[0]) newSlidesGrid.push(slidesGridItem);\n      }\n\n      snapGrid.push(...newSlidesGrid);\n    }\n  };\n\n  swiper.grid = {\n    initSlides,\n    updateSlide,\n    updateWrapperSize\n  };\n}","export default function appendSlide(slides) {\n  const swiper = this;\n  const {\n    $wrapperEl,\n    params\n  } = swiper;\n\n  if (params.loop) {\n    swiper.loopDestroy();\n  }\n\n  if (typeof slides === 'object' && 'length' in slides) {\n    for (let i = 0; i < slides.length; i += 1) {\n      if (slides[i]) $wrapperEl.append(slides[i]);\n    }\n  } else {\n    $wrapperEl.append(slides);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!params.observer) {\n    swiper.update();\n  }\n}","export default function prependSlide(slides) {\n  const swiper = this;\n  const {\n    params,\n    $wrapperEl,\n    activeIndex\n  } = swiper;\n\n  if (params.loop) {\n    swiper.loopDestroy();\n  }\n\n  let newActiveIndex = activeIndex + 1;\n\n  if (typeof slides === 'object' && 'length' in slides) {\n    for (let i = 0; i < slides.length; i += 1) {\n      if (slides[i]) $wrapperEl.prepend(slides[i]);\n    }\n\n    newActiveIndex = activeIndex + slides.length;\n  } else {\n    $wrapperEl.prepend(slides);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!params.observer) {\n    swiper.update();\n  }\n\n  swiper.slideTo(newActiveIndex, 0, false);\n}","export default function addSlide(index, slides) {\n  const swiper = this;\n  const {\n    $wrapperEl,\n    params,\n    activeIndex\n  } = swiper;\n  let activeIndexBuffer = activeIndex;\n\n  if (params.loop) {\n    activeIndexBuffer -= swiper.loopedSlides;\n    swiper.loopDestroy();\n    swiper.slides = $wrapperEl.children(`.${params.slideClass}`);\n  }\n\n  const baseLength = swiper.slides.length;\n\n  if (index <= 0) {\n    swiper.prependSlide(slides);\n    return;\n  }\n\n  if (index >= baseLength) {\n    swiper.appendSlide(slides);\n    return;\n  }\n\n  let newActiveIndex = activeIndexBuffer > index ? activeIndexBuffer + 1 : activeIndexBuffer;\n  const slidesBuffer = [];\n\n  for (let i = baseLength - 1; i >= index; i -= 1) {\n    const currentSlide = swiper.slides.eq(i);\n    currentSlide.remove();\n    slidesBuffer.unshift(currentSlide);\n  }\n\n  if (typeof slides === 'object' && 'length' in slides) {\n    for (let i = 0; i < slides.length; i += 1) {\n      if (slides[i]) $wrapperEl.append(slides[i]);\n    }\n\n    newActiveIndex = activeIndexBuffer > index ? activeIndexBuffer + slides.length : activeIndexBuffer;\n  } else {\n    $wrapperEl.append(slides);\n  }\n\n  for (let i = 0; i < slidesBuffer.length; i += 1) {\n    $wrapperEl.append(slidesBuffer[i]);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!params.observer) {\n    swiper.update();\n  }\n\n  if (params.loop) {\n    swiper.slideTo(newActiveIndex + swiper.loopedSlides, 0, false);\n  } else {\n    swiper.slideTo(newActiveIndex, 0, false);\n  }\n}","export default function removeSlide(slidesIndexes) {\n  const swiper = this;\n  const {\n    params,\n    $wrapperEl,\n    activeIndex\n  } = swiper;\n  let activeIndexBuffer = activeIndex;\n\n  if (params.loop) {\n    activeIndexBuffer -= swiper.loopedSlides;\n    swiper.loopDestroy();\n    swiper.slides = $wrapperEl.children(`.${params.slideClass}`);\n  }\n\n  let newActiveIndex = activeIndexBuffer;\n  let indexToRemove;\n\n  if (typeof slidesIndexes === 'object' && 'length' in slidesIndexes) {\n    for (let i = 0; i < slidesIndexes.length; i += 1) {\n      indexToRemove = slidesIndexes[i];\n      if (swiper.slides[indexToRemove]) swiper.slides.eq(indexToRemove).remove();\n      if (indexToRemove < newActiveIndex) newActiveIndex -= 1;\n    }\n\n    newActiveIndex = Math.max(newActiveIndex, 0);\n  } else {\n    indexToRemove = slidesIndexes;\n    if (swiper.slides[indexToRemove]) swiper.slides.eq(indexToRemove).remove();\n    if (indexToRemove < newActiveIndex) newActiveIndex -= 1;\n    newActiveIndex = Math.max(newActiveIndex, 0);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!params.observer) {\n    swiper.update();\n  }\n\n  if (params.loop) {\n    swiper.slideTo(newActiveIndex + swiper.loopedSlides, 0, false);\n  } else {\n    swiper.slideTo(newActiveIndex, 0, false);\n  }\n}","export default function removeAllSlides() {\n  const swiper = this;\n  const slidesIndexes = [];\n\n  for (let i = 0; i < swiper.slides.length; i += 1) {\n    slidesIndexes.push(i);\n  }\n\n  swiper.removeSlide(slidesIndexes);\n}","import appendSlide from './methods/appendSlide.js';\nimport prependSlide from './methods/prependSlide.js';\nimport addSlide from './methods/addSlide.js';\nimport removeSlide from './methods/removeSlide.js';\nimport removeAllSlides from './methods/removeAllSlides.js';\nexport default function Manipulation(_ref) {\n  let {\n    swiper\n  } = _ref;\n  Object.assign(swiper, {\n    appendSlide: appendSlide.bind(swiper),\n    prependSlide: prependSlide.bind(swiper),\n    addSlide: addSlide.bind(swiper),\n    removeSlide: removeSlide.bind(swiper),\n    removeAllSlides: removeAllSlides.bind(swiper)\n  });\n}","export default function effectInit(params) {\n  const {\n    effect,\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    overwriteParams,\n    perspective,\n    recreateShadows,\n    getEffectParams\n  } = params;\n  on('beforeInit', () => {\n    if (swiper.params.effect !== effect) return;\n    swiper.classNames.push(`${swiper.params.containerModifierClass}${effect}`);\n\n    if (perspective && perspective()) {\n      swiper.classNames.push(`${swiper.params.containerModifierClass}3d`);\n    }\n\n    const overwriteParamsResult = overwriteParams ? overwriteParams() : {};\n    Object.assign(swiper.params, overwriteParamsResult);\n    Object.assign(swiper.originalParams, overwriteParamsResult);\n  });\n  on('setTranslate', () => {\n    if (swiper.params.effect !== effect) return;\n    setTranslate();\n  });\n  on('setTransition', (_s, duration) => {\n    if (swiper.params.effect !== effect) return;\n    setTransition(duration);\n  });\n  on('transitionEnd', () => {\n    if (swiper.params.effect !== effect) return;\n\n    if (recreateShadows) {\n      if (!getEffectParams || !getEffectParams().slideShadows) return; // remove shadows\n\n      swiper.slides.each(slideEl => {\n        const $slideEl = swiper.$(slideEl);\n        $slideEl.find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').remove();\n      }); // create new one\n\n      recreateShadows();\n    }\n  });\n  let requireUpdateOnVirtual;\n  on('virtualUpdate', () => {\n    if (swiper.params.effect !== effect) return;\n\n    if (!swiper.slides.length) {\n      requireUpdateOnVirtual = true;\n    }\n\n    requestAnimationFrame(() => {\n      if (requireUpdateOnVirtual && swiper.slides && swiper.slides.length) {\n        setTranslate();\n        requireUpdateOnVirtual = false;\n      }\n    });\n  });\n}","export default function effectTarget(effectParams, $slideEl) {\n  if (effectParams.transformEl) {\n    return $slideEl.find(effectParams.transformEl).css({\n      'backface-visibility': 'hidden',\n      '-webkit-backface-visibility': 'hidden'\n    });\n  }\n\n  return $slideEl;\n}","export default function effectVirtualTransitionEnd(_ref) {\n  let {\n    swiper,\n    duration,\n    transformEl,\n    allSlides\n  } = _ref;\n  const {\n    slides,\n    activeIndex,\n    $wrapperEl\n  } = swiper;\n\n  if (swiper.params.virtualTranslate && duration !== 0) {\n    let eventTriggered = false;\n    let $transitionEndTarget;\n\n    if (allSlides) {\n      $transitionEndTarget = transformEl ? slides.find(transformEl) : slides;\n    } else {\n      $transitionEndTarget = transformEl ? slides.eq(activeIndex).find(transformEl) : slides.eq(activeIndex);\n    }\n\n    $transitionEndTarget.transitionEnd(() => {\n      if (eventTriggered) return;\n      if (!swiper || swiper.destroyed) return;\n      eventTriggered = true;\n      swiper.animating = false;\n      const triggerEvents = ['webkitTransitionEnd', 'transitionend'];\n\n      for (let i = 0; i < triggerEvents.length; i += 1) {\n        $wrapperEl.trigger(triggerEvents[i]);\n      }\n    });\n  }\n}","import effectInit from '../../shared/effect-init.js';\nimport effectTarget from '../../shared/effect-target.js';\nimport effectVirtualTransitionEnd from '../../shared/effect-virtual-transition-end.js';\nexport default function EffectFade(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on\n  } = _ref;\n  extendParams({\n    fadeEffect: {\n      crossFade: false,\n      transformEl: null\n    }\n  });\n\n  const setTranslate = () => {\n    const {\n      slides\n    } = swiper;\n    const params = swiper.params.fadeEffect;\n\n    for (let i = 0; i < slides.length; i += 1) {\n      const $slideEl = swiper.slides.eq(i);\n      const offset = $slideEl[0].swiperSlideOffset;\n      let tx = -offset;\n      if (!swiper.params.virtualTranslate) tx -= swiper.translate;\n      let ty = 0;\n\n      if (!swiper.isHorizontal()) {\n        ty = tx;\n        tx = 0;\n      }\n\n      const slideOpacity = swiper.params.fadeEffect.crossFade ? Math.max(1 - Math.abs($slideEl[0].progress), 0) : 1 + Math.min(Math.max($slideEl[0].progress, -1), 0);\n      const $targetEl = effectTarget(params, $slideEl);\n      $targetEl.css({\n        opacity: slideOpacity\n      }).transform(`translate3d(${tx}px, ${ty}px, 0px)`);\n    }\n  };\n\n  const setTransition = duration => {\n    const {\n      transformEl\n    } = swiper.params.fadeEffect;\n    const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n    $transitionElements.transition(duration);\n    effectVirtualTransitionEnd({\n      swiper,\n      duration,\n      transformEl,\n      allSlides: true\n    });\n  };\n\n  effectInit({\n    effect: 'fade',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    overwriteParams: () => ({\n      slidesPerView: 1,\n      slidesPerGroup: 1,\n      watchSlidesProgress: true,\n      spaceBetween: 0,\n      virtualTranslate: !swiper.params.cssMode\n    })\n  });\n}","import $ from '../../shared/dom.js';\nimport effectInit from '../../shared/effect-init.js';\nexport default function EffectCube(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on\n  } = _ref;\n  extendParams({\n    cubeEffect: {\n      slideShadows: true,\n      shadow: true,\n      shadowOffset: 20,\n      shadowScale: 0.94\n    }\n  });\n\n  const createSlideShadows = ($slideEl, progress, isHorizontal) => {\n    let shadowBefore = isHorizontal ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\n    let shadowAfter = isHorizontal ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\n\n    if (shadowBefore.length === 0) {\n      shadowBefore = $(`<div class=\"swiper-slide-shadow-${isHorizontal ? 'left' : 'top'}\"></div>`);\n      $slideEl.append(shadowBefore);\n    }\n\n    if (shadowAfter.length === 0) {\n      shadowAfter = $(`<div class=\"swiper-slide-shadow-${isHorizontal ? 'right' : 'bottom'}\"></div>`);\n      $slideEl.append(shadowAfter);\n    }\n\n    if (shadowBefore.length) shadowBefore[0].style.opacity = Math.max(-progress, 0);\n    if (shadowAfter.length) shadowAfter[0].style.opacity = Math.max(progress, 0);\n  };\n\n  const recreateShadows = () => {\n    // create new ones\n    const isHorizontal = swiper.isHorizontal();\n    swiper.slides.each(slideEl => {\n      const progress = Math.max(Math.min(slideEl.progress, 1), -1);\n      createSlideShadows($(slideEl), progress, isHorizontal);\n    });\n  };\n\n  const setTranslate = () => {\n    const {\n      $el,\n      $wrapperEl,\n      slides,\n      width: swiperWidth,\n      height: swiperHeight,\n      rtlTranslate: rtl,\n      size: swiperSize,\n      browser\n    } = swiper;\n    const params = swiper.params.cubeEffect;\n    const isHorizontal = swiper.isHorizontal();\n    const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n    let wrapperRotate = 0;\n    let $cubeShadowEl;\n\n    if (params.shadow) {\n      if (isHorizontal) {\n        $cubeShadowEl = $wrapperEl.find('.swiper-cube-shadow');\n\n        if ($cubeShadowEl.length === 0) {\n          $cubeShadowEl = $('<div class=\"swiper-cube-shadow\"></div>');\n          $wrapperEl.append($cubeShadowEl);\n        }\n\n        $cubeShadowEl.css({\n          height: `${swiperWidth}px`\n        });\n      } else {\n        $cubeShadowEl = $el.find('.swiper-cube-shadow');\n\n        if ($cubeShadowEl.length === 0) {\n          $cubeShadowEl = $('<div class=\"swiper-cube-shadow\"></div>');\n          $el.append($cubeShadowEl);\n        }\n      }\n    }\n\n    for (let i = 0; i < slides.length; i += 1) {\n      const $slideEl = slides.eq(i);\n      let slideIndex = i;\n\n      if (isVirtual) {\n        slideIndex = parseInt($slideEl.attr('data-swiper-slide-index'), 10);\n      }\n\n      let slideAngle = slideIndex * 90;\n      let round = Math.floor(slideAngle / 360);\n\n      if (rtl) {\n        slideAngle = -slideAngle;\n        round = Math.floor(-slideAngle / 360);\n      }\n\n      const progress = Math.max(Math.min($slideEl[0].progress, 1), -1);\n      let tx = 0;\n      let ty = 0;\n      let tz = 0;\n\n      if (slideIndex % 4 === 0) {\n        tx = -round * 4 * swiperSize;\n        tz = 0;\n      } else if ((slideIndex - 1) % 4 === 0) {\n        tx = 0;\n        tz = -round * 4 * swiperSize;\n      } else if ((slideIndex - 2) % 4 === 0) {\n        tx = swiperSize + round * 4 * swiperSize;\n        tz = swiperSize;\n      } else if ((slideIndex - 3) % 4 === 0) {\n        tx = -swiperSize;\n        tz = 3 * swiperSize + swiperSize * 4 * round;\n      }\n\n      if (rtl) {\n        tx = -tx;\n      }\n\n      if (!isHorizontal) {\n        ty = tx;\n        tx = 0;\n      }\n\n      const transform = `rotateX(${isHorizontal ? 0 : -slideAngle}deg) rotateY(${isHorizontal ? slideAngle : 0}deg) translate3d(${tx}px, ${ty}px, ${tz}px)`;\n\n      if (progress <= 1 && progress > -1) {\n        wrapperRotate = slideIndex * 90 + progress * 90;\n        if (rtl) wrapperRotate = -slideIndex * 90 - progress * 90;\n      }\n\n      $slideEl.transform(transform);\n\n      if (params.slideShadows) {\n        createSlideShadows($slideEl, progress, isHorizontal);\n      }\n    }\n\n    $wrapperEl.css({\n      '-webkit-transform-origin': `50% 50% -${swiperSize / 2}px`,\n      'transform-origin': `50% 50% -${swiperSize / 2}px`\n    });\n\n    if (params.shadow) {\n      if (isHorizontal) {\n        $cubeShadowEl.transform(`translate3d(0px, ${swiperWidth / 2 + params.shadowOffset}px, ${-swiperWidth / 2}px) rotateX(90deg) rotateZ(0deg) scale(${params.shadowScale})`);\n      } else {\n        const shadowAngle = Math.abs(wrapperRotate) - Math.floor(Math.abs(wrapperRotate) / 90) * 90;\n        const multiplier = 1.5 - (Math.sin(shadowAngle * 2 * Math.PI / 360) / 2 + Math.cos(shadowAngle * 2 * Math.PI / 360) / 2);\n        const scale1 = params.shadowScale;\n        const scale2 = params.shadowScale / multiplier;\n        const offset = params.shadowOffset;\n        $cubeShadowEl.transform(`scale3d(${scale1}, 1, ${scale2}) translate3d(0px, ${swiperHeight / 2 + offset}px, ${-swiperHeight / 2 / scale2}px) rotateX(-90deg)`);\n      }\n    }\n\n    const zFactor = browser.isSafari || browser.isWebView ? -swiperSize / 2 : 0;\n    $wrapperEl.transform(`translate3d(0px,0,${zFactor}px) rotateX(${swiper.isHorizontal() ? 0 : wrapperRotate}deg) rotateY(${swiper.isHorizontal() ? -wrapperRotate : 0}deg)`);\n    $wrapperEl[0].style.setProperty('--swiper-cube-translate-z', `${zFactor}px`);\n  };\n\n  const setTransition = duration => {\n    const {\n      $el,\n      slides\n    } = swiper;\n    slides.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);\n\n    if (swiper.params.cubeEffect.shadow && !swiper.isHorizontal()) {\n      $el.find('.swiper-cube-shadow').transition(duration);\n    }\n  };\n\n  effectInit({\n    effect: 'cube',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    recreateShadows,\n    getEffectParams: () => swiper.params.cubeEffect,\n    perspective: () => true,\n    overwriteParams: () => ({\n      slidesPerView: 1,\n      slidesPerGroup: 1,\n      watchSlidesProgress: true,\n      resistanceRatio: 0,\n      spaceBetween: 0,\n      centeredSlides: false,\n      virtualTranslate: true\n    })\n  });\n}","import $ from './dom.js';\nexport default function createShadow(params, $slideEl, side) {\n  const shadowClass = `swiper-slide-shadow${side ? `-${side}` : ''}`;\n  const $shadowContainer = params.transformEl ? $slideEl.find(params.transformEl) : $slideEl;\n  let $shadowEl = $shadowContainer.children(`.${shadowClass}`);\n\n  if (!$shadowEl.length) {\n    $shadowEl = $(`<div class=\"swiper-slide-shadow${side ? `-${side}` : ''}\"></div>`);\n    $shadowContainer.append($shadowEl);\n  }\n\n  return $shadowEl;\n}","import $ from '../../shared/dom.js';\nimport createShadow from '../../shared/create-shadow.js';\nimport effectInit from '../../shared/effect-init.js';\nimport effectTarget from '../../shared/effect-target.js';\nimport effectVirtualTransitionEnd from '../../shared/effect-virtual-transition-end.js';\nexport default function EffectFlip(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on\n  } = _ref;\n  extendParams({\n    flipEffect: {\n      slideShadows: true,\n      limitRotation: true,\n      transformEl: null\n    }\n  });\n\n  const createSlideShadows = ($slideEl, progress, params) => {\n    let shadowBefore = swiper.isHorizontal() ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\n    let shadowAfter = swiper.isHorizontal() ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\n\n    if (shadowBefore.length === 0) {\n      shadowBefore = createShadow(params, $slideEl, swiper.isHorizontal() ? 'left' : 'top');\n    }\n\n    if (shadowAfter.length === 0) {\n      shadowAfter = createShadow(params, $slideEl, swiper.isHorizontal() ? 'right' : 'bottom');\n    }\n\n    if (shadowBefore.length) shadowBefore[0].style.opacity = Math.max(-progress, 0);\n    if (shadowAfter.length) shadowAfter[0].style.opacity = Math.max(progress, 0);\n  };\n\n  const recreateShadows = () => {\n    // Set shadows\n    const params = swiper.params.flipEffect;\n    swiper.slides.each(slideEl => {\n      const $slideEl = $(slideEl);\n      let progress = $slideEl[0].progress;\n\n      if (swiper.params.flipEffect.limitRotation) {\n        progress = Math.max(Math.min(slideEl.progress, 1), -1);\n      }\n\n      createSlideShadows($slideEl, progress, params);\n    });\n  };\n\n  const setTranslate = () => {\n    const {\n      slides,\n      rtlTranslate: rtl\n    } = swiper;\n    const params = swiper.params.flipEffect;\n\n    for (let i = 0; i < slides.length; i += 1) {\n      const $slideEl = slides.eq(i);\n      let progress = $slideEl[0].progress;\n\n      if (swiper.params.flipEffect.limitRotation) {\n        progress = Math.max(Math.min($slideEl[0].progress, 1), -1);\n      }\n\n      const offset = $slideEl[0].swiperSlideOffset;\n      const rotate = -180 * progress;\n      let rotateY = rotate;\n      let rotateX = 0;\n      let tx = swiper.params.cssMode ? -offset - swiper.translate : -offset;\n      let ty = 0;\n\n      if (!swiper.isHorizontal()) {\n        ty = tx;\n        tx = 0;\n        rotateX = -rotateY;\n        rotateY = 0;\n      } else if (rtl) {\n        rotateY = -rotateY;\n      }\n\n      $slideEl[0].style.zIndex = -Math.abs(Math.round(progress)) + slides.length;\n\n      if (params.slideShadows) {\n        createSlideShadows($slideEl, progress, params);\n      }\n\n      const transform = `translate3d(${tx}px, ${ty}px, 0px) rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;\n      const $targetEl = effectTarget(params, $slideEl);\n      $targetEl.transform(transform);\n    }\n  };\n\n  const setTransition = duration => {\n    const {\n      transformEl\n    } = swiper.params.flipEffect;\n    const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n    $transitionElements.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);\n    effectVirtualTransitionEnd({\n      swiper,\n      duration,\n      transformEl\n    });\n  };\n\n  effectInit({\n    effect: 'flip',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    recreateShadows,\n    getEffectParams: () => swiper.params.flipEffect,\n    perspective: () => true,\n    overwriteParams: () => ({\n      slidesPerView: 1,\n      slidesPerGroup: 1,\n      watchSlidesProgress: true,\n      spaceBetween: 0,\n      virtualTranslate: !swiper.params.cssMode\n    })\n  });\n}","import createShadow from '../../shared/create-shadow.js';\nimport effectInit from '../../shared/effect-init.js';\nimport effectTarget from '../../shared/effect-target.js';\nexport default function EffectCoverflow(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on\n  } = _ref;\n  extendParams({\n    coverflowEffect: {\n      rotate: 50,\n      stretch: 0,\n      depth: 100,\n      scale: 1,\n      modifier: 1,\n      slideShadows: true,\n      transformEl: null\n    }\n  });\n\n  const setTranslate = () => {\n    const {\n      width: swiperWidth,\n      height: swiperHeight,\n      slides,\n      slidesSizesGrid\n    } = swiper;\n    const params = swiper.params.coverflowEffect;\n    const isHorizontal = swiper.isHorizontal();\n    const transform = swiper.translate;\n    const center = isHorizontal ? -transform + swiperWidth / 2 : -transform + swiperHeight / 2;\n    const rotate = isHorizontal ? params.rotate : -params.rotate;\n    const translate = params.depth; // Each slide offset from center\n\n    for (let i = 0, length = slides.length; i < length; i += 1) {\n      const $slideEl = slides.eq(i);\n      const slideSize = slidesSizesGrid[i];\n      const slideOffset = $slideEl[0].swiperSlideOffset;\n      const centerOffset = (center - slideOffset - slideSize / 2) / slideSize;\n      const offsetMultiplier = typeof params.modifier === 'function' ? params.modifier(centerOffset) : centerOffset * params.modifier;\n      let rotateY = isHorizontal ? rotate * offsetMultiplier : 0;\n      let rotateX = isHorizontal ? 0 : rotate * offsetMultiplier; // var rotateZ = 0\n\n      let translateZ = -translate * Math.abs(offsetMultiplier);\n      let stretch = params.stretch; // Allow percentage to make a relative stretch for responsive sliders\n\n      if (typeof stretch === 'string' && stretch.indexOf('%') !== -1) {\n        stretch = parseFloat(params.stretch) / 100 * slideSize;\n      }\n\n      let translateY = isHorizontal ? 0 : stretch * offsetMultiplier;\n      let translateX = isHorizontal ? stretch * offsetMultiplier : 0;\n      let scale = 1 - (1 - params.scale) * Math.abs(offsetMultiplier); // Fix for ultra small values\n\n      if (Math.abs(translateX) < 0.001) translateX = 0;\n      if (Math.abs(translateY) < 0.001) translateY = 0;\n      if (Math.abs(translateZ) < 0.001) translateZ = 0;\n      if (Math.abs(rotateY) < 0.001) rotateY = 0;\n      if (Math.abs(rotateX) < 0.001) rotateX = 0;\n      if (Math.abs(scale) < 0.001) scale = 0;\n      const slideTransform = `translate3d(${translateX}px,${translateY}px,${translateZ}px)  rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale(${scale})`;\n      const $targetEl = effectTarget(params, $slideEl);\n      $targetEl.transform(slideTransform);\n      $slideEl[0].style.zIndex = -Math.abs(Math.round(offsetMultiplier)) + 1;\n\n      if (params.slideShadows) {\n        // Set shadows\n        let $shadowBeforeEl = isHorizontal ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\n        let $shadowAfterEl = isHorizontal ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\n\n        if ($shadowBeforeEl.length === 0) {\n          $shadowBeforeEl = createShadow(params, $slideEl, isHorizontal ? 'left' : 'top');\n        }\n\n        if ($shadowAfterEl.length === 0) {\n          $shadowAfterEl = createShadow(params, $slideEl, isHorizontal ? 'right' : 'bottom');\n        }\n\n        if ($shadowBeforeEl.length) $shadowBeforeEl[0].style.opacity = offsetMultiplier > 0 ? offsetMultiplier : 0;\n        if ($shadowAfterEl.length) $shadowAfterEl[0].style.opacity = -offsetMultiplier > 0 ? -offsetMultiplier : 0;\n      }\n    }\n  };\n\n  const setTransition = duration => {\n    const {\n      transformEl\n    } = swiper.params.coverflowEffect;\n    const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n    $transitionElements.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);\n  };\n\n  effectInit({\n    effect: 'coverflow',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    perspective: () => true,\n    overwriteParams: () => ({\n      watchSlidesProgress: true\n    })\n  });\n}","import createShadow from '../../shared/create-shadow.js';\nimport effectInit from '../../shared/effect-init.js';\nimport effectTarget from '../../shared/effect-target.js';\nimport effectVirtualTransitionEnd from '../../shared/effect-virtual-transition-end.js';\nexport default function EffectCreative(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on\n  } = _ref;\n  extendParams({\n    creativeEffect: {\n      transformEl: null,\n      limitProgress: 1,\n      shadowPerProgress: false,\n      progressMultiplier: 1,\n      perspective: true,\n      prev: {\n        translate: [0, 0, 0],\n        rotate: [0, 0, 0],\n        opacity: 1,\n        scale: 1\n      },\n      next: {\n        translate: [0, 0, 0],\n        rotate: [0, 0, 0],\n        opacity: 1,\n        scale: 1\n      }\n    }\n  });\n\n  const getTranslateValue = value => {\n    if (typeof value === 'string') return value;\n    return `${value}px`;\n  };\n\n  const setTranslate = () => {\n    const {\n      slides,\n      $wrapperEl,\n      slidesSizesGrid\n    } = swiper;\n    const params = swiper.params.creativeEffect;\n    const {\n      progressMultiplier: multiplier\n    } = params;\n    const isCenteredSlides = swiper.params.centeredSlides;\n\n    if (isCenteredSlides) {\n      const margin = slidesSizesGrid[0] / 2 - swiper.params.slidesOffsetBefore || 0;\n      $wrapperEl.transform(`translateX(calc(50% - ${margin}px))`);\n    }\n\n    for (let i = 0; i < slides.length; i += 1) {\n      const $slideEl = slides.eq(i);\n      const slideProgress = $slideEl[0].progress;\n      const progress = Math.min(Math.max($slideEl[0].progress, -params.limitProgress), params.limitProgress);\n      let originalProgress = progress;\n\n      if (!isCenteredSlides) {\n        originalProgress = Math.min(Math.max($slideEl[0].originalProgress, -params.limitProgress), params.limitProgress);\n      }\n\n      const offset = $slideEl[0].swiperSlideOffset;\n      const t = [swiper.params.cssMode ? -offset - swiper.translate : -offset, 0, 0];\n      const r = [0, 0, 0];\n      let custom = false;\n\n      if (!swiper.isHorizontal()) {\n        t[1] = t[0];\n        t[0] = 0;\n      }\n\n      let data = {\n        translate: [0, 0, 0],\n        rotate: [0, 0, 0],\n        scale: 1,\n        opacity: 1\n      };\n\n      if (progress < 0) {\n        data = params.next;\n        custom = true;\n      } else if (progress > 0) {\n        data = params.prev;\n        custom = true;\n      } // set translate\n\n\n      t.forEach((value, index) => {\n        t[index] = `calc(${value}px + (${getTranslateValue(data.translate[index])} * ${Math.abs(progress * multiplier)}))`;\n      }); // set rotates\n\n      r.forEach((value, index) => {\n        r[index] = data.rotate[index] * Math.abs(progress * multiplier);\n      });\n      $slideEl[0].style.zIndex = -Math.abs(Math.round(slideProgress)) + slides.length;\n      const translateString = t.join(', ');\n      const rotateString = `rotateX(${r[0]}deg) rotateY(${r[1]}deg) rotateZ(${r[2]}deg)`;\n      const scaleString = originalProgress < 0 ? `scale(${1 + (1 - data.scale) * originalProgress * multiplier})` : `scale(${1 - (1 - data.scale) * originalProgress * multiplier})`;\n      const opacityString = originalProgress < 0 ? 1 + (1 - data.opacity) * originalProgress * multiplier : 1 - (1 - data.opacity) * originalProgress * multiplier;\n      const transform = `translate3d(${translateString}) ${rotateString} ${scaleString}`; // Set shadows\n\n      if (custom && data.shadow || !custom) {\n        let $shadowEl = $slideEl.children('.swiper-slide-shadow');\n\n        if ($shadowEl.length === 0 && data.shadow) {\n          $shadowEl = createShadow(params, $slideEl);\n        }\n\n        if ($shadowEl.length) {\n          const shadowOpacity = params.shadowPerProgress ? progress * (1 / params.limitProgress) : progress;\n          $shadowEl[0].style.opacity = Math.min(Math.max(Math.abs(shadowOpacity), 0), 1);\n        }\n      }\n\n      const $targetEl = effectTarget(params, $slideEl);\n      $targetEl.transform(transform).css({\n        opacity: opacityString\n      });\n\n      if (data.origin) {\n        $targetEl.css('transform-origin', data.origin);\n      }\n    }\n  };\n\n  const setTransition = duration => {\n    const {\n      transformEl\n    } = swiper.params.creativeEffect;\n    const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n    $transitionElements.transition(duration).find('.swiper-slide-shadow').transition(duration);\n    effectVirtualTransitionEnd({\n      swiper,\n      duration,\n      transformEl,\n      allSlides: true\n    });\n  };\n\n  effectInit({\n    effect: 'creative',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    perspective: () => swiper.params.creativeEffect.perspective,\n    overwriteParams: () => ({\n      watchSlidesProgress: true,\n      virtualTranslate: !swiper.params.cssMode\n    })\n  });\n}","import createShadow from '../../shared/create-shadow.js';\nimport effectInit from '../../shared/effect-init.js';\nimport effectTarget from '../../shared/effect-target.js';\nimport effectVirtualTransitionEnd from '../../shared/effect-virtual-transition-end.js';\nexport default function EffectCards(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on\n  } = _ref;\n  extendParams({\n    cardsEffect: {\n      slideShadows: true,\n      transformEl: null,\n      rotate: true\n    }\n  });\n\n  const setTranslate = () => {\n    const {\n      slides,\n      activeIndex\n    } = swiper;\n    const params = swiper.params.cardsEffect;\n    const {\n      startTranslate,\n      isTouched\n    } = swiper.touchEventsData;\n    const currentTranslate = swiper.translate;\n\n    for (let i = 0; i < slides.length; i += 1) {\n      const $slideEl = slides.eq(i);\n      const slideProgress = $slideEl[0].progress;\n      const progress = Math.min(Math.max(slideProgress, -4), 4);\n      let offset = $slideEl[0].swiperSlideOffset;\n\n      if (swiper.params.centeredSlides && !swiper.params.cssMode) {\n        swiper.$wrapperEl.transform(`translateX(${swiper.minTranslate()}px)`);\n      }\n\n      if (swiper.params.centeredSlides && swiper.params.cssMode) {\n        offset -= slides[0].swiperSlideOffset;\n      }\n\n      let tX = swiper.params.cssMode ? -offset - swiper.translate : -offset;\n      let tY = 0;\n      const tZ = -100 * Math.abs(progress);\n      let scale = 1;\n      let rotate = -2 * progress;\n      let tXAdd = 8 - Math.abs(progress) * 0.75;\n      const slideIndex = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.from + i : i;\n      const isSwipeToNext = (slideIndex === activeIndex || slideIndex === activeIndex - 1) && progress > 0 && progress < 1 && (isTouched || swiper.params.cssMode) && currentTranslate < startTranslate;\n      const isSwipeToPrev = (slideIndex === activeIndex || slideIndex === activeIndex + 1) && progress < 0 && progress > -1 && (isTouched || swiper.params.cssMode) && currentTranslate > startTranslate;\n\n      if (isSwipeToNext || isSwipeToPrev) {\n        const subProgress = (1 - Math.abs((Math.abs(progress) - 0.5) / 0.5)) ** 0.5;\n        rotate += -28 * progress * subProgress;\n        scale += -0.5 * subProgress;\n        tXAdd += 96 * subProgress;\n        tY = `${-25 * subProgress * Math.abs(progress)}%`;\n      }\n\n      if (progress < 0) {\n        // next\n        tX = `calc(${tX}px + (${tXAdd * Math.abs(progress)}%))`;\n      } else if (progress > 0) {\n        // prev\n        tX = `calc(${tX}px + (-${tXAdd * Math.abs(progress)}%))`;\n      } else {\n        tX = `${tX}px`;\n      }\n\n      if (!swiper.isHorizontal()) {\n        const prevY = tY;\n        tY = tX;\n        tX = prevY;\n      }\n\n      const scaleString = progress < 0 ? `${1 + (1 - scale) * progress}` : `${1 - (1 - scale) * progress}`;\n      const transform = `\n        translate3d(${tX}, ${tY}, ${tZ}px)\n        rotateZ(${params.rotate ? rotate : 0}deg)\n        scale(${scaleString})\n      `;\n\n      if (params.slideShadows) {\n        // Set shadows\n        let $shadowEl = $slideEl.find('.swiper-slide-shadow');\n\n        if ($shadowEl.length === 0) {\n          $shadowEl = createShadow(params, $slideEl);\n        }\n\n        if ($shadowEl.length) $shadowEl[0].style.opacity = Math.min(Math.max((Math.abs(progress) - 0.5) / 0.5, 0), 1);\n      }\n\n      $slideEl[0].style.zIndex = -Math.abs(Math.round(slideProgress)) + slides.length;\n      const $targetEl = effectTarget(params, $slideEl);\n      $targetEl.transform(transform);\n    }\n  };\n\n  const setTransition = duration => {\n    const {\n      transformEl\n    } = swiper.params.cardsEffect;\n    const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n    $transitionElements.transition(duration).find('.swiper-slide-shadow').transition(duration);\n    effectVirtualTransitionEnd({\n      swiper,\n      duration,\n      transformEl\n    });\n  };\n\n  effectInit({\n    effect: 'cards',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    perspective: () => true,\n    overwriteParams: () => ({\n      watchSlidesProgress: true,\n      virtualTranslate: !swiper.params.cssMode\n    })\n  });\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(402);\n"],"names":["root","factory","exports","module","define","amd","this","ActivityRequestTrigger","ActivityRequestError","code","message","request","ActivityResponse","rawContent","SuccessResponse","error","ErrorResponse","auth","_auth","buttons","button","type","undefined","value","URL","signinButton","e","tokenExchangeResource","LoginRequestResponse","logEvent","level","GlobalSettings","applets","logEnabled","onLogEvent","optionalParams","Enums","LogLevel","Warning","console","warn","Error","log","action","trigger","consecutiveActions","attemptNumber","retryAsync","onSend","_allowAutomaticCardUpdate","renderedElement","document","createElement","className","style","position","display","flexDirection","_cardHostElement","_refreshButtonHostElement","appendChild","displayCard","card","Utils","clearElementChildren","showManualRefreshButton","refreshAction","onShowManualRefreshButton","renderedRefreshButton","onRenderManualRefreshButton","Strings","runtime","refreshThisCard","refresh","mode","RefreshMode","Automatic","autoRefreshPausedMessage","automaticRefreshPaused","length","clckToRestartAutomaticRefresh","cardPayload","version","body","horizontalAlignment","inlines","text","selectAction","id","AdaptiveCard","parse","SerializationContext","Versions","v1_2","onExecuteAction","internalExecuteAction","render","removeProperty","createActivityRequest","ActivityRequest","sender","internalSendActivityRequestAsync","onPrepareActivityRequest","createMagicCodeInputCard","payload","color","wrap","placeholder","actions","AdaptiveApplet","_submitMagicCodeActionId","title","_cancelMagicCodeAuthActionId","cancelAutomaticRefresh","createSerializationContext","onCreateSerializationContext","internalSetCard","_cardPayload","hostConfig","serializationContext","onCardChanging","_card","authentication","onPrefetchSSOToken","Manual","onInputValueChanged","input","ChoiceSetInput","isDynamicTypeahead","filter","getFilterForDynamicSearch","dataQueryAction","DataQuery","dataset","choicesData","count","skip","_choiceSet","onCardChanged","maximumConsecutiveAutomaticRefreshes","timeBetweenAutomaticRefreshes","Info","window","setTimeout","Disabled","allowManualRefreshesAfterAutomaticRefreshes","UniversalAction","channelAdapter","onAction","createProgressOverlay","_progressOverlay","onCreateProgressOverlay","spinner","width","height","removeProgressOverlay","onRemoveProgressOverlay","removeChild","activityRequestSucceeded","response","parsedContent","onActivityRequestSucceeded","activityRequestFailed","onActivityRequestFailed","defaultTimeBetweenRetryAttempts","showAuthCodeInputDialog","onShowAuthCodeInputDialog","authCodeInputCard","submitMagicCodeAction","SubmitAction","authCode","data","alert","magicCodeInputCard","somethingWentWrong","ExecuteAction","internalSendExecuteRequestAsync","internalSendDataQueryRequestAsync","overlay","done","sendRequestAsync","JSON","maximumRetryAttempts","Promise","resolve","_reject","attemptOAuth","onSSOTokenNeeded","onShowSigninPrompt","left","screenX","outerWidth","authPromptWidth","screenY","outerHeight","authPromptHeight","open","authenticationFailed","stringify","showLoadingIndicator","showErrorIndicator","rawResponse","parsedResponse","renderChoices","removeLoadingIndicator","refreshCard","setCard","clearElement","element","trustedHtml","trustedTypes","emptyHTML","innerHTML","renderSeparation","separationDefinition","orientation","spacing","lineThickness","separator","makeCssClassName","Orientation","Horizontal","setAttribute","lineColor","stringToCssColor","paddingTop","marginBottom","borderBottom","paddingLeft","marginRight","borderRight","overflow","flex","_truncatedDueToOverflow","getValue","CardElement","langProperty","parent","lang","setValue","isVisibleProperty","useAdvancedCardBottomTruncation","undoOverflowTruncation","isVisible","updateRenderedElementVisibility","_renderedElement","raiseElementVisibilityChangedEvent","toString","internalRenderSeparator","renderedSeparator","getEffectiveSpacing","separatorOrientation","alwaysBleedSeparators","parentContainer","getParentContainer","getEffectivePadding","parentPhysicalPadding","paddingDefinitionToSpacingDefinition","marginLeft","right","displayMode","isDesignMode","_defaultRenderedElementDisplayMode","_separatorElement","isFirstElement","hideElementDueToOverflow","visibility","showElementHiddenDueToOverflow","handleOverflow","maxHeight","isHiddenDueToOverflow","handled","truncateOverflow","resetOverflow","sizeChanged","getDefaultSerializationContext","createPlaceholderElement","styleDefinition","getEffectiveStyleDefinition","foregroundCssColor","foregroundColors","default","subtle","border","padding","minHeight","fontSize","innerText","defaults","emptyElementText","getJsonTypeName","adjustRenderedElementSize","updateInputsVisualState","hover","allInputs","getAllInputs","inputEventType","InputEventType","MouseEnterOnCard","MouseLeaveOnCard","forEach","updateVisualState","isDisplayed","offsetHeight","overrideInternalRender","internalRender","applyPadding","separatorElement","isBleeding","PaddingDefinition","getImmediateSurroundingPadding","physicalPadding","_maxHeight","getDefaultPadding","getHasBackground","ignoreBackgroundImages","getHasBorder","getPadding","_padding","setPadding","shouldSerialize","context","elementRegistry","findByName","ContainerStyle","Default","source","asString","getEffectiveStyle","defaultStyle","containerStyles","getStyleByName","getEffectiveTextStyleDefinition","textStyles","getForbiddenActionTypes","result","processTop","processRight","processBottom","processLeft","doProcessTop","isTopElement","doProcessRight","isRightMostElement","doProcessBottom","isBottomElement","doProcessLeft","isLeftMostElement","effectivePadding","top","Spacing","None","bottom","getActionCount","getActionAt","index","errors","indexOutOfRange","indexOfAction","i","remove","CardElementContainer","removeItem","customCssSelector","classList","add","boxSizing","updateLayout","_processChildren","updateActionsEnabledState","getRootElement","getAllActions","updateEnabledState","indexOf","_cardElement","rootElement","designMode","_element","isLastElement","isAtTheVeryLeft","isAtTheVeryRight","isAtTheVeryTop","isAtTheVeryBottom","isBleedingAtTop","isBleedingAtBottom","getRootObject","currentElement","Container","processActions","push","getResourceInformation","getElementById","getActionById","_id","getElementByIdFromAction","ShowCardAction","getEffectiveHorizontalAlignment","HorizontalAlignment","Left","_hostConfig","defaultHostConfig","_parent","StringProperty","v1_1","BoolProperty","separatorProperty","v1_0","heightProperty","ValueSetProperty","horizontalAlignmentProperty","EnumProperty","spacingProperty","property","CardObject","targetVersion","name","forbiddenActionTypes","parseAction","toJSON","target","serializeValue","PropertyDefinition","ActionProperty","ariaHidden","populateSchema","schema","BaseTextBlock","selectActionProperty","textProperty","setText","getFontSize","fontType","effectiveSize","TextSize","Small","fontSizes","small","Medium","medium","Large","large","ExtraLarge","extraLarge","getColorDefinition","colorSet","TextColor","Accent","accent","Dark","dark","Light","light","Good","good","warning","Attention","attention","init","textDefinition","size","weight","isSubtle","applyStylesTo","targetElement","getFontTypeDefinition","effectiveFontType","fontFamily","fontWeight","colorDefinition","effectiveColor","targetColor","effectiveIsSubtle","effectiveWeight","TextWeight","Lighter","fontWeights","lighter","Bolder","bolder","sizeProperty","weightProperty","colorProperty","isSubtleProperty","fontTypeProperty","FontType","_treatAsPlainText","useMarkdown","restoreOriginalContent","maxLines","_computedLineHeight","originalHtml","TextBlock","_ttRoundtripPolicy","createHTML","_originalInnerHtml","truncateIfSupported","children","isTextOnly","tagName","toLowerCase","truncateText","_processedText","preProcessedText","preProcessPropertyValue","forElementId","labelElement","htmlFor","headingLevel","textBlock","supportsInteractivity","onclick","isEffectivelyEnabled","preventDefault","cancelBubble","execute","setupElementForAccessibility","formattedText","TextFormatters","formatText","allowMarkForTextHighlighting","replace","markdownProcessingResult","applyMarkdown","didProcess","outputHtml","markStyle","effectiveStyle","highlightBackgroundColor","highlightForegroundColor","processedHtml","_ttMarkdownPolicy","firstElementChild","HTMLElement","marginTop","textOverflow","lastElementChild","anchors","getElementsByTagName","anchor","raiseAnchorClickedEvent","oncontextmenu","Array","from","wordWrap","isInternetExplorer","useWebkitLineClamp","webkitBoxOrient","webkitLineClamp","whiteSpace","useAdvancedTextBlockTruncation","Center","textAlign","Right","lineHeights","lineHeight","processChildren","wrapProperty","maxLinesProperty","NumProperty","styleProperty","v1_5","createPolicy","italic","strikethrough","highlight","underline","href","getHref","fontStyle","textDecoration","backgroundColor","highlightColors","italicProperty","strikethroughProperty","highlightProperty","underlineProperty","v1_3","TextRun","_inlines","internalAddInline","inline","forceAdd","isInline","elementCannotBeUsedAsInline","inlineAlreadyParented","setParent","internalParse","isArray","jsonInline","textRun","parseElement","internalToJSON","jsonInlines","renderedInlines","renderedInline","getInlineCount","getInlineAt","addInline","removeInline","splice","RichTextBlock","getSchemaKey","titleProperty","valueProperty","Fact","SerializableObject","facts","borderWidth","borderSpacing","borderStyle","borderCollapse","trElement","factSet","tdElement","maxWidth","verticalAlign","factsProperty","SerializableObjectCollectionProperty","FactSet","internalName","fallbackProperty","getInternalName","sourceValue","defaultValue","isValid","SizeAndUnit","unit","SizeUnit","Pixel","physicalSize","isValidValue","logParseEvent","ValidationEvent","InvalidPropertyValue","invalidPropertyValue","isNaN","Size","Auto","ImageStyle","applySize","pixelWidth","pixelHeight","getEffectiveImageSize","Stretch","url","alignItems","justifyContent","imageElement","renderedImageElement","onload","_e","raiseImageLoadedEvent","onerror","errorElement","minWidth","onkeypress","Person","borderRadius","backgroundPosition","backgroundRepeat","setImageSource","altTextProperty","Image","alt","mimeType","imageForceLoader","ImageForceLoader","forceLoad","configureImage","src","urlProperty","resetImage","backgroundColorProperty","pixelWidthProperty","ImageDimensionProperty","pixelHeightProperty","shouldForceLoadProperty","v1_6","doForceLoad","uniqueHash","Date","now","urlWithForceLoadOption","image","allowVerticalOverflow","isSelectable","isElementAllowed","isInteractive","SpacingDefinition","paddingRight","paddingBottom","forbiddenChildElements","releaseDOMResources","getItemCount","getItemAt","internalValidateProperties","item","addFailure","InteractivityNotAllowed","interactivityNotAllowed","elementTypeNotAllowed","_selectAction","overflowX","overflowY","findDOMNodeOwner","node","_images","imageSize","ImageSize","presentationStyle","ImageSetPresentationStyle","pixelOffset","imageSetIsGrid","Grid","flexWrap","toggle","gap","renderImageSize","effectiveImageSize","imageSet","maxImageHeight","imageContainer","margin","flexBasis","flexGrow","flexShrink","renderedImageStyle","objectFit","Stacked","applyStackedPresentationStyle","dimension","StackedImageConfigurator","parseNumericPixelDimension","bgColor","getEffectiveBackgroundColor","configureImagesArrayAsStackedLayout","getFirstVisibleRenderedItem","getLastVisibleRenderedItem","itemIndex","addImage","cardElement","imagesProperty","imageSizeProperty","imagePresentationStyle","ImageSet","offset","sign45","maxImageCounts","normalizationConstant","Math","max","moveImageRight","moveImageUp","moveImageDown","makeImageRound","applyBorder","configureImageForBottomLeft","zIndex","configureImageForTopRight","elements","substring","parseInt","mimeTypeProperty","ContentSource","label","kind","labelProperty","CaptionSource","MediaSource","play","_posterUrl","MediaPlayer","owner","_selectedSources","_captionSources","processSources","_selectedMediaType","sources","mimeComponents","split","HTML5MediaPlayer","supportedMediaTypes","captionSources","canPlay","fetchVideoDetails","_mediaElement","altText","mediaPlayerAriaLabel","autoplay","controls","isMobileOS","muted","preload","renderedSource","captionSource","renderedCaptionSource","matches","CustomMediaPlayer","iFrameTitle","_videoId","container","iFrame","getEmbedVideoUrl","frameBorder","allow","allowFullscreen","IFrameMediaMediaPlayer","oEmbedUrl","fetch","ok","json","posterUrl","videoId","VimeoPlayer","apiUrl","DailymotionPlayer","_startTimeIndex","YouTubePlayer","createMediaPlayer","Media","customMediaPlayers","provider","urlPatterns","exec","handlePlayButtonInvoke","event","media","allowInlinePlayback","mediaPlayerElement","_mediaPlayer","focus","onPlay","displayPoster","poster","defaultPoster","parentNode","playButtonOuterElement","tabIndex","mediaPlayerPlayMedia","playButtonInnerElement","playButtonArrowWidth","playButtonArrowHeight","borderTopWidth","borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopColor","borderRightColor","borderBottomColor","transform","playButtonContainer","then","mediaSource","selectedMediaType","youTubeVideoPlayer","vimeoVideoPlayer","dailymotionVideoPlayer","sourcesProperty","captionSourcesProperty","posterProperty","inputStyle","InputStyle","getAllLabelIds","labelIds","labelledBy","_renderedLabelElement","_renderedErrorMessageElement","updateInputControlAriaLabelledBy","_renderedInputControlElement","join","removeAttribute","_inputControlContainerElement","_outerContainerElement","labelPosition","InputLabelPosition","Inline","renderedInputControlId","generateUniqueId","labelRichTextBlock","labelInline","isRequired","inputs","requiredInputs","isRequiredCueInline","suffix","suffixColor","optionalInputs","alignSelf","inputSpacing","isNullable","labelWidth","Weight","labelWidthInPercent","labelWidthInPixel","defaultLabelWidth","InitialRender","onblur","ev","FocusLeave","resetDirtyState","valueChanged","onInputValueChangedHandler","resetValidationFailureCue","onValueChanged","renderedInputControlElement","removeValidationFailureCue","showValidationErrorMessage","errorMessage","displayInputValidationErrors","errorMessageTextBlock","allowRevealOnHoverStyle","shouldHideInputAdornersForRevealOnHover","eventType","isInputInFocus","activeElement","inputHoverClassName","isMouseOverCard","contains","RevealOnHover","isDirty","_oldValue","PropertyCantBeNull","inputsMustHaveUniqueId","RequiredInputsShouldHaveLabel","RequiredInputsShouldHaveErrorMessage","validateValue","isSet","showValidationFailureCue","isRequiredProperty","errorMessageProperty","inputStyleProperty","labelWidthProperty","CustomProperty","prop","invalidLabelWidth","invalidInputLabelWidth","serializeNumber","labelPositionProperty","Above","Input","isMultiline","InputTextStyle","Text","setupInput","maxLength","oninput","ctrlKey","inlineAction","Password","renderedInputControl","iconUrl","textContent","inlineActionTitle","inputControlContainerElement","regex","RegExp","test","maxLengthProperty","isMultilineProperty","placeholderProperty","Tel","Url","Email","inlineActionProperty","regexProperty","TextInput","valueOn","valueOff","_checkboxInputElement","joinedLabelIds","_checkboxInputLabelElement","checked","_oldCheckboxValue","onchange","useMarkdownInRadioButtonAndCheckbox","spacerElement","valueOnProperty","valueOffProperty","ToggleInput","Choice","typeProperty","datasetProperty","countProperty","skipProperty","ChoiceSetInputDataQuery","isMultiSelect","choices","getUniqueCategoryName","uniqueCategoryName","_uniqueCategoryCounter","allowDynamicallyFilteredChoiceSet","_textInput","getDropdownElement","_filteredChoiceSet","dropdown","fetchedChoices","processResponse","createPlaceholderOptionWhenValueDoesNotExist","placeholderOption","selected","disabled","hidden","internalApplyAriaCurrent","_selectElement","options","option","renderCompoundInput","cssClassName","defaultValues","_toggleInputs","_labels","choice","_uniqueCategoryName","compoundInput","FilteredChoiceSet","textInput","onInputChangeEventHandler","debounce","processChoices","debounceTimeInMilliSeconds","choiceSetInputValueSeparator","inputContainer","dataList","append","isCompact","appearance","CollectionCantBeEmpty","choiceSetMustHaveAtLeastOneChoice","choiceSetChoicesMustHaveTitleAndValue","dynamicChoices","toggleInput","selectedIndex","choicesProperty","choicesDataProperty","SerializableObjectProperty","isMultiSelectProperty","choiceSetId","_choiceSetId","_choices","_dynamicChoices","_visibleChoiceCount","_highlightedChoiceId","choiceSetContainer","onkeydown","key","highlightChoice","click","_dropdown","createChoice","startIndex","valueSpan","unmatchedBeg","unmatchedBegSpan","filterSpan","unmatchedEnd","unmatchedEndSpan","onmousemove","scrollIntoView","currentHighlightedChoice","nextHighlightedChoice","filterChoices","trim","matchIndex","matchedText","choiceContainer","getStatusIndicator","_errorIndicator","errorIndicator","_loadingIndicator","loadingIndicator","resetDropdown","showDropdown","hasChildNodes","map","_numberInputElement","min","valueAsNumber","minProperty","maxProperty","NumberInput","_dateInputElement","hideDatePicker","updateInputAdornersVisibility","valueAsDate","minDate","maxDate","DateInput","TimeProperty","convertTimeStringToDate","timeString","_timeInputElement","hideTimePicker","TimeInput","ActionStyle","ActionMode","Primary","_state","_isFocusable","renderButtonContent","titleElement","iconPlacement","ActionIconPlacement","AboveTitle","allowTitleToWrap","iconElement","iconSize","updateCssClasses","parentContainerStyle","isFocusable","Positive","makeCssClassNames","internalGetReferencedInputs","internalPrepareForExecution","_inputs","internalValidateInputs","referencedInputs","Object","keys","actionRegistry","raiseExecuteActionEvent","onExecuteActionHandler","onExecute","prepareForExecution","internalAfterExecute","rootObject","getAriaRole","ariaRole","getAriaRoleFromEnum","role","ActionRole","Button","Link","Menu","MenuItem","Tab","promoteTooltipToLabel","HTMLButtonElement","tooltip","buttonElement","_actionCollection","actionExecuted","getReferencedInputs","invalidInputs","removeAction","validateInputs","isEnabled","iconUrlProperty","Destructive","modeProperty","Secondary","tooltipProperty","isEnabledProperty","roleProperty","Action","disabledUnlessAssociatedInputsChange","_isPrepared","_areReferencedInputsDirty","associatedInputs","current","_originalData","_processedData","resetInputsDirtyStateAfterActionExecution","resetReferencedInputsDirtyState","dataProperty","associatedInputsProperty","disabledUnlessAssociatedInputsChangeProperty","SubmitActionBase","JsonTypeName","verbProperty","v1_4","filterProperty","OpenUrlAction","propertyMustBeSet","targetElements","updateAriaControlsAttribute","elementIds","ToggleVisibilityAction","elementId","addTargetElement","removeTargetElement","targetElementsProperty","parseBool","serializeArray","StringWithSubstitutions","set","parseString","getOriginal","_value","substituteInputValues","ContentTypes","applicationXWwwFormUrlencoded","get","newValue","nameProperty","StringWithSubstitutionProperty","HttpHeader","_ignoreInputValidation","_url","headers","_body","contentType","applicationJson","header","HttpAction","actionHttpHeadersMustHaveNameAndValue","bodyProperty","methodProperty","headersProperty","ignoreInputValidationProperty","InlineAdaptiveCard","effectiveHostConfig","state","jsonCard","showCardMustHaveCard","showCard","actionMode","ShowCardActionMode","Popup","_actions","overflowButtonText","overflowButtonTooltip","getActions","onDisplayOverflowActionMenuHandler","onDisplayOverflowActionMenu","PopupMenu","menuItem","onClick","actionToExecute","closePopup","items","onClose","popup","_items","_renderedActions","_owner","isActionAllowed","forbiddenTypes","forbiddenType","constructor","refreshContainer","_actionCardContainer","_actionCard","renderedActionCount","inlineTopMargin","layoutChanged","showActionCard","suppressStyle","raiseEvent","renderedCard","_expandedAction","raiseInlineCardExpandedEvent","collapseExpandedAction","previouslyExpandedAction","expandShowCardAction","afterSelectedAction","renderedAction","actionsOrientation","clear","jsonAction","forbiddenActions","ContainerWithActions","getForbiddenActionNames","addAction","propertyName","validateProperties","maxActions","TooManyActions","tooManyActions","ActionTypeNotAllowed","actionTypeNotAllowed","preExpandSingleShowCardAction","buttonStrip","actionAlignment","ActionAlignment","allowedActions","bind","overflowPrimaryActions","allowMoreThanMaxActionsInOverflowMenu","shouldRenderOverflowActionButton","_overflowAction","OverflowAction","isRootAction","isAtRootLevelActions","onRenderOverflowActionsHandler","onRenderOverflowActions","raiseRenderOverflowActionsEvent","buttonSpacing","spacer","buttonStripContainer","actionAlreadyParented","expandedAction","actionIndex","ActionCollection","orientationProperty","ActionSet","onGetInitialValue","Emphasis","ContainerStyleProperty","allowCustomStyle","StylableCardElementContainer","applyBackground","surroundingPadding","currentElementHasBackgroundImage","backgroundImage","hasExplicitStyle","Padding","explicitStyle","_bleed","minPixelHeight","getHasExpandedAction","getBleed","setBleed","alwaysAllowBleed","bleedProperty","minHeightProperty","PixelSizeProperty","ContainerBase","resetDefaultValues","apply","BackgroundImage","fillMode","FillMode","Repeat","RepeatHorizontally","RepeatVertically","Cover","backgroundSize","backgroundPositionX","verticalAlignment","VerticalAlignment","Top","backgroundPositionY","Bottom","fillModeProperty","verticalAlignmentProperty","_renderedItems","backgroundImageProperty","insertItemAt","forceInsert","elementAlreadyParented","isStandalone","elementTypeNotStandalone","getItemsCollectionPropertyName","applyRTL","rtl","dir","getEffectiveVerticalContentAlignment","renderedItem","placeholderElement","offsetTop","elt","getFitStatus","ContainerFitStatus","FullyInContainer","Overflowing","containerMaxHeight","FullyOutOfContainer","setShouldFallback","jsonItems","collectionPropertyName","removePaddingFromContainersWithBackgroundImage","verticalContentAlignment","isRtl","firstRenderedItem","lastRenderedItem","addItem","insertItemBefore","insertBefore","insertItemAfter","insertAfter","verticalContentAlignmentProperty","rtlProperty","_computedWeight","_context","Vertical","ColumnSet","widthProperty","invalidWidth","compareTo","invalidColumnWidth","Column","_columns","createColumnInstance","parseCardObject","typeName","_errorType","ElementTypeNotAllowed","_renderedColumns","totalWeight","column","computedWeight","renderedColumn","jsonColumns","getColumnAt","weightedColumns","stretchedColumns","Hint","hints","dontUseWeightedAndStrecthedColumnsInSameSet","addColumn","columnAlreadyBelongsToAnotherSet","onImageLoadedHandler","onImageLoaded","onAnchorClickedHandler","onAnchorClicked","isExpanded","onInlineCardExpandedHandler","onInlineCardExpanded","shouldUpdateLayout","onElementVisibilityChangedHandler","onElementVisibilityChanged","hide","readOnly","required","parseActions","renderedActions","renderIfEmpty","RefreshActionProperty","RefreshDefinition","actionProperty","userIdsProperty","StringArrayProperty","imageProperty","AuthCardButton","idProperty","uriProperty","providerIdProperty","TokenExchangeResource","connectionNameProperty","buttonsProperty","tokenExchangeResourceProperty","Authentication","refreshProperty","processMarkdownEventRemoved","onProcessMarkdown","markdownit","markdownIt","_haveWarnedAboutNoMarkdownProcessing","markdownProcessingNotEnabled","isVersionSupported","bypassVersionCheck","maxVersion","major","minor","_fallbackCard","fallbackElement","versionProperty","adaptiveCard","typeNameProperty","MissingCardType","invalidCardType","UnsupportedCardVersion","unsupportedCardVersion","shouldFallback","setTabIndexAtCardRoot","speak","onmouseenter","onmouseleave","inputElements","schemaUrl","$schemaProperty","Version","latest","invalidCardVersion","fallbackTextProperty","speakProperty","authenticationProperty","_forbiddenTypes","Set","internalParseCardObject","allowFallback","createInstanceCallback","has","TypeErrorType","ForbiddenType","tryToFallback","enableFallback","UnknownType","fallback","cardObjectParsed","o","onParseAction","onParseElement","forbiddenTypeNames","createInstance","errorType","UnknownElementType","unknownElementType","UnknownActionType","unknownActionType","_elementRegistry","GlobalRegistry","setElementRegistry","_actionRegistry","setActionRegistry","BaseSerializationContext","defaultElements","register","defaultActions","allIds","validationEvents","cardObject","phase","ValidationPhase","Validation","ValidationResults","_shouldFallback","requiresProperty","propertyValue","allowPreProcessingPropertyValues","currentObject","onPreProcessPropertyValue","requires","areAllMet","hostCapabilities","hasOwnProperty","DuplicateId","duplicateId","HostCapabilities","carouselSlide","getForbiddenChildElements","CarouselPage","carouselLoop","carouselOrientation","_pages","_currentIndex","_previousEventType","CarouselInteractionEvent","Pagination","timer","Carousel","timerProperty","carousel","minAutoplayDelay","tooLittleTimeDelay","initialPageProperty","isValidParsedPageIndex","invalidInitialPageIndex","isValidPageIndex","isValidRenderedPageIndex","_renderedPages","collectionSize","_containerForAdorners","carouselHeight","_carouselPageContainer","addPage","page","_carousel","slides","activeIndex","realIndex","jsonPages","createCarouselPageInstance","validateParsing","initialPageIndex","validateOrientationProperties","cardLevelContainer","carouselContainer","containerForAdorners","carouselWrapper","navigationContainer","prevElementDiv","nextElementDiv","updateCssForHorizontalCarousel","updateCssForVerticalCarousel","pagination","addCancelSelectActionEventHandler","requestedNumberOfPages","maxCarouselPages","tooManyCarouselPages","initializeCarouselControl","nextElement","prevElement","paginationElement","nextElementAdjustedForRtl","prevElementAdjustedForRtl","prevElementAdjustedForOrientation","nextElementAdjustedForOrientation","swiperOptions","loop","modules","Navigation","Scrollbar","A11y","History","Keyboard","el","clickable","navigation","prevEl","nextEl","a11y","enabled","keyboard","onlyInViewport","direction","resizeObserver","initialSlide","Autoplay","delay","pauseOnMouseEnter","Swiper","addEventListener","_event","stop","start","on","swiper","raiseCarouselEvent","NavigationNext","NavigationPrevious","currentIndex","paginationEl","bullets","bullet","slideTo","destroyResizeObserver","ariaLabel","carouselNavigationPreviousTooltip","carouselNavigationNextTooltip","createResizeObserver","createCarouselEvent","currentPageId","currentPageIndex","CarouselEvent","onCarouselEventHandler","onCarouselEvent","previousEventType","checkIfCarouselInValidStateForResizeEvent","_observer","ResizeObserver","entries","newWidth","newHeight","contentBoxSize","contentRect","inlineSize","blockSize","emit","observe","unobserve","destroyed","loopProperty","carouselHeightProperty","carouselId","activeCarouselPageId","activeCarouselPageIndex","ChannelAdapter","onItemAdded","onItemRemoved","Collection","tab","enter","escape","space","up","down","delete","Constants","_isEnabled","_iconUrl","showIconInOverflow","textElement","onmouseup","stopPropagation","_isOpen","keyDown","_rootElementBounds","renderContent","_popupElement","_overlayElement","documentElement","scrollWidth","scrollHeight","onfocus","rootElementBounds","getBoundingClientRect","rootElementLabel","getAttribute","popupElementBounds","availableSpaceBelow","innerHeight","availableSpaceAbove","availableSpaceRight","innerWidth","availableSpaceLeft","getScrollX","actualPopupHeight","getScrollY","actualPopupWidth","wasCancelled","PopupControl","_selectedIndex","selectedItemIndex","removeAriaExpanded","_capabilities","jsonVersion","addCapability","removeCapability","hasCapability","capabilityName","parseHostConfigEnum","targetEnum","parsedValue","parseEnum","defaultColor","subtleColor","obj","ColorDefinition","TextColorDefinition","AdaptiveCardConfig","parseNumber","ImageSetConfig","MediaConfig","cellSpacing","TableConfig","getDefaultWeight","BaseTextDefinition","TextStyleDefinition","heading","columnHeader","TextStyleSet","TextBlockConfig","RequiredInputLabelTextDefinition","InputLabelConfig","InputConfig","FactTextDefinition","FactTitleDefinition","FactSetConfig","ShowCardActionConfig","LeftOfTitle","sizeAndUnit","Shared","ActionsConfig","parseSingleColor","ColorSetDefinition","borderColor","ContainerStyleDefinition","_allStyles","BuiltInContainerStyleDefinition","customStyleArray","customStyle","styleName","isBuiltIn","emphasis","customStyles","ContainerStyleSet","monospace","FontTypeDefinition","getStyleDefinition","Monospace","FontTypeSet","CarouselConfig","imageSizes","table","String","_legacyFontType","fontTypes","paddingDefinition","classNames","cssClassNamePrefix","HostConfig","minAutoplayDuration","copyTo","typeRegistration","objectType","schemaVersion","registrationInfo","unregister","CardObjectRegistry","populateWithDefaultElements","registry","populateWithDefaultActions","_elements","reset","_isValid","_major","_minor","_label","versionString","_versionString","invalidVersionString","otherVersion","getAllDeclaredVersions","ctor","properties","match","sort","v1","v2","_validationEvents","isTemplateString","startsWith","tryDeleteValue","enableFullJsonRoundTrip","tryDeleteDefaultValue","forceDeleteIfNullOrDefault","serializeString","serializeBool","serializeEnum","enumType","serializedItem","clearEvents","Parse","getEventAt","isSerializationEnabled","sequentialNumber","_sequentialNumber","treatEmptyAsUndefined","regEx","values","versionedValue","propertyValueNotSupported","invalidValue","ToJSON","_values","keyAsNumber","enumValue","getEnumValueByName","nullable","serializedValue","hasAllDefaultValues","sourceCollection","sourceItem","onParse","onToJSON","_properties","getCount","SerializableObjectSchema","propertyKey","descriptor","getOwnPropertyDescriptor","defineProperty","_propertyBag","_rawProperties","defaultMaxVersion","s","getSchema","SimpleSerializationContext","sortedProperties","p1","p2","onRegisterCustomProperties","UnsupportedProperty","propertyNotSupported","serializedProperties","effectiveContext","toJSONOriginalParam","hasDefaultValue","setCustomProperty","getCustomProperty","_schemaCache","logLevel","_isProcessed","_original","_processed","matchedInput","valueForReplace","slice","encodeURIComponent","requireUnitSpecifier","expectedMatchCount","generate","d0","random","d1","d2","d3","UUID","lut","initialize","defaultingToVersion","supportedInVersion","versionUsed","maximumActions","maxSupportedVersion","tryAgain","pleaseLogin","enterMagicCode","pleaseEnterMagicCodeYouReceived","submit","cancel","elementType","horizontalCellContentAlignmentProperty","verticalCellContentAlignmentProperty","TableColumnDefinition","parseItem","createItemInstance","internalAddItem","internalRemoveItem","internalIndexOf","getCollectionPropertyName","instance","StylableContainer","_columnIndex","_cellType","parentRow","parentTable","showGridLines","gridStyle","cellElement","cellType","horizontalCellContentAlignment","columnIndex","verticalCellContentAlignment","TableCell","isFirstRow","getIsFirstRow","rowElement","getColumnCount","cell","firstRowAsHeaders","renderedCell","computedWidth","addCell","removeCellAt","ensureHasEnoughCells","cellCount","TableRow","Table","gridStyleProperty","ensureRowsHaveEnoughCells","removeCellsFromColumn","totalWeights","tableElement","borderTop","borderLeft","renderedRow","separatorRow","removeColumn","addRow","row","_columnsProperty","firstRowAsHeadersProperty","showGridLinesProperty","regularExpression","_regularExpression","format","internalFormat","date","toLocaleDateString","day","weekday","month","year","AbstractTextFormatter","toLocaleTimeString","hour","minute","DateFormatter","TimeFormatter","truncateWorker","fullText","truncateAt","fits","breakableIndices","html","results","idx","findNextCharacter","findBreakableIndices","lo","hi","bestBreakIdx","mid","floor","documentMode","userAgent","navigator","child","a","ttDeprecatedPolicy","currIdx","truncatedString","truncatedHTML","containerEnd","clientHeight","pageXOffset","pageYOffset","firstChild","fn","clearTimeout","args","isObject","extend","ssrDocument","removeEventListener","blur","nodeName","querySelector","querySelectorAll","createEvent","initEvent","childNodes","createElementNS","importNode","location","hash","host","hostname","origin","pathname","protocol","search","getDocument","doc","ssrWindow","history","replaceState","pushState","go","back","CustomEvent","getComputedStyle","getPropertyValue","screen","matchMedia","requestAnimationFrame","callback","cancelAnimationFrame","win","Dom7","super","proto","__proto__","makeReactive","arrayFlat","arr","res","arrayFilter","prototype","call","$","selector","toCreate","tempParent","qsa","nodeType","uniqueArray","arrayUnique","noTrigger","shortcut","Methods","addClass","classes","c","removeClass","hasClass","toggleClass","attr","attrs","arguments","attrName","removeAttr","transition","duration","transitionDuration","targetSelector","listener","capture","handleLiveEvent","eventData","dom7EventData","unshift","is","parents","k","handleEvent","events","j","dom7LiveListeners","proxyListener","dom7Listeners","off","handlers","handler","dom7proxy","evt","detail","bubbles","cancelable","dataIndex","dispatchEvent","transitionEnd","dom","fireCallBack","includeMargins","styles","offsetWidth","parseFloat","box","clientTop","clientLeft","scrollTop","scrollY","scrollLeft","scrollX","css","props","each","compareWith","webkitMatchesSelector","msMatchesSelector","previousSibling","eq","returnIndex","els","newChild","tempDiv","prepend","next","nextElementSibling","nextAll","nextEls","prev","previousElementSibling","prevAll","prevEls","closest","find","foundElements","found","methodName","writable","nextTick","getTranslate","axis","matrix","curTransform","transformMatrix","curStyle","currentStyle","WebKitCSSMatrix","webkitTransform","MozTransform","OTransform","MsTransform","msTransform","m41","m42","isNode","to","noExtend","nextSource","keysArray","nextIndex","len","nextKey","desc","enumerable","__swiper__","setCSSProperty","varName","varValue","setProperty","animateCSSModeScroll","_ref","targetPosition","side","startPosition","translate","time","startTime","params","speed","wrapperEl","scrollSnapType","cssModeFrameID","isOutOfBound","animate","getTime","progress","easeProgress","cos","PI","currentPosition","scrollTo","support","deviceCached","browser","getSupport","smoothScroll","touch","DocumentTouch","passiveListener","supportsPassive","opts","gestures","calcSupport","priority","self","eventsListeners","method","once","onceHandler","__emitterProxy","_len","_key","onAny","eventsAnyListeners","offAny","eventHandler","_len2","_key2","updateSize","$el","clientWidth","isHorizontal","isVertical","Number","assign","updateSlides","getDirectionLabel","getDirectionPropertyValue","$wrapperEl","swiperSize","rtlTranslate","wrongRTL","isVirtual","virtual","previousSlidesLength","slideClass","slidesLength","snapGrid","slidesGrid","slidesSizesGrid","offsetBefore","slidesOffsetBefore","offsetAfter","slidesOffsetAfter","previousSnapGridLength","previousSlidesGridLength","spaceBetween","slidePosition","prevSlideSize","virtualSize","centeredSlides","cssMode","gridEnabled","grid","rows","slideSize","initSlides","shouldResetSlideSize","slidesPerView","breakpoints","slide","updateSlide","slideStyles","currentTransform","currentWebKitTransform","roundLengths","swiperSlideSize","abs","slidesPerGroup","slidesPerGroupSkip","effect","setWrapperSize","updateWrapperSize","newSlidesGrid","slidesGridItem","_","slideIndex","centeredSlidesBounds","allSlidesSize","slideSizeValue","maxSnap","snap","centerInsufficientSlides","allSlidesOffset","snapIndex","addToSnapGrid","addToSlidesGrid","v","watchOverflow","checkOverflow","watchSlidesProgress","updateSlidesOffset","backFaceHiddenClass","containerModifierClass","hasClassBackfaceClassAdded","maxBackfaceHiddenSlides","updateAutoHeight","activeSlides","setTransition","getSlideByIndex","visibleSlides","ceil","swiperSlideOffset","offsetLeft","updateSlidesProgress","offsetCenter","slideVisibleClass","visibleSlidesIndexes","slideOffset","slideProgress","minTranslate","originalSlideProgress","slideBefore","slideAfter","originalProgress","updateProgress","multiplier","translatesDiff","maxTranslate","isBeginning","isEnd","wasBeginning","wasEnd","autoHeight","updateSlidesClasses","activeSlide","slideActiveClass","slideNextClass","slidePrevClass","slideDuplicateActiveClass","slideDuplicateNextClass","slideDuplicatePrevClass","slideDuplicateClass","nextSlide","prevSlide","emitSlidesClasses","updateActiveIndex","newActiveIndex","previousIndex","previousRealIndex","previousSnapIndex","normalizeSlideIndex","initialized","runCallbacksOnInit","updateClickedSlide","slideFound","clickedSlide","clickedIndex","slideToClickedSlide","transitionEmit","runCallbacks","step","internal","initial","indexAsNumber","isFinite","animating","preventInteractionOnTransition","normalizedTranslate","normalizedGrid","normalizedGridNext","allowSlideNext","allowSlidePrev","setTranslate","transitionStart","isH","t","_immediateVirtual","_swiperImmediateVirtual","behavior","onSlideToWrapperTransitionEnd","slideToLoop","newIndex","loopedSlides","slideNext","perGroup","slidesPerGroupAuto","slidesPerViewDynamic","increment","loopPreventsSlide","loopFix","_clientLeft","rewind","slidePrev","normalize","val","normalizedSnapGrid","prevSnap","prevSnapIndex","prevIndex","lastIndex","slideReset","slideToClosest","threshold","currentSnap","slideToIndex","loopCreate","$selector","loopFillGroupWithBlank","blankSlidesNum","blankNode","slideBlankClass","loopAdditionalSlides","prependSlides","appendSlides","cloneNode","diff","loopDestroy","onTouchStart","touchEventsData","touches","originalEvent","$targetEl","touchEventsTarget","isTouchEvent","which","isTouched","isMoved","noSwipingClass","shadowRoot","path","noSwipingSelector","isTargetShadow","noSwiping","base","__closestFrom","assignedSlot","getRootNode","closestElement","allowClick","swipeHandler","currentX","targetTouches","pageX","currentY","pageY","startX","startY","edgeSwipeDetection","iOSEdgeSwipeDetection","edgeSwipeThreshold","iOSEdgeSwipeThreshold","allowTouchCallbacks","isScrolling","startMoving","touchStartTime","swipeDirection","allowThresholdMove","focusableElements","shouldPreventDefault","allowTouchMove","touchStartPreventDefault","touchStartForcePreventDefault","isContentEditable","freeMode","onTouchMove","targetTouch","changedTouches","preventedByNestedSwiper","touchReleaseOnEdges","diffX","diffY","sqrt","touchAngle","atan2","touchMoveStopPropagation","nested","startTranslate","allowMomentumBounce","grabCursor","setGrabCursor","touchRatio","currentTranslate","disableParentSwiper","resistanceRatio","resistance","followFinger","onTouchEnd","touchEndTime","timeDiff","pathTree","composedPath","lastClickTime","currentPos","stopIndex","groupSize","rewindFirstIndex","rewindLastIndex","ratio","longSwipesMs","longSwipes","longSwipesRatio","shortSwipes","onResize","setBreakpoint","running","paused","run","preventClicks","preventClicksPropagation","stopImmediatePropagation","onScroll","newProgress","previousTranslate","dummyEventAttached","dummyEventListener","touchEvents","device","domMethod","swiperMethod","passiveListeners","passive","move","end","updateOnWindowResize","ios","android","attachEvents","detachEvents","isGridEnabled","addClasses","suffixes","prefix","resultClasses","prepareClasses","fill","emitContainerClasses","removeClasses","createElements","virtualTranslate","breakpointsBase","simulateTouch","uniqueNavElements","preloadImages","updateOnImagesReady","wrapperClass","_emitClasses","moduleExtendParams","allModulesParams","moduleParamName","moduleParams","auto","prototypes","eventsEmitter","update","byController","x","y","translateTo","translateBounds","newTranslate","onTranslateToWrapperTransitionEnd","moving","isLocked","cursor","unsetGrabCursor","breakpoint","getBreakpoint","currentBreakpoint","breakpointParams","originalParams","wasMultiRow","isMultiRow","wasEnabled","wasModuleEnabled","isModuleEnabled","disable","enable","directionChanged","needsReLoop","changeDirection","containerEl","currentHeight","points","point","minRatio","substr","b","wasLocked","lastSlideIndex","lastSlideRightEdge","images","loadImage","imageEl","srcset","sizes","checkForComplete","onReady","complete","imagesLoaded","imagesToLoad","currentSrc","extendedDefaults","swipers","newParams","overrides","_temp","platform","ua","screenWidth","screenHeight","ipad","ipod","iphone","windows","macos","os","calcDevice","isSafari","isWebView","calcBrowser","__modules__","mod","extendParams","swiperParams","passedParams","eventName","velocity","desktop","touchEventsTouch","touchEventsDesktop","clickTimeout","velocities","setProgress","cls","getSlideClasses","slideEl","updates","view","exact","spv","breakLoop","translateValue","translated","newDirection","needUpdate","currentDirection","changeLanguageDirection","mount","mounted","getWrapperSelector","getWrapper","wrapper","destroy","deleteInstance","cleanStyles","object","deleteProps","static","newDefaults","m","installModule","prototypeGroup","protoMethod","use","observer","animationFrame","resizeHandler","orientationChangeHandler","_ref2","observers","attach","MutationObserver","WebkitMutationObserver","mutations","observerUpdate","attributes","childList","characterData","observeParents","observeSlideChildren","containerParents","disconnect","Virtual","cssModeTimeout","renderSlide","cache","$slideEl","force","addSlidesBefore","addSlidesAfter","previousFrom","previousTo","previousSlidesGrid","previousOffset","offsetProp","slidesAfter","slidesBefore","onRendered","lazy","load","renderExternal","slidesToRender","renderExternalUpdate","prependIndexes","appendIndexes","appendSlide","prependSlide","numberOfNewSlides","newCache","cachedIndex","$cachedEl","cachedElIndex","removeSlide","slidesIndexes","removeAllSlides","handle","kc","keyCode","charCode","pageUpDown","isPageUp","isPageDown","isArrowLeft","isArrowRight","isArrowUp","isArrowDown","shiftKey","altKey","metaKey","inView","swiperWidth","swiperHeight","windowWidth","windowHeight","swiperOffset","swiperCoord","returnValue","Mousewheel","timeout","mousewheel","releaseOnEdges","invert","forceToAxis","sensitivity","eventsTarget","thresholdDelta","thresholdTime","lastEventBeforeSnap","lastScrollTime","recentWheelEvents","handleMouseEnter","mouseEntered","handleMouseLeave","animateSlider","newEvent","delta","raw","rtlFactor","sX","sY","pX","pY","wheelDelta","wheelDeltaY","wheelDeltaX","HORIZONTAL_AXIS","deltaY","deltaX","deltaMode","spinX","spinY","pixelX","pixelY","positions","sign","ignoreWheelEvents","sticky","shift","prevEvent","firstEvent","snapToThreshold","autoplayDisableOnInteraction","releaseScroll","createElementIfNotDefined","checkProps","getEl","toggleEl","disabledClass","lockClass","$nextEl","$prevEl","onPrevClick","onNextClick","hideOnClick","hiddenClass","navigationDisabledClass","_s","targetEl","isHidden","classesToSelector","pfx","bulletSize","bulletElement","renderBullet","renderProgressbar","renderFraction","renderCustom","progressbarOpposite","dynamicBullets","dynamicMainBullets","formatFractionCurrent","number","formatFractionTotal","bulletClass","bulletActiveClass","modifierClass","currentClass","totalClass","progressbarFillClass","progressbarOppositeClass","clickableClass","horizontalClass","verticalClass","paginationDisabledClass","dynamicBulletIndex","isPaginationDisabled","setSideBullets","$bulletEl","total","paginationType","firstIndex","midIndex","$bullet","bulletIndex","$firstDisplayedBullet","$lastDisplayedBullet","dynamicBulletsLength","bulletsOffset","progressbarDirection","scale","scaleX","scaleY","paginationHTML","numberOfBullets","dragStartPos","dragSize","trackSize","divider","dragTimeout","scrollbar","$dragEl","newSize","newPos","opacity","getPointerPosition","clientX","clientY","setDragPosition","positionRatio","onDragStart","onDragMove","onDragEnd","snapOnRelease","activeListener","eventMethod","$swiperEl","dragClass","dragEl","draggable","scrollbarDisabledClass","Parallax","parallax","setTransform","p","currentOpacity","currentScale","_swiper","parallaxEl","$parallaxEl","parallaxDuration","Zoom","zoom","maxRatio","containerClass","zoomedSlideClass","gesturesEnabled","fakeGestureTouched","fakeGestureMoved","isScaling","gesture","slideWidth","slideHeight","$imageEl","$imageWrapEl","minX","minY","maxX","maxY","touchesStart","touchesCurrent","prevPositionX","prevPositionY","prevTime","getDistanceBetweenTouches","x1","y1","x2","y2","onGestureStart","scaleStart","onGestureChange","scaleMove","onGestureEnd","scaledWidth","scaledHeight","onTransitionEnd","zoomIn","touchX","touchY","offsetX","offsetY","translateX","translateY","imageWidth","imageHeight","translateMinX","translateMinY","translateMaxX","translateMaxY","touchAction","zoomOut","zoomToggle","getListeners","activeListenerWithCapture","getSlideSelector","toggleGestures","slideSelector","enableGestures","disableGestures","momentumDurationX","momentumDurationY","momentumDistanceX","newPositionX","momentumDistanceY","newPositionY","momentumDuration","in","out","Lazy","checkInView","loadPrevNext","loadPrevNextAmount","loadOnTransitionStart","scrollingElement","elementClass","loadingClass","loadedClass","preloaderClass","scrollHandlerAttached","initialImageLoaded","loadInSlide","loadInDuplicate","$images","background","$pictureEl","sourceEl","$source","slideOriginalIndex","slideExist","amount","maxIndex","minIndex","checkInViewOnLoad","$scrollElement","isWindow","scrollElementWidth","scrollElementHeight","Controller","LinearSpline","binarySearch","guess","array","i1","i3","interpolate","removeSpline","controller","control","spline","inverse","by","_t","controlled","controlledTranslate","setControlledTranslate","getInterpolateFunction","setControlledTransition","notificationClass","prevSlideMessage","nextSlideMessage","firstSlideMessage","lastSlideMessage","paginationBulletMessage","slideLabelMessage","containerMessage","containerRoleDescriptionMessage","itemRoleDescriptionMessage","slideRole","liveRegion","notify","notification","makeElFocusable","makeElNotFocusable","addElRole","addElRoleDescription","description","addElLabel","disableEl","enableEl","onEnterOrSpaceKey","hasPagination","hasClickablePagination","initNavEl","wrapperId","addElControls","handleFocus","includes","isActive","$containerEl","repeat","round","live","addElLive","updateNavigation","bulletEl","updatePagination","keepQuery","paths","slugify","getPathValues","urlOverride","pathArray","part","setHistory","currentState","scrollToSlide","setHistoryPopState","hashNavigation","HashNavigation","watchState","onHashChange","newHash","setHash","$activeSlideEl","autoplayResult","reverseDirection","stopOnLastSlide","pause","waitForTransition","onVisibilityChange","visibilityState","onMouseEnter","disableOnInteraction","onMouseLeave","Thumb","thumbs","multipleActiveThumbs","autoScrollOffset","slideThumbActiveClass","thumbsContainerClass","swiperCreated","onThumbClick","thumbsSwiper","thumbsParams","SwiperClass","thumbsSwiperParams","thumbsToActivate","thumbActiveClass","useOffset","newThumbsIndex","currentThumbsIndex","prevThumbsIndex","nextThumbsIndex","momentum","momentumRatio","momentumBounce","momentumBounceRatio","momentumVelocityRatio","minimumVelocity","lastMoveEvent","pop","velocityEvent","distance","momentumDistance","newPosition","afterBouncePosition","doBounce","bounceAmount","needsLoopFix","moveDistance","currentSlideSize","slidesNumberEvenToRows","slidesPerRow","numFullColumns","newSlideOrderIndex","groupIndex","slideIndexInGroup","columnsInGroup","order","addSlide","activeIndexBuffer","baseLength","slidesBuffer","currentSlide","indexToRemove","Manipulation","effectInit","overwriteParams","perspective","recreateShadows","getEffectParams","requireUpdateOnVirtual","overwriteParamsResult","slideShadows","effectTarget","effectParams","transformEl","effectVirtualTransitionEnd","allSlides","$transitionEndTarget","eventTriggered","triggerEvents","EffectFade","fadeEffect","crossFade","tx","ty","slideOpacity","EffectCube","cubeEffect","shadow","shadowOffset","shadowScale","createSlideShadows","shadowBefore","shadowAfter","$cubeShadowEl","wrapperRotate","slideAngle","tz","shadowAngle","sin","scale1","scale2","zFactor","createShadow","shadowClass","$shadowContainer","$shadowEl","EffectFlip","flipEffect","limitRotation","rotateY","rotateX","EffectCoverflow","coverflowEffect","rotate","stretch","depth","modifier","center","centerOffset","offsetMultiplier","translateZ","slideTransform","$shadowBeforeEl","$shadowAfterEl","EffectCreative","creativeEffect","limitProgress","shadowPerProgress","progressMultiplier","getTranslateValue","isCenteredSlides","r","custom","translateString","rotateString","scaleString","opacityString","shadowOpacity","EffectCards","cardsEffect","tX","tY","tZ","tXAdd","isSwipeToNext","isSwipeToPrev","subProgress","prevY","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","d","definition","Symbol","toStringTag"],"sourceRoot":""}